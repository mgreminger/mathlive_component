window.mathlive_component=function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=53)}([function(e,t){e.exports=window.React},function(e,t){e.exports=window.PropTypes},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var a=(o=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(l," */")),r=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(r).concat([a]).join("\n")}var o,n,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,s){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(s)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(a[o]=!0)}for(var n=0;n<e.length;n++){var l=[].concat(e[n]);s&&a[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){var s,a,r={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=s.apply(this,arguments)),a}),n=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var s=n.call(this,e,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}}(),c=null,h=0,d=[],m=i(8);function p(e,t){for(var i=0;i<e.length;i++){var s=e[i],a=r[s.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](s.parts[o]);for(;o<s.parts.length;o++)a.parts.push(v(s.parts[o],t))}else{var n=[];for(o=0;o<s.parts.length;o++)n.push(v(s.parts[o],t));r[s.id]={id:s.id,refs:1,parts:n}}}}function u(e,t){for(var i=[],s={},a=0;a<e.length;a++){var r=e[a],o=t.base?r[0]+t.base:r[0],n={css:r[1],media:r[2],sourceMap:r[3]};s[o]?s[o].parts.push(n):i.push(s[o]={id:o,parts:[n]})}return i}function f(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=d[d.length-1];if("top"===e.insertAt)s?s.nextSibling?i.insertBefore(t,s.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),d.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=l(e.insertAt.before,i);i.insertBefore(t,a)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function y(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var s=function(){0;return i.nc}();s&&(e.attrs.nonce=s)}return b(t,e.attrs),f(e,t),t}function b(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function v(e,t){var i,s,a,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var o=h++;i=c||(c=y(t)),s=_.bind(null,i,o,!1),a=_.bind(null,i,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),f(e,t),t}(t),s=M.bind(null,i,t),a=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=y(t),s=w.bind(null,i),a=function(){g(i)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=u(e,t);return p(i,t),function(e){for(var s=[],a=0;a<i.length;a++){var o=i[a];(n=r[o.id]).refs--,s.push(n)}e&&p(u(e,t),t);for(a=0;a<s.length;a++){var n;if(0===(n=s[a]).refs){for(var l=0;l<n.parts.length;l++)n.parts[l]();delete r[n.id]}}}};var x,k=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function _(e,t,i,s){var a=i?"":s.css;if(e.styleSheet)e.styleSheet.cssText=k(t,a);else{var r=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function w(e,t){var i=t.css,s=t.media;if(s&&e.setAttribute("media",s),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function M(e,t,i){var s=i.css,a=i.sourceMap,r=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||r)&&(s=m(s)),a&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([s],{type:"text/css"}),n=e.href;e.href=URL.createObjectURL(o),n&&URL.revokeObjectURL(n)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(5);t.MathFieldComponent=s.MathFieldComponent},function(e,t,i){"use strict";var s,a=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),i(6),i(9);var o=i(0),n=i(52);function l(e){var t=r({},e.mathFieldConfig),i=e.onChange;if(i)if(e.mathFieldConfig&&e.mathFieldConfig.onContentDidChange){var s=e.mathFieldConfig.onContentDidChange;t.onContentDidChange=function(e){i(e.$latex()),s(e)}}else t.onContentDidChange=function(e){return i(e.$latex())};return t}t.combineConfig=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.insertElement=null,t.combinedConfiguration=l(t.props),t}return a(t,e),t.prototype.componentDidUpdate=function(e){if(!this.mathField)throw new Error("Component was not correctly initialized.");this.props;if(void 0!==e.latex){if(void 0===this.props.latex)throw new Error("Cannot change from controlled to uncontrolled state!");this.props.latex!==e.latex&&(""===this.props.latex?this.mathField.$perform("deleteAll"):this.mathField.$latex(this.props.latex,{suppressChangeNotifications:!0}))}},t.prototype.render=function(){var e=this;return o.createElement("div",{ref:function(t){return e.insertElement=t}})},t.prototype.componentDidMount=function(){var e;if(!this.insertElement)throw new Error("React did apparently not mount the insert point correctly.");var t=null!=(e=this.props.initialLatex)?e:this.props.latex;this.mathField=n.makeMathField(this.insertElement,this.combinedConfiguration),this.mathField.$latex(t,{suppressChangeNotifications:!0}),this.props.mathFieldRef&&this.props.mathFieldRef(this.mathField)},t}(o.Component);t.MathFieldComponent=c},function(e,t,i){var s=i(7);"string"==typeof s&&(s=[[e.i,s,""]]);var a={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,a);s.locals&&(e.exports=s.locals)},function(e,t,i){(t=i(2)(!1)).push([e.i,'.ML__mathlive{line-height:0;direction:ltr;text-align:left;text-indent:0;text-rendering:auto;font-style:normal;font-size-adjust:none;letter-spacing:normal;word-wrap:normal;word-spacing:normal;white-space:nowrap;display:inline-block;text-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:-webkit-min-content;width:-moz-min-content;width:min-content;transform:translateZ(0)}.ML__base{display:inline-block;position:relative;cursor:text}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:1em}.ML__caret:after{content:"";border:none;border-radius:2px;border-right:2px solid var(--caret);margin-right:-2px;position:relative;left:-1px;-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards}.ML__text-caret:after{content:"";border:none;border-radius:1px;border-right:1px solid var(--caret);margin-right:-1px;position:relative;left:0;-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards}.ML__command-caret:after{content:"_";border:none;margin-right:-1ex;position:relative;color:var(--caret);-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards}.ML__text{white-space:pre}.ML__focused .ML__text{background:hsla(var(--hue),40%,50%,.1)}@-webkit-keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__textarea__textarea{transform:scale(0);resize:none;position:absolute;clip:rect(0 0 0 0);width:1px;height:1px;font-size:16px}.ML__fieldcontainer{display:flex;flex-flow:row;justify-content:space-between;align-items:flex-end;min-height:39px;touch-action:none;width:100%;--hue:212;--highlight:hsl(var(--hue),97%,85%);--caret:hsl(var(--hue),40%,49%);--highlight-inactive:#ccc;--primary:hsl(var(--hue),40%,50%);--secondary:hsl(var(--hue),19%,26%);--on-secondary:hsl(var(--hue),19%,26%)}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__fieldcontainer{--highlight:hsl(var(--hue),40%,49%);--highlight-inactive:hsl(var(--hue),10%,35%);--caret:hsl(var(--hue),97%,85%);--secondary:hsl(var(--hue),25%,35%);--on-secondary:#fafafa}}body[theme=dark] .ML__fieldcontainer{--highlight:hsl(var(--hue),40%,49%);--highlight-inactive:hsl(var(--hue),10%,35%);--caret:hsl(var(--hue),97%,85%);--secondary:hsl(var(--hue),25%,35%);--on-secondary:#fafafa}.ML__fieldcontainer:focus{outline:2px solid var(--primary);outline-offset:3px}.ML__fieldcontainer__field{align-self:center;position:relative;overflow:hidden;line-height:0;padding:2px;width:100%}.ML__virtual-keyboard-toggle{display:flex;align-self:center;align-items:center;flex-shrink:0;flex-direction:column;justify-content:center;width:34px;height:34px;padding:0;margin-right:4px;cursor:pointer;box-sizing:border-box;border-radius:50%;border:1px solid transparent;transition:background .2s cubic-bezier(.64,.09,.08,1);color:var(--primary);fill:currentColor;background:transparent}.ML__virtual-keyboard-toggle:hover{background:hsl(var(--hue),25%,35%);color:#fafafa;fill:currentColor;border-radius:50%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)}.ML__popover{visibility:hidden;min-width:160px;background-color:rgba(97,97,97,.95);color:#fff;text-align:center;border-radius:6px;position:fixed;z-index:1;display:flex;flex-direction:column;justify-content:center;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:all .2s cubic-bezier(.64,.09,.08,1)}.ML__popover:after{content:"";position:absolute;top:-5px;left:calc(50% - 3px);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;font-size:1rem;border-bottom:5px solid rgba(97,97,97,.9)}.reverse-direction:after{top:auto;bottom:-5px;border-top:5px solid rgba(97,97,97,.9);border-bottom:0}',""]),e.exports=t},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,s=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(a=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,i){var s=i(10);"string"==typeof s&&(s=[[e.i,s,""]]);var a={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,a);s.locals&&(e.exports=s.locals)},function(e,t,i){var s=i(2),a=i(11),r=i(12),o=i(13),n=i(14),l=i(15),c=i(16),h=i(17),d=i(18),m=i(19),p=i(20),u=i(21),f=i(22),g=i(23),y=i(24),b=i(25),v=i(26),x=i(27),k=i(28),_=i(29),w=i(30),M=i(31),z=i(32),S=i(33),L=i(34),A=i(35),C=i(36),T=i(37),F=i(38),D=i(39),q=i(40),$=i(41),P=i(42),K=i(43),E=i(44),O=i(45),B=i(46),R=i(47),I=i(48),N=i(49),H=i(50),W=i(51);t=s(!1);var j=a(r),U=a(o),V=a(n),X=a(l),G=a(c),Z=a(h),Y=a(d),J=a(m),Q=a(p),ee=a(u),te=a(f),ie=a(g),se=a(y),ae=a(b),re=a(v),oe=a(x),ne=a(k),le=a(_),ce=a(w),he=a(M),de=a(z),me=a(S),pe=a(L),ue=a(A),fe=a(C),ge=a(T),ye=a(F),be=a(D),ve=a(q),xe=a($),ke=a(P),_e=a(K),we=a(E),Me=a(O),ze=a(B),Se=a(R),Le=a(I),Ae=a(N),Ce=a(H),Te=a(W);t.push([e.i,"@font-face{font-family:KaTeX_AMS;src:url("+j+') format("woff2"),url('+U+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Caligraphic;src:url('+V+') format("woff2"),url('+X+') format("woff");font-weight:700;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Caligraphic;src:url('+G+') format("woff2"),url('+Z+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Fraktur;src:url('+Y+') format("woff2"),url('+J+') format("woff");font-weight:700;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Fraktur;src:url('+Q+') format("woff2"),url('+ee+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Main;src:url('+te+') format("woff2"),url('+ie+') format("woff");font-weight:700;font-style:italic;font-display:"swap"}@font-face{font-family:KaTeX_Main;src:url('+se+') format("woff2"),url('+ae+') format("woff");font-weight:700;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Main;src:url('+re+') format("woff2"),url('+oe+') format("woff");font-weight:400;font-style:italic;font-display:"swap"}@font-face{font-family:KaTeX_Math;src:url('+ne+') format("woff2"),url('+le+') format("woff");font-weight:700;font-style:italic;font-display:"swap"}@font-face{font-family:"KaTeX_SansSerif";src:url('+ce+') format("woff2"),url('+he+') format("woff");font-weight:700;font-style:normal;font-display:"swap"}@font-face{font-family:"KaTeX_SansSerif";src:url('+de+') format("woff2"),url('+me+') format("woff");font-weight:400;font-style:italic;font-display:"swap"}@font-face{font-family:"KaTeX_SansSerif";src:url('+pe+') format("woff2"),url('+ue+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Script;src:url('+fe+') format("woff2"),url('+ge+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Size1;src:url('+ye+') format("woff2"),url('+be+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Size2;src:url('+ve+') format("woff2"),url('+xe+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Size3;src:url('+ke+') format("woff2"),url('+_e+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Size4;src:url('+we+') format("woff2"),url('+Me+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Typewriter;src:url('+ze+') format("woff2"),url('+Se+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Main;src:url('+Le+') format("woff2"),url('+Ae+') format("woff");font-weight:400;font-style:normal;font-display:"swap"}@font-face{font-family:KaTeX_Math;src:url('+Ce+') format("woff2"),url('+Te+') format("woff");font-weight:400;font-style:italic;font-display:"swap"}.sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathrm{font-family:KaTeX_Main;font-style:normal}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.ML__mathbfit{font-family:KaTeX_Math;font-weight:700;font-style:italic}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__mainit{font-family:KaTeX_Main;font-style:italic}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__mathlive .highlight{color:#007cb2;background:#edd1b0}.ML__mathlive .reset-textstyle.scriptstyle{font-size:.7em}.ML__mathlive .reset-textstyle.scriptscriptstyle{font-size:.5em}.ML__mathlive .reset-scriptstyle.textstyle{font-size:1.42857em}.ML__mathlive .reset-scriptstyle.scriptscriptstyle{font-size:.71429em}.ML__mathlive .reset-scriptscriptstyle.textstyle{font-size:2em}.ML__mathlive .reset-scriptscriptstyle.scriptstyle{font-size:1.4em}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .vlist{display:inline-block}.ML__mathlive .vlist>span{display:block;height:0;position:relative;line-height:0}.ML__mathlive .vlist>span>span{display:inline-block}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .mfrac>span{text-align:center}.ML__mathlive .mfrac .frac-line{width:100%}.ML__mathlive .mfrac .frac-line:after{content:"";display:block;margin-top:-.04em;border-bottom-style:solid;border-bottom-width:.04em;min-height:.04em;box-sizing:content-box}.ML__mathlive .rspace.negativethinspace{margin-right:-.16667em}.ML__mathlive .rspace.thinspace{margin-right:.16667em}.ML__mathlive .rspace.negativemediumspace{margin-right:-.22222em}.ML__mathlive .rspace.mediumspace{margin-right:.22222em}.ML__mathlive .rspace.thickspace{margin-right:.27778em}.ML__mathlive .rspace.sixmuspace{margin-right:.333333em}.ML__mathlive .rspace.eightmuspace{margin-right:.444444em}.ML__mathlive .rspace.enspace{margin-right:.5em}.ML__mathlive .rspace.twelvemuspace{margin-right:.666667em}.ML__mathlive .rspace.quad{margin-right:1em}.ML__mathlive .rspace.qquad{margin-right:2em}.ML__mathlive .mspace{display:inline-block}.ML__mathlive .mspace.negativethinspace{margin-left:-.16667em}.ML__mathlive .mspace.thinspace{width:.16667em}.ML__mathlive .mspace.negativemediumspace{margin-left:-.22222em}.ML__mathlive .mspace.mediumspace{width:.22222em}.ML__mathlive .mspace.thickspace{width:.27778em}.ML__mathlive .mspace.sixmuspace{width:.333333em}.ML__mathlive .mspace.eightmuspace{width:.444444em}.ML__mathlive .mspace.enspace{width:.5em}.ML__mathlive .mspace.twelvemuspace{width:.666667em}.ML__mathlive .mspace.quad{width:1em}.ML__mathlive .mspace.qquad{width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{width:0;position:relative}.ML__mathlive .llap>.inner,.ML__mathlive .rlap>.inner{position:absolute}.ML__mathlive .llap>.fix,.ML__mathlive .rlap>.fix{display:inline-block}.ML__mathlive .llap>.inner{right:0}.ML__mathlive .rlap>.inner{left:0}.ML__mathlive .rule{display:inline-block;border:0 solid;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;min-height:thin;content:"";display:block;margin-top:-1px}.ML__mathlive .stretchy{width:100%;display:block;position:absolute;left:0;overflow:hidden}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;position:absolute;width:50.2%;overflow:hidden}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;position:absolute;left:0;width:25.1%;overflow:hidden}.ML__mathlive .slice-2-of-3{display:inline-flex;position:absolute;left:25%;width:50%;overflow:hidden}.ML__mathlive .slice-3-of-3{display:inline-flex;position:absolute;right:0;width:25.1%;overflow:hidden}.ML__mathlive .slice-1-of-1{display:inline-flex;position:absolute;width:100%;left:0;overflow:hidden}.ML__mathlive .sqrt{display:inline-block}.ML__mathlive .sqrt>.sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__mathlive .sqrt .sqrt-line{height:.04em;width:100%}.ML__mathlive .sqrt .sqrt-line:before{content:"";display:block;margin-top:-.04em;border-bottom-style:solid;border-bottom-width:.04em;min-height:.5px}.ML__mathlive .sqrt .sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__mathlive .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.ML__mathlive .fontsize-ensurer,.ML__mathlive .sizing{display:inline-block}.ML__mathlive .fontsize-ensurer.reset-size1.size1,.ML__mathlive .sizing.reset-size1.size1{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size1.size2,.ML__mathlive .sizing.reset-size1.size2{font-size:1.4em}.ML__mathlive .fontsize-ensurer.reset-size1.size3,.ML__mathlive .sizing.reset-size1.size3{font-size:1.6em}.ML__mathlive .fontsize-ensurer.reset-size1.size4,.ML__mathlive .sizing.reset-size1.size4{font-size:1.8em}.ML__mathlive .fontsize-ensurer.reset-size1.size5,.ML__mathlive .sizing.reset-size1.size5{font-size:2em}.ML__mathlive .fontsize-ensurer.reset-size1.size6,.ML__mathlive .sizing.reset-size1.size6{font-size:2.4em}.ML__mathlive .fontsize-ensurer.reset-size1.size7,.ML__mathlive .sizing.reset-size1.size7{font-size:2.88em}.ML__mathlive .fontsize-ensurer.reset-size1.size8,.ML__mathlive .sizing.reset-size1.size8{font-size:3.46em}.ML__mathlive .fontsize-ensurer.reset-size1.size9,.ML__mathlive .sizing.reset-size1.size9{font-size:4.14em}.ML__mathlive .fontsize-ensurer.reset-size1.size10,.ML__mathlive .sizing.reset-size1.size10{font-size:4.98em}.ML__mathlive .fontsize-ensurer.reset-size2.size1,.ML__mathlive .sizing.reset-size2.size1{font-size:.71428571em}.ML__mathlive .fontsize-ensurer.reset-size2.size2,.ML__mathlive .sizing.reset-size2.size2{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size2.size3,.ML__mathlive .sizing.reset-size2.size3{font-size:1.14285714em}.ML__mathlive .fontsize-ensurer.reset-size2.size4,.ML__mathlive .sizing.reset-size2.size4{font-size:1.28571429em}.ML__mathlive .fontsize-ensurer.reset-size2.size5,.ML__mathlive .sizing.reset-size2.size5{font-size:1.42857143em}.ML__mathlive .fontsize-ensurer.reset-size2.size6,.ML__mathlive .sizing.reset-size2.size6{font-size:1.71428571em}.ML__mathlive .fontsize-ensurer.reset-size2.size7,.ML__mathlive .sizing.reset-size2.size7{font-size:2.05714286em}.ML__mathlive .fontsize-ensurer.reset-size2.size8,.ML__mathlive .sizing.reset-size2.size8{font-size:2.47142857em}.ML__mathlive .fontsize-ensurer.reset-size2.size9,.ML__mathlive .sizing.reset-size2.size9{font-size:2.95714286em}.ML__mathlive .fontsize-ensurer.reset-size2.size10,.ML__mathlive .sizing.reset-size2.size10{font-size:3.55714286em}.ML__mathlive .fontsize-ensurer.reset-size3.size1,.ML__mathlive .sizing.reset-size3.size1{font-size:.625em}.ML__mathlive .fontsize-ensurer.reset-size3.size2,.ML__mathlive .sizing.reset-size3.size2{font-size:.875em}.ML__mathlive .fontsize-ensurer.reset-size3.size3,.ML__mathlive .sizing.reset-size3.size3{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size3.size4,.ML__mathlive .sizing.reset-size3.size4{font-size:1.125em}.ML__mathlive .fontsize-ensurer.reset-size3.size5,.ML__mathlive .sizing.reset-size3.size5{font-size:1.25em}.ML__mathlive .fontsize-ensurer.reset-size3.size6,.ML__mathlive .sizing.reset-size3.size6{font-size:1.5em}.ML__mathlive .fontsize-ensurer.reset-size3.size7,.ML__mathlive .sizing.reset-size3.size7{font-size:1.8em}.ML__mathlive .fontsize-ensurer.reset-size3.size8,.ML__mathlive .sizing.reset-size3.size8{font-size:2.1625em}.ML__mathlive .fontsize-ensurer.reset-size3.size9,.ML__mathlive .sizing.reset-size3.size9{font-size:2.5875em}.ML__mathlive .fontsize-ensurer.reset-size3.size10,.ML__mathlive .sizing.reset-size3.size10{font-size:3.1125em}.ML__mathlive .fontsize-ensurer.reset-size4.size1,.ML__mathlive .sizing.reset-size4.size1{font-size:.55555556em}.ML__mathlive .fontsize-ensurer.reset-size4.size2,.ML__mathlive .sizing.reset-size4.size2{font-size:.77777778em}.ML__mathlive .fontsize-ensurer.reset-size4.size3,.ML__mathlive .sizing.reset-size4.size3{font-size:.88888889em}.ML__mathlive .fontsize-ensurer.reset-size4.size4,.ML__mathlive .sizing.reset-size4.size4{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size4.size5,.ML__mathlive .sizing.reset-size4.size5{font-size:1.11111111em}.ML__mathlive .fontsize-ensurer.reset-size4.size6,.ML__mathlive .sizing.reset-size4.size6{font-size:1.33333333em}.ML__mathlive .fontsize-ensurer.reset-size4.size7,.ML__mathlive .sizing.reset-size4.size7{font-size:1.6em}.ML__mathlive .fontsize-ensurer.reset-size4.size8,.ML__mathlive .sizing.reset-size4.size8{font-size:1.92222222em}.ML__mathlive .fontsize-ensurer.reset-size4.size9,.ML__mathlive .sizing.reset-size4.size9{font-size:2.3em}.ML__mathlive .fontsize-ensurer.reset-size4.size10,.ML__mathlive .sizing.reset-size4.size10{font-size:2.76666667em}.ML__mathlive .fontsize-ensurer.reset-size5.size1,.ML__mathlive .sizing.reset-size5.size1{font-size:.5em}.ML__mathlive .fontsize-ensurer.reset-size5.size2,.ML__mathlive .sizing.reset-size5.size2{font-size:.7em}.ML__mathlive .fontsize-ensurer.reset-size5.size3,.ML__mathlive .sizing.reset-size5.size3{font-size:.8em}.ML__mathlive .fontsize-ensurer.reset-size5.size4,.ML__mathlive .sizing.reset-size5.size4{font-size:.9em}.ML__mathlive .fontsize-ensurer.reset-size5.size5,.ML__mathlive .sizing.reset-size5.size5{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size5.size6,.ML__mathlive .sizing.reset-size5.size6{font-size:1.2em}.ML__mathlive .fontsize-ensurer.reset-size5.size7,.ML__mathlive .sizing.reset-size5.size7{font-size:1.44em}.ML__mathlive .fontsize-ensurer.reset-size5.size8,.ML__mathlive .sizing.reset-size5.size8{font-size:1.73em}.ML__mathlive .fontsize-ensurer.reset-size5.size9,.ML__mathlive .sizing.reset-size5.size9{font-size:2.07em}.ML__mathlive .fontsize-ensurer.reset-size5.size10,.ML__mathlive .sizing.reset-size5.size10{font-size:2.49em}.ML__mathlive .fontsize-ensurer.reset-size6.size1,.ML__mathlive .sizing.reset-size6.size1{font-size:.41666667em}.ML__mathlive .fontsize-ensurer.reset-size6.size2,.ML__mathlive .sizing.reset-size6.size2{font-size:.58333333em}.ML__mathlive .fontsize-ensurer.reset-size6.size3,.ML__mathlive .sizing.reset-size6.size3{font-size:.66666667em}.ML__mathlive .fontsize-ensurer.reset-size6.size4,.ML__mathlive .sizing.reset-size6.size4{font-size:.75em}.ML__mathlive .fontsize-ensurer.reset-size6.size5,.ML__mathlive .sizing.reset-size6.size5{font-size:.83333333em}.ML__mathlive .fontsize-ensurer.reset-size6.size6,.ML__mathlive .sizing.reset-size6.size6{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size6.size7,.ML__mathlive .sizing.reset-size6.size7{font-size:1.2em}.ML__mathlive .fontsize-ensurer.reset-size6.size8,.ML__mathlive .sizing.reset-size6.size8{font-size:1.44166667em}.ML__mathlive .fontsize-ensurer.reset-size6.size9,.ML__mathlive .sizing.reset-size6.size9{font-size:1.725em}.ML__mathlive .fontsize-ensurer.reset-size6.size10,.ML__mathlive .sizing.reset-size6.size10{font-size:2.075em}.ML__mathlive .fontsize-ensurer.reset-size7.size1,.ML__mathlive .sizing.reset-size7.size1{font-size:.34722222em}.ML__mathlive .fontsize-ensurer.reset-size7.size2,.ML__mathlive .sizing.reset-size7.size2{font-size:.48611111em}.ML__mathlive .fontsize-ensurer.reset-size7.size3,.ML__mathlive .sizing.reset-size7.size3{font-size:.55555556em}.ML__mathlive .fontsize-ensurer.reset-size7.size4,.ML__mathlive .sizing.reset-size7.size4{font-size:.625em}.ML__mathlive .fontsize-ensurer.reset-size7.size5,.ML__mathlive .sizing.reset-size7.size5{font-size:.69444444em}.ML__mathlive .fontsize-ensurer.reset-size7.size6,.ML__mathlive .sizing.reset-size7.size6{font-size:.83333333em}.ML__mathlive .fontsize-ensurer.reset-size7.size7,.ML__mathlive .sizing.reset-size7.size7{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size7.size8,.ML__mathlive .sizing.reset-size7.size8{font-size:1.20138889em}.ML__mathlive .fontsize-ensurer.reset-size7.size9,.ML__mathlive .sizing.reset-size7.size9{font-size:1.4375em}.ML__mathlive .fontsize-ensurer.reset-size7.size10,.ML__mathlive .sizing.reset-size7.size10{font-size:1.72916667em}.ML__mathlive .fontsize-ensurer.reset-size8.size1,.ML__mathlive .sizing.reset-size8.size1{font-size:.28901734em}.ML__mathlive .fontsize-ensurer.reset-size8.size2,.ML__mathlive .sizing.reset-size8.size2{font-size:.40462428em}.ML__mathlive .fontsize-ensurer.reset-size8.size3,.ML__mathlive .sizing.reset-size8.size3{font-size:.46242775em}.ML__mathlive .fontsize-ensurer.reset-size8.size4,.ML__mathlive .sizing.reset-size8.size4{font-size:.52023121em}.ML__mathlive .fontsize-ensurer.reset-size8.size5,.ML__mathlive .sizing.reset-size8.size5{font-size:.57803468em}.ML__mathlive .fontsize-ensurer.reset-size8.size6,.ML__mathlive .sizing.reset-size8.size6{font-size:.69364162em}.ML__mathlive .fontsize-ensurer.reset-size8.size7,.ML__mathlive .sizing.reset-size8.size7{font-size:.83236994em}.ML__mathlive .fontsize-ensurer.reset-size8.size8,.ML__mathlive .sizing.reset-size8.size8{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size8.size9,.ML__mathlive .sizing.reset-size8.size9{font-size:1.19653179em}.ML__mathlive .fontsize-ensurer.reset-size8.size10,.ML__mathlive .sizing.reset-size8.size10{font-size:1.43930636em}.ML__mathlive .fontsize-ensurer.reset-size9.size1,.ML__mathlive .sizing.reset-size9.size1{font-size:.24154589em}.ML__mathlive .fontsize-ensurer.reset-size9.size2,.ML__mathlive .sizing.reset-size9.size2{font-size:.33816425em}.ML__mathlive .fontsize-ensurer.reset-size9.size3,.ML__mathlive .sizing.reset-size9.size3{font-size:.38647343em}.ML__mathlive .fontsize-ensurer.reset-size9.size4,.ML__mathlive .sizing.reset-size9.size4{font-size:.43478261em}.ML__mathlive .fontsize-ensurer.reset-size9.size5,.ML__mathlive .sizing.reset-size9.size5{font-size:.48309179em}.ML__mathlive .fontsize-ensurer.reset-size9.size6,.ML__mathlive .sizing.reset-size9.size6{font-size:.57971014em}.ML__mathlive .fontsize-ensurer.reset-size9.size7,.ML__mathlive .sizing.reset-size9.size7{font-size:.69565217em}.ML__mathlive .fontsize-ensurer.reset-size9.size8,.ML__mathlive .sizing.reset-size9.size8{font-size:.83574879em}.ML__mathlive .fontsize-ensurer.reset-size9.size9,.ML__mathlive .sizing.reset-size9.size9{font-size:1em}.ML__mathlive .fontsize-ensurer.reset-size9.size10,.ML__mathlive .sizing.reset-size9.size10{font-size:1.20289855em}.ML__mathlive .fontsize-ensurer.reset-size10.size1,.ML__mathlive .sizing.reset-size10.size1{font-size:.20080321em}.ML__mathlive .fontsize-ensurer.reset-size10.size2,.ML__mathlive .sizing.reset-size10.size2{font-size:.2811245em}.ML__mathlive .fontsize-ensurer.reset-size10.size3,.ML__mathlive .sizing.reset-size10.size3{font-size:.32128514em}.ML__mathlive .fontsize-ensurer.reset-size10.size4,.ML__mathlive .sizing.reset-size10.size4{font-size:.36144578em}.ML__mathlive .fontsize-ensurer.reset-size10.size5,.ML__mathlive .sizing.reset-size10.size5{font-size:.40160643em}.ML__mathlive .fontsize-ensurer.reset-size10.size6,.ML__mathlive .sizing.reset-size10.size6{font-size:.48192771em}.ML__mathlive .fontsize-ensurer.reset-size10.size7,.ML__mathlive .sizing.reset-size10.size7{font-size:.57831325em}.ML__mathlive .fontsize-ensurer.reset-size10.size8,.ML__mathlive .sizing.reset-size10.size8{font-size:.69477912em}.ML__mathlive .fontsize-ensurer.reset-size10.size9,.ML__mathlive .sizing.reset-size10.size9{font-size:.8313253em}.ML__mathlive .fontsize-ensurer.reset-size10.size10,.ML__mathlive .sizing.reset-size10.size10{font-size:1em}.ML__mathlive .delimsizing.size1{font-family:KaTeX_Size1}.ML__mathlive .delimsizing.size2{font-family:KaTeX_Size2}.ML__mathlive .delimsizing.size3{font-family:KaTeX_Size3}.ML__mathlive .delimsizing.size4{font-family:KaTeX_Size4}.ML__mathlive .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1;vertical-align:top}.ML__mathlive .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4;vertical-align:top}.ML__mathlive .nulldelimiter{width:.12em}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .op-limits .vlist>span{text-align:center}.ML__mathlive .op-over-under>.vlist>span:first-child,.ML__mathlive .op-over-under>.vlist>span:last-child{text-align:center}.ML__mathlive .accent>.vlist>span{text-align:center}.ML__mathlive .accent .accent-body>span{width:0}.ML__mathlive .accent .accent-body.accent-vec>span{position:relative;left:.326em}.ML__mathlive .mtable .vertical-separator{display:inline-block;margin:0 -.025em;border-right:.05em solid #000}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-c>.vlist{text-align:center}.ML__mathlive .mtable .col-align-l>.vlist{text-align:left}.ML__mathlive .mtable .col-align-r>.vlist{text-align:right}.ML__selection{background:var(--highlight-inactive);box-sizing:border-box}.ML__focused .ML__selection{background:var(--highlight)!important;color:var(--on-highlight)}.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret>.ML__close,.ML__contains-caret>.ML__open,.sqrt.ML__contains-caret>.sqrt-sign,.sqrt.ML__contains-caret>.vlist>span>.sqrt-line{color:var(--caret)}.ML__command{font-family:Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;letter-spacing:-1px;font-weight:400;color:var(--primary)}:not(.ML__command)+.ML__command{margin-left:.25em}.ML__command+:not(.ML__command){padding-left:.25em}.ML__smart-fence__close{opacity:.5}.ML__keystroke-caption{visibility:hidden;background:var(--secondary);border-color:var(--secondary-border);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);text-align:center;border-radius:6px;padding:16px;position:absolute;z-index:1;display:flex;flex-direction:row;justify-content:center;--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keystroke-caption{--keystroke:hsl(var(--hue),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue),50%,25%)}}body[theme=dark] .ML__keystroke-caption{--keystroke:hsl(var(--hue),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue),50%,25%)}[data-tooltip]{position:relative}[data-tooltip][data-placement=top]:after{top:inherit;bottom:100%}[data-tooltip]:after{position:absolute;visibility:hidden;content:attr(data-tooltip);display:inline-table;top:110%;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:200px;padding:8px;background:#616161;color:#fff;text-align:center;z-index:2;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);border-radius:2px;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;font-size:12px;opacity:0;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1)}@media only screen and (max-width:767px){[data-tooltip]:after{height:32px;padding:4px 16px;font-size:14px}}[data-tooltip]:hover{position:relative}[data-tooltip]:hover:after{visibility:visible;opacity:1;transform:scale(1)}[data-tooltip][data-delay]:after{transition-delay:0s}[data-tooltip][data-delay]:hover:after{transition-delay:1s}.can-redo [data-command=redo]{opacity:1!important}.can-undo [data-command=undo]{opacity:1!important}.ML__keyboard{--keyboard-background:rgba(209,213,217,0.95);--keyboard-text:#000;--keyboard-text-active:var(--primary);--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:#e5e5e5;--keyboard-alternate-text:#000;position:fixed;left:0;bottom:-267px;width:100vw;z-index:105;padding-top:5px;transform:translate(0);opacity:0;visibility:hidden;transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;margin:0;text-shadow:none;box-sizing:border-box;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.ML__keyboard.is-visible{transform:translateY(-267px);opacity:1;visibility:visible;transition-timing-function:cubic-bezier(.4,0,1,1)}.ML__keyboard .tex{font-family:KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .tt{font-family:Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:30px;font-weight:400}.ML__keyboard.alternate-keys{visibility:hidden;max-width:286px;background-color:var(--keyboard-alternate-background);text-align:center;border-radius:6px;position:fixed;bottom:auto;top:0;box-sizing:content-box;transform:none;z-index:106;display:flex;flex-direction:row;justify-content:center;align-content:center;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:none}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys ul{list-style:none;margin:3px;padding:0;display:flex;flex-flow:row wrap-reverse;justify-content:center}.ML__keyboard.alternate-keys ul>li{display:flex;flex-flow:column;align-items:center;justify-content:center;font-size:30px;height:70px;width:70px;box-sizing:border-box;margin:0;background:transparent;border:1px solid transparent;border-radius:5px;pointer-events:all;color:var(--keyboard-alternate-text);fill:currentColor}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul>li{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul>li.active,.ML__keyboard.alternate-keys ul>li.pressed,.ML__keyboard.alternate-keys ul>li:hover{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);background:var(--keyboard-alternate-background-active);color:var(--keyboard-text-active)}.ML__keyboard.alternate-keys ul>li.small{font-size:18px}.ML__keyboard.alternate-keys ul>li.small-button{width:42px;height:42px;margin:2px;background:#fbfbfb}.ML__keyboard.alternate-keys ul>li.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul>li.box>div,.ML__keyboard.alternate-keys ul>li.box>span{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul>li .warning{min-height:60px;min-width:60px;background:#cd0030;color:#fff;padding:5px;display:flex;align-items:center;justify-content:center;border-radius:5px}.ML__keyboard.alternate-keys ul>li .warning.active,.ML__keyboard.alternate-keys ul>li .warning.pressed,.ML__keyboard.alternate-keys ul>li .warning:hover{background:red}.ML__keyboard.alternate-keys ul>li .warning svg{width:50px;height:50px}.ML__keyboard.alternate-keys ul>li aside{font-size:12px;line-height:12px;opacity:.78}.ML__keyboard>div.keyboard-layer{display:none;outline:none}.ML__keyboard>div.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard>div>div.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard>div>div.keyboard-toolbar{width:556px}}@media only screen and (max-width:767px){.ML__keyboard>div>div.keyboard-toolbar{width:365px;max-width:100vw}}.ML__keyboard>div>div.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard>div>div.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard>div>div.keyboard-toolbar>.left{justify-content:flex-start;display:flex;flex-flow:row}.ML__keyboard>div>div.keyboard-toolbar>.right{justify-content:flex-end;display:flex;flex-flow:row}.ML__keyboard>div>div.keyboard-toolbar>div>div{display:flex;align-items:baseline;justify-content:center;pointer-events:all;color:var(--keyboard-text);fill:currentColor;background:0;font-size:110%;cursor:pointer;min-height:0;padding:4px 10px;margin:7px 4px 6px;box-shadow:none;border:none;border-bottom:2px solid transparent}.ML__keyboard>div>div.keyboard-toolbar>div>div.disabled.pressed svg,.ML__keyboard>div>div.keyboard-toolbar>div>div.disabled:hover svg,.ML__keyboard>div>div.keyboard-toolbar>div>div.disabled svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard>div>div.keyboard-toolbar>div>div{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard>div>div.keyboard-toolbar>div>div{padding-left:4px;padding-right:4px;font-size:90%}}.ML__keyboard>div>div.keyboard-toolbar>div>div.active,.ML__keyboard>div>div.keyboard-toolbar>div>div.pressed,.ML__keyboard>div>div.keyboard-toolbar>div>div:active,.ML__keyboard>div>div.keyboard-toolbar>div>div:hover{color:var(--keyboard-text-active)}.ML__keyboard>div>div.keyboard-toolbar>div>div.selected{color:var(--keyboard-text-active);border-bottom:2px solid var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard div .rows{border:0;border-collapse:separate;clear:both;margin:auto;display:flex;flex-flow:column;align-items:center}.ML__keyboard div .rows>ul{list-style:none;height:40px;margin:0 0 3px;padding:0}.ML__keyboard div .rows>ul>li{display:flex;flex-flow:column;align-items:center;justify-content:center;width:34px;margin-right:2px;height:40px;box-sizing:border-box;padding:8px 0;vertical-align:top;text-align:center;float:left;color:var(--keycap-text);fill:currentColor;font-size:20px;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;pointer-events:all;position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ML__keyboard div .rows>ul>li:last-child{margin-right:0}.ML__keyboard div .rows>ul>li.small{font-size:16px}.ML__keyboard div .rows>ul>li.tt{color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.bottom{justify-content:flex-end}.ML__keyboard div .rows>ul>li.left{align-items:flex-start;padding-left:4px}.ML__keyboard div .rows>ul>li.right{align-items:flex-end;padding-right:4px}.ML__keyboard div .rows>ul>li svg{width:20px;height:20px}.ML__keyboard div .rows>ul>li .warning{height:25px;width:25px;min-height:25px;min-width:25px;background:#cd0030;color:#fff;border-radius:100%;padding:5px;display:flex;align-items:center;justify-content:center;margin-bottom:-2px}.ML__keyboard div .rows>ul>li .warning svg{width:16px;height:16px}@media only screen and (max-width:768px){.ML__keyboard div .rows>ul>li .warning{height:16px;width:16px;min-height:16px;min-width:16px}.ML__keyboard div .rows>ul>li .warning svg{width:14px;height:14px}}.ML__keyboard div .rows>ul>li>.w0{width:0}.ML__keyboard div .rows>ul>li>.w5{width:16px}.ML__keyboard div .rows>ul>li>.w15{width:52px}.ML__keyboard div .rows>ul>li>.w20{width:70px}.ML__keyboard div .rows>ul>li>.w50{width:178px}.ML__keyboard div .rows>ul>li.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard div .rows>ul>li.if-wide{display:none}}.ML__keyboard div .rows>ul>li.tex-math{font-size:25px}.ML__keyboard div .rows>ul>li.pressed,.ML__keyboard div .rows>ul>li:hover{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.action.active,.ML__keyboard div .rows>ul>li.action:active,.ML__keyboard div .rows>ul>li.keycap.active,.ML__keyboard div .rows>ul>li.keycap:active{transform:translateY(-20px) scale(1.4);z-index:100;color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.modifier.active,.ML__keyboard div .rows>ul>li.modifier:active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard div .rows>ul>li.action.font-glyph,.ML__keyboard div .rows>ul>li.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li.action.font-glyph,.ML__keyboard div .rows>ul>li.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li.bigfnbutton,.ML__keyboard div .rows>ul>li.fnbutton{font-size:12px}}.ML__keyboard div .rows>ul>li.bigfnbutton{font-size:14px}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li.bigfnbutton{font-size:9px}}.ML__keyboard div .rows>ul>li.action,.ML__keyboard div .rows>ul>li.modifier{background-color:var(--keycap-modifier-background);border-bottom-color:var(--keycap-modifier-border);border-color:var(--keycap-modifier-border) var(--keycap-modifier-border) var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard div .rows>ul>li.action.selected,.ML__keyboard div .rows>ul>li.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard div .rows>ul>li.action.selected.active,.ML__keyboard div .rows>ul>li.action.selected.pressed,.ML__keyboard div .rows>ul>li.action.selected:active,.ML__keyboard div .rows>ul>li.action.selected:hover,.ML__keyboard div .rows>ul>li.modifier.selected.active,.ML__keyboard div .rows>ul>li.modifier.selected.pressed,.ML__keyboard div .rows>ul>li.modifier.selected:active,.ML__keyboard div .rows>ul>li.modifier.selected:hover{color:#fff}.ML__keyboard div .rows>ul>li.keycap.w50{font-size:80%;padding-top:10px;font-weight:100}.ML__keyboard div .rows>ul>li small{color:#555}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li small{font-size:9px}}.ML__keyboard div .rows>ul>li aside{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px;color:#666}@media only screen and (max-width:767px){.ML__keyboard div .rows>ul>li aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard div .rows>ul>li{width:29px;margin-right:2px}.ML__keyboard div .rows>ul>.w5{width:13.5px}.ML__keyboard div .rows>ul>.w15{width:44.5px}.ML__keyboard div .rows>ul>.w20{width:60px}.ML__keyboard div .rows>ul>.w50{width:153px}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard div .rows>ul>li{width:37px;margin-right:3px}.ML__keyboard div .rows>ul>.w5{width:17px}.ML__keyboard div .rows>ul>.w15{width:57px}.ML__keyboard div .rows>ul>.w20{width:77px}.ML__keyboard div .rows>ul>.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard div .rows>ul{height:52px}.ML__keyboard div .rows>ul>li{height:52px;width:51px;margin-right:4px}.ML__keyboard div .rows>ul>.w5{width:23.5px}.ML__keyboard div .rows>ul>.w15{width:78.5px}.ML__keyboard div .rows>ul>.w20{width:106px}.ML__keyboard div .rows>ul>.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard div .rows>ul{height:52px}.ML__keyboard div .rows>ul>li{height:52px;width:66px;margin-right:6px}.ML__keyboard div .rows>ul>.action,.ML__keyboard div .rows>ul>.modifier{font-size:80%}.ML__keyboard div .rows>ul>.w5{width:30px}.ML__keyboard div .rows>ul>.w15{width:102px}.ML__keyboard div .rows>ul>.w20{width:138px}.ML__keyboard div .rows>ul>.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,0.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.active,div.ML__keyboard.material.alternate-keys ul li.pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{border:1px solid transparent;background:#5f97fc;color:#fff;fill:currentColor}div.ML__keyboard.material .keyboard-toolbar>div>div{font-size:16px}div.ML__keyboard.material .keyboard-toolbar div.div.active,div.ML__keyboard.material .keyboard-toolbar div.div.pressed,div.ML__keyboard.material .keyboard-toolbar div div:active,div.ML__keyboard.material .keyboard-toolbar div div:hover{color:#5f97fc;fill:currentColor}div.ML__keyboard.material .keyboard-toolbar>div>.selected{color:#5f97fc;fill:currentColor;border-bottom:2px solid #5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material div>.rows>ul>.keycap{background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);fill:currentColor;transition:none}div.ML__keyboard.material div>.rows>ul>.keycap.tt{color:#5f97fc}div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "]{margin-top:10px;margin-bottom:10px;height:20px;background:#e0e0e0}div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "].active,div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "].pressed,div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "]:active,div.ML__keyboard.material div>.rows>ul>.keycap[data-key=" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):hover{border:1px solid transparent;background:var(--keycap-background-active);box-shadow:none}div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).active,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).pressed,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):active{background:var(--keyboard-alternate-background);color:var(--keyboard-alternate-text);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}@media only screen and (max-width:767px){div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).active,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).pressed,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;vertical-align:top;width:19.5px;margin-right:10px;margin-left:10px;transform:translateY(-20px) scale(2);transition:none;justify-content:flex-start;padding:2px 0 0;z-index:100}}@media only screen and (max-width:414px){div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).active,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]).pressed,div.ML__keyboard.material div>.rows>ul>.keycap:not([data-key=" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material div>.rows>ul>.keycap:last-child.active,div.ML__keyboard.material div>.rows>ul>.keycap:last-child:active{margin-right:0;margin-left:14px}}div.ML__keyboard.material div div.rows ul li.action,div.ML__keyboard.material div div.rows ul li.modifier{background:transparent;border:0;color:#869096;fill:currentColor;font-size:16px;transition:none}div.ML__keyboard.material div div.rows ul li.action.selected,div.ML__keyboard.material div div.rows ul li.modifier.selected{color:#5f97fc;border-radius:0;border-bottom:2px solid #5f97fc}div.ML__keyboard.material div div.rows ul li.action.active,div.ML__keyboard.material div div.rows ul li.action.pressed,div.ML__keyboard.material div div.rows ul li.action:active,div.ML__keyboard.material div div.rows ul li.action:hover,div.ML__keyboard.material div div.rows ul li.modifier.active,div.ML__keyboard.material div div.rows ul li.modifier.pressed,div.ML__keyboard.material div div.rows ul li.modifier:active,div.ML__keyboard.material div div.rows ul li.modifier:hover{border:0;color:var(--keycap-text);background:var(--keycap-background-active);box-shadow:none}div.ML__keyboard.material div div.rows ul li.bigfnbutton,div.ML__keyboard.material div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material div div.rows ul li.fnbutton.selected{color:#5f97fc;fill:currentColor;border-radius:0;border-bottom:2px solid #5f97fc}div.ML__keyboard.material div div.rows ul li.bigfnbutton.active,div.ML__keyboard.material div div.rows ul li.bigfnbutton.pressed,div.ML__keyboard.material div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material div div.rows ul li.fnbutton.active,div.ML__keyboard.material div div.rows ul li.fnbutton.pressed,div.ML__keyboard.material div div.rows ul li.fnbutton:active,div.ML__keyboard.material div div.rows ul li.fnbutton:hover{border:0;color:#5f97fc;fill:currentColor;background:var(--keycap-background-active);box-shadow:none}@media (prefers-color-scheme:dark){body:not([theme=light]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}.ML__error{background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-repeat:repeat-x;background-size:3px 3px;background-position:0 98%}.ML__suggestion{opacity:.5}.ML__placeholder{opacity:.7;padding-left:.5ex;padding-right:.5ex}.ML__keystroke-caption>span{min-width:14px;margin:0 8px 0 0;padding:4px;background-color:var(--keystroke);color:var(--on-keystroke);fill:currentColor;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;border-radius:6px;border:2px solid var(--keystroke-border)}.ML__virtual-keyboard-toggle.pressed{background:hsla(0,0%,70%,.5)}.ML__virtual-keyboard-toggle:focus{outline:none;border-radius:50%;border:2px solid var(--primary)}.ML__virtual-keyboard-toggle.active,.ML__virtual-keyboard-toggle.active:hover{background:hsla(0,0%,70%,.5);color:#000;fill:currentColor}div.ML__popover.is-visible{visibility:visible;-webkit-animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);animation:ML__fade-in .15s cubic-bezier(0,0,.2,1)}@-webkit-keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}.ML__popover__content{border-radius:6px;padding:2px;cursor:pointer;min-height:100px;display:flex;flex-direction:column;justify-content:center;margin-left:8px;margin-right:8px}.ML__popover__content a{color:#5ea6fd;padding-top:.3em;margin-top:.4em;display:block}.ML__popover__content a:hover{color:#5ea6fd;text-decoration:underline}.ML__popover__content.active,.ML__popover__content.pressed,.ML__popover__content:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-size:1.6rem}.ML__popover__prev-shortcut{height:31px;opacity:.1;cursor:pointer;margin-left:8px;margin-right:8px;padding-top:4px;padding-bottom:2px}.ML__popover__next-shortcut:hover,.ML__popover__prev-shortcut:hover{opacity:.3}.ML__popover__next-shortcut.active,.ML__popover__next-shortcut.pressed,.ML__popover__prev-shortcut.active,.ML__popover__prev-shortcut.pressed{opacity:1}.ML__popover__next-shortcut>span,.ML__popover__prev-shortcut>span{padding:5px;border-radius:50%;width:20px;height:20px;display:inline-block}.ML__popover__prev-shortcut>span>span{margin-top:-2px;display:block}.ML__popover__next-shortcut>span>span{margin-top:2px;display:block}.ML__popover__next-shortcut:hover>span,.ML__popover__prev-shortcut:hover>span{background:hsla(0,0%,100%,.1)}.ML__popover__next-shortcut{height:34px;opacity:.1;cursor:pointer;margin-left:8px;margin-right:8px;padding-top:2px;padding-bottom:4px}.ML__popover__shortcut{font-size:.8em;margin-top:.25em}.ML__popover__note,.ML__popover__shortcut{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:.7;padding-top:.25em}.ML__popover__note{font-size:.8rem;line-height:1em;padding-left:.5em;padding-right:.5em}.ML__shortcut-join{opacity:.5}.ML__scroller{position:fixed;z-index:1;top:0;height:100vh;width:200px}',""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_AMS-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_AMS-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Caligraphic-Bold.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Caligraphic-Bold.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Caligraphic-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Caligraphic-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Fraktur-Bold.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Fraktur-Bold.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Fraktur-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Fraktur-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-BoldItalic.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-BoldItalic.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-Bold.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-Bold.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-Italic.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-Italic.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Math-BoldItalic.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Math-BoldItalic.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_SansSerif-Bold.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_SansSerif-Bold.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_SansSerif-Italic.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_SansSerif-Italic.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_SansSerif-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_SansSerif-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Script-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Script-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size1-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size1-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size2-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size2-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size3-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size3-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size4-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Size4-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Typewriter-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Typewriter-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-Regular.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Main-Regular.woff!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Math-Italic.woff2!static"},function(e,t,i){"use strict";i.r(t),t.default=i.p+"fonts/KaTeX_Math-Italic.woff!static"},function(e,t,i){var s;s=function(){function e(e,t){t=t||0;const i=e.charCodeAt(t);if(55296<=i&&i<=56319&&t<e.length-1){const s=i,a=e.charCodeAt(t+1);return 56320<=a&&a<=57343?1024*(s-55296)+(a-56320)+65536:s}if(56320<=i&&i<=57343&&t>=1){const s=e.charCodeAt(t-1),a=i;return 55296<=s&&s<=56319?1024*(s-55296)+(a-56320)+65536:a}return i}function t(t,s){if((s=s||0)<0)return 0;if(s>=t.length-1)return t.length;let a=i(e(t,s));for(let n=s+1;n<t.length;n++){if(55296<=t.charCodeAt(n-1)&&t.charCodeAt(n-1)<=56319&&56320<=t.charCodeAt(n)&&t.charCodeAt(n)<=57343)continue;const s=i(e(t,n));if(o=s,!(11===(r=a)&&12===o||3===r&&11===o||11===r&&3===o||0===r&&1===o||2!==r&&0!==r&&1!==r&&2!==o&&0!==o&&1!==o&&(6===r&&(6===o||7===o||9===o||10===o)||!(9!==r&&7!==r||7!==o&&8!==o)||(10===r||8===r)&&8===o||4===r&&4===o||3===o||5===o)))return n;a=s}var r,o;return t.length}function i(e){return 13===e?0:10===e?1:0<=e&&e<=9||11<=e&&e<=12||14<=e&&e<=31||127<=e&&e<=159||173===e||1536<=e&&e<=1541||1564===e||1757===e||1807===e||6158===e||8203===e||8206<=e&&e<=8207||8232===e||8233===e||8234<=e&&e<=8238||8288<=e&&e<=8292||8293===e||8294<=e&&e<=8303||55296<=e&&e<=57343||65279===e||65520<=e&&e<=65528||65529<=e&&e<=65531||69821===e||113824<=e&&e<=113827||119155<=e&&e<=119162||917504===e||917505===e||917506<=e&&e<=917535||917536<=e&&e<=917631||917632<=e&&e<=917759||918e3<=e&&e<=921599?2:768<=e&&e<=879||1155<=e&&e<=1159||1160<=e&&e<=1161||1425<=e&&e<=1469||1471===e||1473<=e&&e<=1474||1476<=e&&e<=1477||1479===e||1552<=e&&e<=1562||1611<=e&&e<=1631||1648===e||1750<=e&&e<=1756||1759<=e&&e<=1764||1767<=e&&e<=1768||1770<=e&&e<=1773||1809===e||1840<=e&&e<=1866||1958<=e&&e<=1968||2027<=e&&e<=2035||2070<=e&&e<=2073||2075<=e&&e<=2083||2085<=e&&e<=2087||2089<=e&&e<=2093||2137<=e&&e<=2139||2275<=e&&e<=2306||2362===e||2364===e||2369<=e&&e<=2376||2381===e||2385<=e&&e<=2391||2402<=e&&e<=2403||2433===e||2492===e||2494===e||2497<=e&&e<=2500||2509===e||2519===e||2530<=e&&e<=2531||2561<=e&&e<=2562||2620===e||2625<=e&&e<=2626||2631<=e&&e<=2632||2635<=e&&e<=2637||2641===e||2672<=e&&e<=2673||2677===e||2689<=e&&e<=2690||2748===e||2753<=e&&e<=2757||2759<=e&&e<=2760||2765===e||2786<=e&&e<=2787||2817===e||2876===e||2878===e||2879===e||2881<=e&&e<=2884||2893===e||2902===e||2903===e||2914<=e&&e<=2915||2946===e||3006===e||3008===e||3021===e||3031===e||3072===e||3134<=e&&e<=3136||3142<=e&&e<=3144||3146<=e&&e<=3149||3157<=e&&e<=3158||3170<=e&&e<=3171||3201===e||3260===e||3263===e||3266===e||3270===e||3276<=e&&e<=3277||3285<=e&&e<=3286||3298<=e&&e<=3299||3329===e||3390===e||3393<=e&&e<=3396||3405===e||3415===e||3426<=e&&e<=3427||3530===e||3535===e||3538<=e&&e<=3540||3542===e||3551===e||3633===e||3636<=e&&e<=3642||3655<=e&&e<=3662||3761===e||3764<=e&&e<=3769||3771<=e&&e<=3772||3784<=e&&e<=3789||3864<=e&&e<=3865||3893===e||3895===e||3897===e||3953<=e&&e<=3966||3968<=e&&e<=3972||3974<=e&&e<=3975||3981<=e&&e<=3991||3993<=e&&e<=4028||4038===e||4141<=e&&e<=4144||4146<=e&&e<=4151||4153<=e&&e<=4154||4157<=e&&e<=4158||4184<=e&&e<=4185||4190<=e&&e<=4192||4209<=e&&e<=4212||4226===e||4229<=e&&e<=4230||4237===e||4253===e||4957<=e&&e<=4959||5906<=e&&e<=5908||5938<=e&&e<=5940||5970<=e&&e<=5971||6002<=e&&e<=6003||6068<=e&&e<=6069||6071<=e&&e<=6077||6086===e||6089<=e&&e<=6099||6109===e||6155<=e&&e<=6157||6313===e||6432<=e&&e<=6434||6439<=e&&e<=6440||6450===e||6457<=e&&e<=6459||6679<=e&&e<=6680||6683===e||6742===e||6744<=e&&e<=6750||6752===e||6754===e||6757<=e&&e<=6764||6771<=e&&e<=6780||6783===e||6832<=e&&e<=6845||6846===e||6912<=e&&e<=6915||6964===e||6966<=e&&e<=6970||6972===e||6978===e||7019<=e&&e<=7027||7040<=e&&e<=7041||7074<=e&&e<=7077||7080<=e&&e<=7081||7083<=e&&e<=7085||7142===e||7144<=e&&e<=7145||7149===e||7151<=e&&e<=7153||7212<=e&&e<=7219||7222<=e&&e<=7223||7376<=e&&e<=7378||7380<=e&&e<=7392||7394<=e&&e<=7400||7405===e||7412===e||7416<=e&&e<=7417||7616<=e&&e<=7669||7676<=e&&e<=7679||8204<=e&&e<=8205||8400<=e&&e<=8412||8413<=e&&e<=8416||8417===e||8418<=e&&e<=8420||8421<=e&&e<=8432||11503<=e&&e<=11505||11647===e||11744<=e&&e<=11775||12330<=e&&e<=12333||12334<=e&&e<=12335||12441<=e&&e<=12442||42607===e||42608<=e&&e<=42610||42612<=e&&e<=42621||42654<=e&&e<=42655||42736<=e&&e<=42737||43010===e||43014===e||43019===e||43045<=e&&e<=43046||43204===e||43232<=e&&e<=43249||43302<=e&&e<=43309||43335<=e&&e<=43345||43392<=e&&e<=43394||43443===e||43446<=e&&e<=43449||43452===e||43493===e||43561<=e&&e<=43566||43569<=e&&e<=43570||43573<=e&&e<=43574||43587===e||43596===e||43644===e||43696===e||43698<=e&&e<=43700||43703<=e&&e<=43704||43710<=e&&e<=43711||43713===e||43756<=e&&e<=43757||43766===e||44005===e||44008===e||44013===e||64286===e||65024<=e&&e<=65039||65056<=e&&e<=65071||65438<=e&&e<=65439||66045===e||66272===e||66422<=e&&e<=66426||68097<=e&&e<=68099||68101<=e&&e<=68102||68108<=e&&e<=68111||68152<=e&&e<=68154||68159===e||68325<=e&&e<=68326||69633===e||69688<=e&&e<=69702||69759<=e&&e<=69761||69811<=e&&e<=69814||69817<=e&&e<=69818||69888<=e&&e<=69890||69927<=e&&e<=69931||69933<=e&&e<=69940||70003===e||70016<=e&&e<=70017||70070<=e&&e<=70078||70090<=e&&e<=70092||70191<=e&&e<=70193||70196===e||70198<=e&&e<=70199||70367===e||70371<=e&&e<=70378||70400<=e&&e<=70401||70460===e||70462===e||70464===e||70487===e||70502<=e&&e<=70508||70512<=e&&e<=70516||70832===e||70835<=e&&e<=70840||70842===e||70845===e||70847<=e&&e<=70848||70850<=e&&e<=70851||71087===e||71090<=e&&e<=71093||71100<=e&&e<=71101||71103<=e&&e<=71104||71132<=e&&e<=71133||71219<=e&&e<=71226||71229===e||71231<=e&&e<=71232||71339===e||71341===e||71344<=e&&e<=71349||71351===e||71453<=e&&e<=71455||71458<=e&&e<=71461||71463<=e&&e<=71467||92912<=e&&e<=92916||92976<=e&&e<=92982||94095<=e&&e<=94098||113821<=e&&e<=113822||119141===e||119143<=e&&e<=119145||119150<=e&&e<=119154||119163<=e&&e<=119170||119173<=e&&e<=119179||119210<=e&&e<=119213||119362<=e&&e<=119364||121344<=e&&e<=121398||121403<=e&&e<=121452||121461===e||121476===e||121499<=e&&e<=121503||121505<=e&&e<=121519||125136<=e&&e<=125142||917760<=e&&e<=917999?3:127462<=e&&e<=127487?4:127995<=e&&e<=127999?12:2307===e||2363===e||2366<=e&&e<=2368||2377<=e&&e<=2380||2382<=e&&e<=2383||2434<=e&&e<=2435||2495<=e&&e<=2496||2503<=e&&e<=2504||2507<=e&&e<=2508||2563===e||2622<=e&&e<=2624||2691===e||2750<=e&&e<=2752||2761===e||2763<=e&&e<=2764||2818<=e&&e<=2819||2880===e||2887<=e&&e<=2888||2891<=e&&e<=2892||3007===e||3009<=e&&e<=3010||3014<=e&&e<=3016||3018<=e&&e<=3020||3073<=e&&e<=3075||3137<=e&&e<=3140||3202<=e&&e<=3203||3262===e||3264<=e&&e<=3265||3267<=e&&e<=3268||3271<=e&&e<=3272||3274<=e&&e<=3275||3330<=e&&e<=3331||3391<=e&&e<=3392||3398<=e&&e<=3400||3402<=e&&e<=3404||3458<=e&&e<=3459||3536<=e&&e<=3537||3544<=e&&e<=3550||3570<=e&&e<=3571||3635===e||3763===e||3902<=e&&e<=3903||3967===e||4145===e||4155<=e&&e<=4156||4182<=e&&e<=4183||4228===e||6070===e||6078<=e&&e<=6085||6087<=e&&e<=6088||6435<=e&&e<=6438||6441<=e&&e<=6443||6448<=e&&e<=6449||6451<=e&&e<=6456||6681<=e&&e<=6682||6741===e||6743===e||6765<=e&&e<=6770||6916===e||6965===e||6971===e||6973<=e&&e<=6977||6979<=e&&e<=6980||7042===e||7073===e||7078<=e&&e<=7079||7082===e||7143===e||7146<=e&&e<=7148||7150===e||7154<=e&&e<=7155||7204<=e&&e<=7211||7220<=e&&e<=7221||7393===e||7410<=e&&e<=7411||43043<=e&&e<=43044||43047===e||43136<=e&&e<=43137||43188<=e&&e<=43203||43346<=e&&e<=43347||43395===e||43444<=e&&e<=43445||43450<=e&&e<=43451||43453<=e&&e<=43456||43567<=e&&e<=43568||43571<=e&&e<=43572||43597===e||43755===e||43758<=e&&e<=43759||43765===e||44003<=e&&e<=44004||44006<=e&&e<=44007||44009<=e&&e<=44010||44012===e||69632===e||69634===e||69762===e||69808<=e&&e<=69810||69815<=e&&e<=69816||69932===e||70018===e||70067<=e&&e<=70069||70079<=e&&e<=70080||70188<=e&&e<=70190||70194<=e&&e<=70195||70197===e||70368<=e&&e<=70370||70402<=e&&e<=70403||70463===e||70465<=e&&e<=70468||70471<=e&&e<=70472||70475<=e&&e<=70477||70498<=e&&e<=70499||70833<=e&&e<=70834||70841===e||70843<=e&&e<=70844||70846===e||70849===e||71088<=e&&e<=71089||71096<=e&&e<=71099||71102===e||71216<=e&&e<=71218||71227<=e&&e<=71228||71230===e||71340===e||71342<=e&&e<=71343||71350===e||71456<=e&&e<=71457||71462===e||94033<=e&&e<=94078||119142===e||119149===e?5:4352<=e&&e<=4447||43360<=e&&e<=43388?6:4448<=e&&e<=4519||55216<=e&&e<=55238?7:4520<=e&&e<=4607||55243<=e&&e<=55291?8:44032===e||44060===e||44088===e||44116===e||44144===e||44172===e||44200===e||44228===e||44256===e||44284===e||44312===e||44340===e||44368===e||44396===e||44424===e||44452===e||44480===e||44508===e||44536===e||44564===e||44592===e||44620===e||44648===e||44676===e||44704===e||44732===e||44760===e||44788===e||44816===e||44844===e||44872===e||44900===e||44928===e||44956===e||44984===e||45012===e||45040===e||45068===e||45096===e||45124===e||45152===e||45180===e||45208===e||45236===e||45264===e||45292===e||45320===e||45348===e||45376===e||45404===e||45432===e||45460===e||45488===e||45516===e||45544===e||45572===e||45600===e||45628===e||45656===e||45684===e||45712===e||45740===e||45768===e||45796===e||45824===e||45852===e||45880===e||45908===e||45936===e||45964===e||45992===e||46020===e||46048===e||46076===e||46104===e||46132===e||46160===e||46188===e||46216===e||46244===e||46272===e||46300===e||46328===e||46356===e||46384===e||46412===e||46440===e||46468===e||46496===e||46524===e||46552===e||46580===e||46608===e||46636===e||46664===e||46692===e||46720===e||46748===e||46776===e||46804===e||46832===e||46860===e||46888===e||46916===e||46944===e||46972===e||47e3===e||47028===e||47056===e||47084===e||47112===e||47140===e||47168===e||47196===e||47224===e||47252===e||47280===e||47308===e||47336===e||47364===e||47392===e||47420===e||47448===e||47476===e||47504===e||47532===e||47560===e||47588===e||47616===e||47644===e||47672===e||47700===e||47728===e||47756===e||47784===e||47812===e||47840===e||47868===e||47896===e||47924===e||47952===e||47980===e||48008===e||48036===e||48064===e||48092===e||48120===e||48148===e||48176===e||48204===e||48232===e||48260===e||48288===e||48316===e||48344===e||48372===e||48400===e||48428===e||48456===e||48484===e||48512===e||48540===e||48568===e||48596===e||48624===e||48652===e||48680===e||48708===e||48736===e||48764===e||48792===e||48820===e||48848===e||48876===e||48904===e||48932===e||48960===e||48988===e||49016===e||49044===e||49072===e||49100===e||49128===e||49156===e||49184===e||49212===e||49240===e||49268===e||49296===e||49324===e||49352===e||49380===e||49408===e||49436===e||49464===e||49492===e||49520===e||49548===e||49576===e||49604===e||49632===e||49660===e||49688===e||49716===e||49744===e||49772===e||49800===e||49828===e||49856===e||49884===e||49912===e||49940===e||49968===e||49996===e||50024===e||50052===e||50080===e||50108===e||50136===e||50164===e||50192===e||50220===e||50248===e||50276===e||50304===e||50332===e||50360===e||50388===e||50416===e||50444===e||50472===e||50500===e||50528===e||50556===e||50584===e||50612===e||50640===e||50668===e||50696===e||50724===e||50752===e||50780===e||50808===e||50836===e||50864===e||50892===e||50920===e||50948===e||50976===e||51004===e||51032===e||51060===e||51088===e||51116===e||51144===e||51172===e||51200===e||51228===e||51256===e||51284===e||51312===e||51340===e||51368===e||51396===e||51424===e||51452===e||51480===e||51508===e||51536===e||51564===e||51592===e||51620===e||51648===e||51676===e||51704===e||51732===e||51760===e||51788===e||51816===e||51844===e||51872===e||51900===e||51928===e||51956===e||51984===e||52012===e||52040===e||52068===e||52096===e||52124===e||52152===e||52180===e||52208===e||52236===e||52264===e||52292===e||52320===e||52348===e||52376===e||52404===e||52432===e||52460===e||52488===e||52516===e||52544===e||52572===e||52600===e||52628===e||52656===e||52684===e||52712===e||52740===e||52768===e||52796===e||52824===e||52852===e||52880===e||52908===e||52936===e||52964===e||52992===e||53020===e||53048===e||53076===e||53104===e||53132===e||53160===e||53188===e||53216===e||53244===e||53272===e||53300===e||53328===e||53356===e||53384===e||53412===e||53440===e||53468===e||53496===e||53524===e||53552===e||53580===e||53608===e||53636===e||53664===e||53692===e||53720===e||53748===e||53776===e||53804===e||53832===e||53860===e||53888===e||53916===e||53944===e||53972===e||54e3===e||54028===e||54056===e||54084===e||54112===e||54140===e||54168===e||54196===e||54224===e||54252===e||54280===e||54308===e||54336===e||54364===e||54392===e||54420===e||54448===e||54476===e||54504===e||54532===e||54560===e||54588===e||54616===e||54644===e||54672===e||54700===e||54728===e||54756===e||54784===e||54812===e||54840===e||54868===e||54896===e||54924===e||54952===e||54980===e||55008===e||55036===e||55064===e||55092===e||55120===e||55148===e||55176===e?9:44033<=e&&e<=44059||44061<=e&&e<=44087||44089<=e&&e<=44115||44117<=e&&e<=44143||44145<=e&&e<=44171||44173<=e&&e<=44199||44201<=e&&e<=44227||44229<=e&&e<=44255||44257<=e&&e<=44283||44285<=e&&e<=44311||44313<=e&&e<=44339||44341<=e&&e<=44367||44369<=e&&e<=44395||44397<=e&&e<=44423||44425<=e&&e<=44451||44453<=e&&e<=44479||44481<=e&&e<=44507||44509<=e&&e<=44535||44537<=e&&e<=44563||44565<=e&&e<=44591||44593<=e&&e<=44619||44621<=e&&e<=44647||44649<=e&&e<=44675||44677<=e&&e<=44703||44705<=e&&e<=44731||44733<=e&&e<=44759||44761<=e&&e<=44787||44789<=e&&e<=44815||44817<=e&&e<=44843||44845<=e&&e<=44871||44873<=e&&e<=44899||44901<=e&&e<=44927||44929<=e&&e<=44955||44957<=e&&e<=44983||44985<=e&&e<=45011||45013<=e&&e<=45039||45041<=e&&e<=45067||45069<=e&&e<=45095||45097<=e&&e<=45123||45125<=e&&e<=45151||45153<=e&&e<=45179||45181<=e&&e<=45207||45209<=e&&e<=45235||45237<=e&&e<=45263||45265<=e&&e<=45291||45293<=e&&e<=45319||45321<=e&&e<=45347||45349<=e&&e<=45375||45377<=e&&e<=45403||45405<=e&&e<=45431||45433<=e&&e<=45459||45461<=e&&e<=45487||45489<=e&&e<=45515||45517<=e&&e<=45543||45545<=e&&e<=45571||45573<=e&&e<=45599||45601<=e&&e<=45627||45629<=e&&e<=45655||45657<=e&&e<=45683||45685<=e&&e<=45711||45713<=e&&e<=45739||45741<=e&&e<=45767||45769<=e&&e<=45795||45797<=e&&e<=45823||45825<=e&&e<=45851||45853<=e&&e<=45879||45881<=e&&e<=45907||45909<=e&&e<=45935||45937<=e&&e<=45963||45965<=e&&e<=45991||45993<=e&&e<=46019||46021<=e&&e<=46047||46049<=e&&e<=46075||46077<=e&&e<=46103||46105<=e&&e<=46131||46133<=e&&e<=46159||46161<=e&&e<=46187||46189<=e&&e<=46215||46217<=e&&e<=46243||46245<=e&&e<=46271||46273<=e&&e<=46299||46301<=e&&e<=46327||46329<=e&&e<=46355||46357<=e&&e<=46383||46385<=e&&e<=46411||46413<=e&&e<=46439||46441<=e&&e<=46467||46469<=e&&e<=46495||46497<=e&&e<=46523||46525<=e&&e<=46551||46553<=e&&e<=46579||46581<=e&&e<=46607||46609<=e&&e<=46635||46637<=e&&e<=46663||46665<=e&&e<=46691||46693<=e&&e<=46719||46721<=e&&e<=46747||46749<=e&&e<=46775||46777<=e&&e<=46803||46805<=e&&e<=46831||46833<=e&&e<=46859||46861<=e&&e<=46887||46889<=e&&e<=46915||46917<=e&&e<=46943||46945<=e&&e<=46971||46973<=e&&e<=46999||47001<=e&&e<=47027||47029<=e&&e<=47055||47057<=e&&e<=47083||47085<=e&&e<=47111||47113<=e&&e<=47139||47141<=e&&e<=47167||47169<=e&&e<=47195||47197<=e&&e<=47223||47225<=e&&e<=47251||47253<=e&&e<=47279||47281<=e&&e<=47307||47309<=e&&e<=47335||47337<=e&&e<=47363||47365<=e&&e<=47391||47393<=e&&e<=47419||47421<=e&&e<=47447||47449<=e&&e<=47475||47477<=e&&e<=47503||47505<=e&&e<=47531||47533<=e&&e<=47559||47561<=e&&e<=47587||47589<=e&&e<=47615||47617<=e&&e<=47643||47645<=e&&e<=47671||47673<=e&&e<=47699||47701<=e&&e<=47727||47729<=e&&e<=47755||47757<=e&&e<=47783||47785<=e&&e<=47811||47813<=e&&e<=47839||47841<=e&&e<=47867||47869<=e&&e<=47895||47897<=e&&e<=47923||47925<=e&&e<=47951||47953<=e&&e<=47979||47981<=e&&e<=48007||48009<=e&&e<=48035||48037<=e&&e<=48063||48065<=e&&e<=48091||48093<=e&&e<=48119||48121<=e&&e<=48147||48149<=e&&e<=48175||48177<=e&&e<=48203||48205<=e&&e<=48231||48233<=e&&e<=48259||48261<=e&&e<=48287||48289<=e&&e<=48315||48317<=e&&e<=48343||48345<=e&&e<=48371||48373<=e&&e<=48399||48401<=e&&e<=48427||48429<=e&&e<=48455||48457<=e&&e<=48483||48485<=e&&e<=48511||48513<=e&&e<=48539||48541<=e&&e<=48567||48569<=e&&e<=48595||48597<=e&&e<=48623||48625<=e&&e<=48651||48653<=e&&e<=48679||48681<=e&&e<=48707||48709<=e&&e<=48735||48737<=e&&e<=48763||48765<=e&&e<=48791||48793<=e&&e<=48819||48821<=e&&e<=48847||48849<=e&&e<=48875||48877<=e&&e<=48903||48905<=e&&e<=48931||48933<=e&&e<=48959||48961<=e&&e<=48987||48989<=e&&e<=49015||49017<=e&&e<=49043||49045<=e&&e<=49071||49073<=e&&e<=49099||49101<=e&&e<=49127||49129<=e&&e<=49155||49157<=e&&e<=49183||49185<=e&&e<=49211||49213<=e&&e<=49239||49241<=e&&e<=49267||49269<=e&&e<=49295||49297<=e&&e<=49323||49325<=e&&e<=49351||49353<=e&&e<=49379||49381<=e&&e<=49407||49409<=e&&e<=49435||49437<=e&&e<=49463||49465<=e&&e<=49491||49493<=e&&e<=49519||49521<=e&&e<=49547||49549<=e&&e<=49575||49577<=e&&e<=49603||49605<=e&&e<=49631||49633<=e&&e<=49659||49661<=e&&e<=49687||49689<=e&&e<=49715||49717<=e&&e<=49743||49745<=e&&e<=49771||49773<=e&&e<=49799||49801<=e&&e<=49827||49829<=e&&e<=49855||49857<=e&&e<=49883||49885<=e&&e<=49911||49913<=e&&e<=49939||49941<=e&&e<=49967||49969<=e&&e<=49995||49997<=e&&e<=50023||50025<=e&&e<=50051||50053<=e&&e<=50079||50081<=e&&e<=50107||50109<=e&&e<=50135||50137<=e&&e<=50163||50165<=e&&e<=50191||50193<=e&&e<=50219||50221<=e&&e<=50247||50249<=e&&e<=50275||50277<=e&&e<=50303||50305<=e&&e<=50331||50333<=e&&e<=50359||50361<=e&&e<=50387||50389<=e&&e<=50415||50417<=e&&e<=50443||50445<=e&&e<=50471||50473<=e&&e<=50499||50501<=e&&e<=50527||50529<=e&&e<=50555||50557<=e&&e<=50583||50585<=e&&e<=50611||50613<=e&&e<=50639||50641<=e&&e<=50667||50669<=e&&e<=50695||50697<=e&&e<=50723||50725<=e&&e<=50751||50753<=e&&e<=50779||50781<=e&&e<=50807||50809<=e&&e<=50835||50837<=e&&e<=50863||50865<=e&&e<=50891||50893<=e&&e<=50919||50921<=e&&e<=50947||50949<=e&&e<=50975||50977<=e&&e<=51003||51005<=e&&e<=51031||51033<=e&&e<=51059||51061<=e&&e<=51087||51089<=e&&e<=51115||51117<=e&&e<=51143||51145<=e&&e<=51171||51173<=e&&e<=51199||51201<=e&&e<=51227||51229<=e&&e<=51255||51257<=e&&e<=51283||51285<=e&&e<=51311||51313<=e&&e<=51339||51341<=e&&e<=51367||51369<=e&&e<=51395||51397<=e&&e<=51423||51425<=e&&e<=51451||51453<=e&&e<=51479||51481<=e&&e<=51507||51509<=e&&e<=51535||51537<=e&&e<=51563||51565<=e&&e<=51591||51593<=e&&e<=51619||51621<=e&&e<=51647||51649<=e&&e<=51675||51677<=e&&e<=51703||51705<=e&&e<=51731||51733<=e&&e<=51759||51761<=e&&e<=51787||51789<=e&&e<=51815||51817<=e&&e<=51843||51845<=e&&e<=51871||51873<=e&&e<=51899||51901<=e&&e<=51927||51929<=e&&e<=51955||51957<=e&&e<=51983||51985<=e&&e<=52011||52013<=e&&e<=52039||52041<=e&&e<=52067||52069<=e&&e<=52095||52097<=e&&e<=52123||52125<=e&&e<=52151||52153<=e&&e<=52179||52181<=e&&e<=52207||52209<=e&&e<=52235||52237<=e&&e<=52263||52265<=e&&e<=52291||52293<=e&&e<=52319||52321<=e&&e<=52347||52349<=e&&e<=52375||52377<=e&&e<=52403||52405<=e&&e<=52431||52433<=e&&e<=52459||52461<=e&&e<=52487||52489<=e&&e<=52515||52517<=e&&e<=52543||52545<=e&&e<=52571||52573<=e&&e<=52599||52601<=e&&e<=52627||52629<=e&&e<=52655||52657<=e&&e<=52683||52685<=e&&e<=52711||52713<=e&&e<=52739||52741<=e&&e<=52767||52769<=e&&e<=52795||52797<=e&&e<=52823||52825<=e&&e<=52851||52853<=e&&e<=52879||52881<=e&&e<=52907||52909<=e&&e<=52935||52937<=e&&e<=52963||52965<=e&&e<=52991||52993<=e&&e<=53019||53021<=e&&e<=53047||53049<=e&&e<=53075||53077<=e&&e<=53103||53105<=e&&e<=53131||53133<=e&&e<=53159||53161<=e&&e<=53187||53189<=e&&e<=53215||53217<=e&&e<=53243||53245<=e&&e<=53271||53273<=e&&e<=53299||53301<=e&&e<=53327||53329<=e&&e<=53355||53357<=e&&e<=53383||53385<=e&&e<=53411||53413<=e&&e<=53439||53441<=e&&e<=53467||53469<=e&&e<=53495||53497<=e&&e<=53523||53525<=e&&e<=53551||53553<=e&&e<=53579||53581<=e&&e<=53607||53609<=e&&e<=53635||53637<=e&&e<=53663||53665<=e&&e<=53691||53693<=e&&e<=53719||53721<=e&&e<=53747||53749<=e&&e<=53775||53777<=e&&e<=53803||53805<=e&&e<=53831||53833<=e&&e<=53859||53861<=e&&e<=53887||53889<=e&&e<=53915||53917<=e&&e<=53943||53945<=e&&e<=53971||53973<=e&&e<=53999||54001<=e&&e<=54027||54029<=e&&e<=54055||54057<=e&&e<=54083||54085<=e&&e<=54111||54113<=e&&e<=54139||54141<=e&&e<=54167||54169<=e&&e<=54195||54197<=e&&e<=54223||54225<=e&&e<=54251||54253<=e&&e<=54279||54281<=e&&e<=54307||54309<=e&&e<=54335||54337<=e&&e<=54363||54365<=e&&e<=54391||54393<=e&&e<=54419||54421<=e&&e<=54447||54449<=e&&e<=54475||54477<=e&&e<=54503||54505<=e&&e<=54531||54533<=e&&e<=54559||54561<=e&&e<=54587||54589<=e&&e<=54615||54617<=e&&e<=54643||54645<=e&&e<=54671||54673<=e&&e<=54699||54701<=e&&e<=54727||54729<=e&&e<=54755||54757<=e&&e<=54783||54785<=e&&e<=54811||54813<=e&&e<=54839||54841<=e&&e<=54867||54869<=e&&e<=54895||54897<=e&&e<=54923||54925<=e&&e<=54951||54953<=e&&e<=54979||54981<=e&&e<=55007||55009<=e&&e<=55035||55037<=e&&e<=55063||55065<=e&&e<=55091||55093<=e&&e<=55119||55121<=e&&e<=55147||55149<=e&&e<=55175||55177<=e&&e<=55203?10:11}var s=function(e){if(/^[\x20-\xFF]*$/.test(e))return e;const i=[];let s,a=0;for(;(s=t(e,a))<e.length;)i.push(e.slice(a,s)),a=s;return a<e.length&&i.push(e.slice(a)),i};class a{constructor(e,t){this.type=e,this.value=t}}class r{constructor(e){this.s=s(e),this.pos=0}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:null}peek(){return this.s[this.pos]}scan(e){let t;return t="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join("")),t?(this.pos+=t[0].length,t[0]):null}isWhiteSpace(){return/[ \f\n\r\t\v\xA0\u2028\u2029]/.test(this.s[this.pos])}makeToken(){if(this.end())return null;if(this.isWhiteSpace())return this.get(),new a("space");let e=null;if("\\"===this.peek()){if(this.get(),!this.end()){let t=this.scan(/^[a-zA-Z*]+/);"bgroup"===t?e=new a("{"):"egroup"===t?e=new a("}"):(t||(t=this.get()),e=new a("command",t))}}else if("{"===this.peek()||"}"===this.peek())e=new a(this.get());else if("#"===this.peek()){if(this.get(),!this.end()){let t=!1,i=this.peek();if(/[0-9?]/.test(i)&&(t=!0,this.pos+1<this.s.length)){const e=this.s[this.pos+1];t=/[^0-9A-Za-z]/.test(e)}t?(e=new a("#"),i=this.get(),e.value=i>="0"&&i<="9"?parseInt(i):"?"):e=new a("literal","#")}}else"~"===this.peek()?(this.get(),e=new a("command","space")):"$"===this.peek()?(this.get(),"$"===this.peek()?(this.get(),e=new a("$$")):e=new a("$")):e=new a("literal",this.get());return e}}var o=function(e){const t=[],i=e.toString().split(/\r?\n/);let s="",a="";for(const e of i){s+=a,a=" ";const t=e.match(/((?:\\%)|[^%])*/);t&&(s+=t[0])}const o=new r(s);for(;!o.end();){const e=o.makeToken();e&&t.push(e)}return t},n={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}};const l=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,c={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]},h=.04,d=.111,m=.166,p=.1,u=10,f=.5,g={"":" ","":" ","":"A","":"C","":"D","":"o","":"a","":"c","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};function y(e,t){const i={cal:"Caligraphic-Regular",ams:"AMS-Regular",frak:"Fraktur-Regular",bb:"AMS-Regular",scr:"Script-Regular",cmr:"Main-Regular",cmtt:"Typewriter-Regular",cmss:"SansSerif-Regular"}[t]||t;let s=e.charCodeAt(0);e[0]in g?s=g[e[0]].charCodeAt(0):l.test(e[0])&&(s=77);const a=n[i][s];return a?a?{depth:a[0],height:a[1],italic:a[2],skew:a[3]}:null:{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}function b(e,t,i){if("string"==typeof e){const i=e.match(/([-+]?[0-9.]*)\s*([a-zA-Z]+)/);i?(e=parseFloat(i[1]),t=i[2].toLowerCase()):e=parseFloat(e)}const s={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:.75,em:u,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[t]||1;if(isFinite(i)){const t=Math.pow(10,i);return Math.round(e/u*s*t)/t}return e/u*s}function v(e,t){return b(e,t)*(4/3)*u}const x=[{},{},{}];let k;for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e))for(k=0;k<3;k++)x[k][e]=c[e][k];for(k=0;k<3;k++)x[k].emPerEx=c.xHeight[k]/c.quad[k];class _{constructor(e,t,i,s){this.id=e,this.size=t,this.cramped=s,this.sizeMultiplier=i,this.metrics=x[t>0?t-1:0]}sup(){return w[S[this.id]]}sub(){return w[L[this.id]]}fracNum(){return w[A[this.id]]}fracDen(){return w[C[this.id]]}cramp(){return w[T[this.id]]}cls(){return M[this.size]}adjustTo(e){let t=z[this.size][e.size];return t.length>0&&(t=" "+t),t}isTight(){return this.size>=2}}const w=[new _(0,0,1,!1),new _(1,0,1,!0),new _(2,1,1,!1),new _(3,1,1,!0),new _(4,2,.7,!1),new _(5,2,.7,!0),new _(6,3,.5,!1),new _(7,3,.5,!0)],M=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],z=[["","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-textstyle displaystyle textstyle","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-scriptstyle textstyle displaystyle","reset-scriptstyle textstyle","","reset-scriptstyle scriptscriptstyle"],["reset-scriptscriptstyle textstyle displaystyle","reset-scriptscriptstyle textstyle","reset-scriptscriptstyle scriptstyle",""]],S=[4,5,4,5,6,7,6,7],L=[5,5,5,5,7,7,7,7],A=[2,3,4,5,6,7,6,7],C=[3,3,5,5,7,7,7,7],T=[1,1,3,3,5,5,7,7];var F={DISPLAY:w[0],TEXT:w[2],SCRIPT:w[4],SCRIPTSCRIPT:w[6],toMathstyle:function(e){return e?"object"==typeof e?e:{displaystyle:w[0],textstyle:w[2],scriptstyle:w[4],scriptscriptstyle:w[6]}[e]:e}};class D{constructor(e){this.macros=e.macros||{},this.generateID=!!e.generateID&&e.generateID,this.mathstyle=F.toMathstyle(e.mathstyle||"displaystyle"),this.size=e.size||"size5",this.parentMathstyle=e.parentMathstyle||this.mathstyle,this.parentSize=e.parentSize||this.size,this.opacity=e.opacity}clone(e){const t=new D(this);return t.parentMathstyle=this.mathstyle,t.parentSize=this.size,t.macros=this.macros,e&&("auto"!==e.mathstyle&&e.mathstyle||delete e.mathstyle,Object.assign(t,e),"string"==typeof e.mathstyle&&(t.mathstyle=F.toMathstyle(e.mathstyle))),t}setMathstyle(e){e&&"auto"!==e&&(this.mathstyle=F.toMathstyle(e))}cramp(){return this.clone({mathstyle:this.mathstyle.cramp()})}sup(){return this.clone({mathstyle:this.mathstyle.sup()})}sub(){return this.clone({mathstyle:this.mathstyle.sup()})}}const q={};function $(e,t){q[e]={decompose:t}}function P(e,t){function i(e){return"mord"===e.type&&/[0-9,.]/.test(e.latex)}function s(e){return"text"===e.mode}e instanceof D||(e=new D(e));const a=!e.generateID||!e.generateID.groupNumbers;let r=[];if(Array.isArray(t)){if(0===t.length)return[];if(1===t.length)r=t[0].decompose(e),r&&a&&t[0].isSelected&&r.forEach(e=>e.selected(!0));else{let o="none",n=t[1].type,l=[],c=null,h=!0,d=null;for(let m=0;m<t.length;m++){"mbin"===t[m].type&&(/first|none|mrel|mpunct|mopen|mbin|mop/.test(o)||/none|mrel|mpunct|mclose/.test(n))&&(t[m].type="mord"),""===t[m].body&&(t[m].superscript||t[m].subscript)||(d=null),e.generateID.groupNumbers&&c&&(h&&i(t[m])||!h&&s(t[m]))&&(e.generateID.overrideID=c);const p=t[m].decompose(e,d);if(e.generateID&&(e.generateID.overrideID=null),p){const o=[].concat.apply([],p);d=o,e.generateID&&e.generateID.groupNumbers&&((i(t[m])||s(t[m]))&&(c&&h===i(t[m])||(h=i(t[m]),c=t[m].id)),(!i(t[m])&&!s(t[m])||t[m].superscript||t[m].subscript)&&c&&(c=null)),a&&t[m].isSelected?(l=l.concat(o),l.forEach(e=>e.selected(!0))):(l.length>0&&(r=[...r,...l],l=[]),r=r.concat(o))}o=t[m].getFinalBaseElement().type,n=t[m+1]?t[m+1].getInitialBaseElement().type:"none"}l.length>0&&(r=[...r,...l],l=[])}}else t&&(r=t.decompose(e),r&&a&&t.isSelected&&r.forEach(e=>e.selected(!0)));if(!r||0===r.length)return null;if(e.mathstyle!==e.parentMathstyle){const t=e.mathstyle.sizeMultiplier/e.parentMathstyle.sizeMultiplier;for(const e of r)e.height*=t,e.depth*=t}if(e.size!==e.parentSize){const t=SIZING_MULTIPLIER[e.size]/SIZING_MULTIPLIER[e.parentSize];for(const e of r)e.height*=t,e.depth*=t}return r}const K={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},E={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34]},O={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};function B(e){let t="";if("number"==typeof e)t+=Math.floor(100*e)/100;else if("string"==typeof e)t+=e;else if(Array.isArray(e))for(const i of e)t+=B(i);else e&&(t+=e.toString());return t}class R{constructor(e,t){this.classes=t||"",Array.isArray(e)?this.children=[].concat.apply([],e):"string"==typeof e?this.body=e:e&&"object"==typeof e&&(this.children=[e]),this.style=null,this.updateDimensions()}updateDimensions(){let e=0,t=0,i=1;this.children&&this.children.forEach(s=>{s.height>e&&(e=s.height),s.depth>t&&(t=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}),this.height=e,this.depth=t,this.maxFontSize=i}selected(e){e&&!/ML__selected/.test(this.classes)&&(this.classes.length>0&&(this.classes+=" "),this.classes+="ML__selected"),!e&&/ML__selected/.test(this.classes)&&(this.classes=this.classes.replace("ML__selected","")),this.children&&this.children.forEach(t=>t.selected(e))}applyStyle(e){if(!e)return;if(e.color&&("none"!==e.color?this.setStyle("color",e.color):this.setStyle("color","")),e.backgroundColor&&("none"!==e.backgroundColor?this.setStyle("background-color",e.backgroundColor):this.setStyle("background-color","")),e.cssClass&&(this.classes+=" "+e.cssClass),!this.body)return;let t=e.fontFamily;"math"===t&&"n"===e.fontShape&&(t="cmr");let i="Main-Regular";if(t&&(i=function(e,t){if("string"!=typeof e||e.length>1||""===e)return ie[t];if("bb"===t||"scr"===t){if(!/^[A-Z ]$/.test(e))return null}else if("cal"===t){if(!/^[0-9A-Z ]$/.test(e))return null}else if("frak"===t){if(!/^[0-9A-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/.test(e))return null}else if(("cmtt"===t||"cmss"===t)&&!/^[0-9A-Za-z ]$|^[!"&'()*+,\-./:;=?@[]^_~\u0131\u0237\u0393\u0394\u0398\u039b\u039e\u03A0\u03A3\u03A5\u03A8\u03a9]$/.test(e))return null;return ie[t]}(this.body,t)),e.fontShape&&(this.classes+=" "+({it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape]||"")),e.fontSeries){const t=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);t&&(this.classes+=" "+({ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[t[1]||""]||""),this.classes+=" "+({uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[t[2]||""]||""))}if(se[t]?this.classes+=" "+se[t]:t&&this.setStyle("font-family",t),this.body&&this.body.length>0&&i){this.height=0,this.depth=0,this.maxFontSize={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49}[e.fontSize]||1,this.skew=0,this.italic=0;for(let e=0;e<this.body.length;e++){const t=y(this.body.charAt(e),i);t&&(this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this.skew=t.skew,this.italic=t.italic)}}}setStyle(e,...t){const i=B(t);i.length>0&&(this.style||(this.style={}),this.style[e]=i)}setTop(e){e&&0!==e&&(this.style||(this.style={}),this.style.top=B(e)+"em",this.height-=e,this.depth+=e)}setLeft(e){e&&0!==e&&(this.style||(this.style={}),this.style["margin-left"]=B(e)+"em")}setRight(e){e&&0!==e&&(this.style||(this.style={}),this.style["margin-right"]=B(e)+"em")}setWidth(e){e&&0!==e&&(this.style||(this.style={}),this.style.width=B(e)+"em")}toMarkup(e,t){e=e||0,t=t||1;let i="",s=this.body||"";if(this.children){let e="none";for(const i of this.children){let a=0;if(e){let s=i.type;s&&("textord"===s&&(s="mord"),"first"===s&&(s="none"),a=i.isTight?W[e+"+"+s]||0:I[e+"+"+s]||0,a=Math.floor(t*a))}s+=i.toMarkup(a,t),e=j(i)}}if(""!==s&&(s||this.svgBody)||this.classes&&"ML__selected"!==this.classes||this.cssId||this.style||this.svgOverlay){i="<span",this.cssId&&(i+=' id="'+this.cssId+'" '),this.attributes&&(i+=" "+Object.keys(this.attributes).map(e=>`${e}="${this.attributes[e]}"`).join(" "));const t=this.classes.split(" ");this.type&&(/command|placeholder|error/.test(this.type)&&t.push({command:"ML__command",placeholder:"ML__placeholder",error:"ML__error"}[this.type]),this.caret&&"command"===this.type&&t.push("ML__command-caret"));let a="";if(a=t.length>1?t.filter((function(e,t,i){return e.length>0&&i.indexOf(e)===t})).join(" "):t[0],a.length>0&&(i+=` class="${a}"`),e&&(this.style&&this.style["margin-left"]?this.style["margin-left"]=B(parseFloat(this.style["margin-left"])+e/18)+"em":e<0&&H[-e]?s=H[-e]+s:N[e]?s=N[e]+s:(this.style||(this.style={}),this.style["margin-left"]=B(e/18)+"em")),this.style){let e="";const t=/ML__selected/.test(this.classes);for(const i in this.style)Object.prototype.hasOwnProperty.call(this.style,i)&&("background-color"===i&&t||(e+=i+":"+this.style[i]+";"));e.length>0&&(i+=' style="'+e+'"')}i+=">",this.svgBody?i+=function(e){if(E[e]){const t=E[e][2];return`<span style="height:${t}em;min-width:0"><span class="stretchy" style="height:${t}em"><svg width="100%" height="${t}em"viewBox="0 0 ${E[e][0]} ${E[e][1]}"preserveAspectRatio="none"><path d="${O[e]}"></path></svg></span></span>`}let t,i,[s,a,r,o]=K[e];const n=r/1e3;3===s.length?(t=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],i=["xMinYMin","xMidYMin","xMaxYMin"]):2===s.length?(t=["slice-1-of-2","slice-2-of-2"],i=["xMinYMin","xMaxYMin"]):(t=["slice-1-of-1"],i=[o]);const l=s.map((e,s)=>`<span class="${t[s]}" style="height:${n}em"><svg width="400em" height="${n}em"viewBox="0 0 400000 ${r}"preserveAspectRatio="${i[s]} slice"><path d="${O[e]}"></path></svg></span>`).join("");return`<span style="height:${n}em;min-width:${a}em">${l}</span>`}(this.svgBody):this.svgOverlay?(i+='<span style="',i+="display: inline-block;",i+="height:"+(this.height+this.depth)+"em;",i+="vertical-align:"+this.depth+"em;",i+='">',i+=s,i+="</span>",i+="<svg ",i+='style="position:absolute;',i+="overflow:overlay;",i+="height:"+(this.height+this.depth)+"em;",this.style&&this.style.padding?(i+="top:"+this.style.padding+";",i+="left:"+this.style.padding+";",i+="width:calc(100% - 2 * "+this.style.padding+" );"):(i+="top:0;",i+="left:0;",i+="width:100%;"),i+="z-index:2;",i+='"',this.svgStyle&&(i+=' style="'+this.svgStyle+'"'),i+=">",i+=this.svgOverlay,i+="</svg>"):i+=s,i+="</span>"}else i="";return this.caret&&"command"!==this.type&&("text"===this.caret?i+='<span class="ML__text-caret"></span>':i+='<span class="ML__caret"></span>'),i}tryCoalesceWith(e){if(this.tag!==e.tag)return!1;if(this.type!==e.type)return!1;if("error"===this.type||"placeholder"===this.type||"command"===this.type)return!1;if(this.svgBody||!this.body)return!1;if(e.svgBody||!e.body)return!1;const t=this.children&&this.children.length>0,i=e.children&&e.children.length>0;if(t||i)return!1;if((this.style?this.style.length:0)!==(e.style?e.style.length:0))return!1;const s=this.classes.trim().replace(/\s+/g," ").split(" "),a=e.classes.trim().replace(/\s+/g," ").split(" ");if(s.length!==a.length)return!1;s.sort(),a.sort();for(let e=0;e<s.length;e++){if("vertical-separator"===s[e])return!1;if(s[e]!==a[e])return!1}if(this.style&&e.style)for(const t in this.style)if(Object.prototype.hasOwnProperty.call(this.style,t)&&Object.prototype.hasOwnProperty.call(e.style,t)&&this.style[t]!==e.style[t])return!1;return this.body+=e.body,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}}const I={"mord+mop":3,"mord+mbin":4,"mord+mrel":5,"mord+minner":3,"mop+mord":3,"mop+mop":3,"mop+mbin":5,"mop+minner":3,"mbin+mord":4,"mbin+mop":4,"mbin+mopen":4,"mbin+minner":4,"mrel+mord":5,"mrel+mop":5,"mrel+mopen":5,"mrel+minner":5,"mclose+mop":3,"mclose+mbin":4,"mclose+mrel":5,"mclose+minner":3,"mpunct+mord":3,"mpunct+mop":3,"mpunct+mbin":4,"mpunct+mrel":5,"mpunct+mopen":3,"mpunct+mpunct":3,"mpunct+minner":3},N=["","","","","","","","","",""],H=["","","","","",""],W={"mord+mop":3,"mop+mord":3,"mop+mop":3,"mclose+mop":3,"minner+mop":3};function j(e){const t=e.type;return"first"===t?"none":"textord"===t?"mord":t}function U(e){return e?Array.isArray(e)?e.reduce((e,t)=>Math.max(e,t.height),0):e.height:0}function V(e){return e?Array.isArray(e)?e.reduce((e,t)=>Math.max(e,t.depth),0):e.depth:0}function X(e){return e?Array.isArray(e)?e[e.length-1].italic:e.italic:0}function G(e,t){if(Array.isArray(e)){const i=[];for(const t of e)t&&i.push(t);if(1===i.length)return G(i[0],t)}return new R(e,t)}function Z(e,t,i){const s=new R(t,i),a=y(t,e);return s.height=a.height,s.depth=a.depth,s.skew=a.skew,s.italic=a.italic,s.setRight(s.italic),s}function Y(e,t,i){const s=G(t,i);return s.type=e,s}function J(e,t){return Y("mord",e,t)}function Q(e,t,i,s,a){a=a||"";const r=ee(t,(a+=" style-wrap ")+i.adjustTo(s));r.type=e;const o=s.sizeMultiplier/i.sizeMultiplier;return r.height*=o,r.depth*=o,r.maxFontSize=s.sizeMultiplier,r}function ee(e,t){if(!t||0===t.length){if(e instanceof R)return e;if(Array.isArray(e)&&1===e.length)return e[0]}const i=new R(e,t);let s=1;return s=e instanceof R?e.maxFontSize:e.reduce((e,t)=>Math.max(e,t.maxFontSize),0),i.height*=s,i.depth*=s,i}function te(e,t,i,s){let a=0,r=0;i=i||"shift",s=s||0;for(let e=0;e<t.length;e++)Array.isArray(t[e])&&(1===t[e].length?t[e]=t[e][0]:t[e]=G(t[e]));if("shift"===i)a=-t[0].depth-s;else if("bottom"===i)a=-s;else if("top"===i){let e=s;for(const i of t)e-=i instanceof R?i.height+i.depth:i;a=e}else if("individualShift"===i){const e=t;t=[e[0]],a=-e[1]-e[0].depth,r=a;for(let i=2;i<e.length;i+=2){const s=-e[i+1]-r-e[i].depth;r+=s;const a=s-(e[i-2].height+e[i-2].depth);t.push(a),t.push(e[i])}}let o=1;for(const e of t)e instanceof R&&(o=Math.max(o,e.maxFontSize));const n=function(e,t){const i=t?t/e.mathstyle.sizeMultiplier:0,s=new R("");return 1!==i&&(s.setStyle("font-size",i,i>0?"em":""),s.attributes={"aria-hidden":!0}),"size5"!==e.size?new R(s,"fontsize-ensurer reset-"+e.size+" size5"):0!==i?s:null}(e,o),l=[];r=a;for(const e of t)if("number"==typeof e)r+=e;else{const t=G([n,e]);t.setTop(-e.depth-r),l.push(t),r+=e.height+e.depth}const c=G(l,"vlist");return c.depth=Math.max(a,V(c)||0),c.height=Math.max(-r,U(c)||0),c}const ie={ams:"AMS-Regular",bb:"AMS-Regular",cal:"Caligraphic-Regular",frak:"Fraktur-Regular",scr:"Script-Regular",cmr:"Main-Regular",cmss:"SansSerif-Regular",cmtt:"Typewriter-Regular",math:"Math-Regular",mainit:"Main-Italic"},se={ams:"ML__ams",bb:"ML__bb",cal:"ML__cal",frak:"ML__frak",scr:"ML__script",cmr:"ML__mathrm",cmss:"ML__sans",cmtt:"ML__tt",math:"ML__mathit",mainit:"ML__mainit"};function ae(e,t){const i=new R(null,t);return i.svgBody=e,i.height=function(e){return K[e]?K[e][2]/1e3:E[e][2]}(e)/2,i.depth=i.height,i}const re={},oe={},ne={},le={iff:"\\;\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"},ce={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"};function he(e,t,i="mord",s=""){re[e]={type:i,baseFontFamily:s,value:t}}function de(e,t){for(let i=e;i<=t;i++){const e=String.fromCodePoint(i);he(e,e)}}const me={8739:"|",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",8243:"\\doubleprime",8736:"\\angle",8450:"\\C",8469:"\\N",8473:"\\P",8474:"\\Q",8477:"\\R",8484:"\\Z"};function pe(e,t){const i=String.fromCodePoint(t);if("math"===e&&me[i])return me[i];if(t>32&&t<127)return i;let s="";if("math"===e){for(const e in re)if(Object.prototype.hasOwnProperty.call(re,e)&&re[e].value===i){s=e;break}}else for(const e in Se)if(Object.prototype.hasOwnProperty.call(Se,e)&&Se[e]===i){s=e;break}return s||i}const ue={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},fe=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function ge(e,t){if("text"===e)return String.fromCodePoint(t);let i;if(me[t])return me[t];const s=function(e){let t=e;if("string"==typeof e&&(t=e.codePointAt(0)),(t<119808||t>120831)&&(t<8448||t>8527))return{char:e};for(const e in ue)if(Object.prototype.hasOwnProperty.call(ue,e)&&ue[e]===t){t=e;break}for(let e=0;e<fe.length;e++)if(t>=fe[e].start&&t<fe[e].start+fe[e].len)return{char:String.fromCodePoint(t-fe[e].start+fe[e].offset),variant:fe[e].variant,style:fe[e].style};return{char:e}}(t);return s.style||s.variant?(i=s.char,s.variant&&(i="\\"+s.variant+"{"+i+"}"),"bold"===s.style?i="\\mathbf{"+i+"}":"italic"===s.style?i="\\mathit{"+i+"}":"bolditalic"===s.style&&(i="\\mathbf{\\mathit{"+i+"}}"),"\\mathord{"+i+"}"):pe(e,t)}function ye(e,t){return"math"===e?re[t]&&re[t].value?re[t].value:t:Se[t]?Se[t]:t}function be(e){let t=ne[e];return t||(t={params:"",parser:null,mathstyle:"displaystyle",tabular:!0,colFormat:[],lFence:".",rFence:"."}),t}function ve(e,t,i){if(0===e.length)return null;let s=null;if("\\"===e.charAt(0)){if(s=oe[e],s)return s.mode&&!s.mode.includes(t)?null:s;if(s||("math"===t?s=re[e]:Se[e]&&(s={value:Se[e]})),!s){const t=e.slice(1);if(i&&i[t]){let e=i[t];"object"==typeof e&&(e=e.def);let a=0;for(/(^|[^\\])#1/.test(e)&&(a=1),/(^|[^\\])#2/.test(e)&&(a=2),/(^|[^\\])#3/.test(e)&&(a=3),/(^|[^\\])#4/.test(e)&&(a=4),/(^|[^\\])#5/.test(e)&&(a=5),/(^|[^\\])#6/.test(e)&&(a=6),/(^|[^\\])#7/.test(e)&&(a=7),/(^|[^\\])#8/.test(e)&&(a=8),/(^|[^\\])#9/.test(e)&&(a=9),s={type:"group",mode:"math",params:[],infix:!1};a>=1;)s.params.push({optional:!1,type:"math",defaultValue:null,placeholder:null}),a-=1}}}else"math"===t?s=re[e]:Se[e]&&(s={value:Se[e]});return!s||"mord"!==s.type||"f"!==s.value&&"g"!==s.value&&"h"!==s.value||(s.isFunction=!0),s}function xe(e){if(e.length<=1)return[];const t=[];for(const i in oe)Object.prototype.hasOwnProperty.call(oe,i)&&i.startsWith(e)&&!oe[i].infix&&t.push({match:i,frequency:oe[i].frequency});for(const i in re)Object.prototype.hasOwnProperty.call(re,i)&&i.startsWith(e)&&t.push({match:i,frequency:re[i].frequency});return t.sort((e,t)=>e.frequency===t.frequency?e.match.length-t.match.length:(t.frequency||0)-(e.frequency||0)),t}function ke(e,t){let i=e.match(/=(.+)/);const s=i?i[1]:t?"[]":"{}";let a="auto",r=null;return i=e.match(/:([^=]+)/),i&&(a=i[1].trim()),i=e.match(/^([^:=]+)/),i&&(r=i[1].trim()),{optional:t,type:a,defaultValue:s,placeholder:r}}function _e(e){if(!e||0===e.length)return[];let t=[],i=e.split("]");if("["===i[0].charAt(0)){t.push(ke(i[0].slice(1),!0));for(let e=1;e<=i.length;e++)t=t.concat(_e(i[e]))}else if(i=e.split("}"),"{"===i[0].charAt(0)){t.push(ke(i[0].slice(1),!1));for(let e=1;e<=i.length;e++)t=t.concat(_e(i[e]))}return t}function we(e){let t="",i=!0;return e.forEach(e=>{"string"==typeof e.body?t+=e.body:i=!1}),i?t:""}function Me(e,t,i,s){"string"==typeof e&&(e=[e]),i||(i={});const a={params:_e(t),parser:s,mathstyle:"displaystyle",tabular:i.tabular||!0,colFormat:i.colFormat||[]};for(const t of e)ne[t]=a}function ze(e,t,i,s,a){"string"==typeof e&&(e=[e]),i||(i={});const r={baseFontFamily:i.fontFamily,params:_e(t),mode:i.mode,infix:!!i.infix,parse:s,emit:a};e.forEach(e=>{oe["\\"+e]=r})}const Se={"\\#":"#","\\&":"&","\\$":"$","\\%":"%","\\_":"_","\\euro":"","\\maltese":"","\\{":"{","\\}":"}","\\nobreakspace":"","\\ldots":"","\\textellipsis":"","\\backslash":"\\","`":"","'":"","``":"","''":"","\\degree":"","\\textasciicircum":"^","\\textasciitilde":"~","\\textasteriskcentered":"*","\\textbackslash":"\\","\\textbraceleft":"{","\\textbraceright":"}","\\textbullet":"","\\textdollar":"$","\\textsterling":"","":"","":"","":"","":"","":"","":"",'"':"","\\ss":"","\\ae":"","\\oe":"","\\AE":"","\\OE":"","\\O":"","\\i":"","\\j":"","\\aa":"","\\AA":""},Le=/[a-zA-Z0-9!@*()-=+{}[\]\\';:?/.,~<>`|'$%#&^_" ]/,Ae="undefined"!=typeof navigator&&/firefox|edge/i.test(navigator.userAgent)?/[a-zA-Z]/:new RegExp("\\p{Letter}","u"),Ce="undefined"!=typeof navigator&&/firefox|edge/i.test(navigator.userAgent)?/[0-9a-zA-Z]/:new RegExp("[0-9\\p{Letter}]","u");function Te(e,t,i,s,a,r){const o=Q(e,G(Z("Size"+i+"-Regular",ye("math",t)),"delimsizing size"+i),a.mathstyle,F.TEXT,r);return s&&o.setTop((1-a.mathstyle.sizeMultiplier)*a.mathstyle.metrics.axisHeight),o.setStyle("color",a.color),"number"==typeof a.opacity&&o.setStyle("opacity",a.opacity),o}function Fe(e,t){let i="";return"Size1-Regular"===t?i=" delim-size1":"Size4-Regular"===t&&(i=" delim-size4"),G(Z(t,ye("math",e)),"delimsizinginner"+i)}function De(e,t,i,s,a,r){let o,n,l,c;o=l=c=ye("math",t),n=null;let h="Size1-Regular";"\\vert"===t||"\\lvert"===t||"\\rvert"===t||"\\mvert"===t||"\\mid"===t?l=o=c="":"\\Vert"===t||"\\lVert"===t||"\\rVert"===t||"\\mVert"===t||"\\|"===t?l=o=c="":"\\uparrow"===t?l=c="":"\\Uparrow"===t?l=c="":"\\downarrow"===t?o=l="":"\\Downarrow"===t?o=l="":"\\updownarrow"===t?(o="",l="",c=""):"\\Updownarrow"===t?(o="",l="",c=""):"["===t||"\\lbrack"===t?(o="",l="",c="",h="Size4-Regular"):"]"===t||"\\rbrack"===t?(o="",l="",c="",h="Size4-Regular"):"\\lfloor"===t?(l=o="",c="",h="Size4-Regular"):"\\lceil"===t?(o="",l=c="",h="Size4-Regular"):"\\rfloor"===t?(l=o="",c="",h="Size4-Regular"):"\\rceil"===t?(o="",l=c="",h="Size4-Regular"):"("===t?(o="",l="",c="",h="Size4-Regular"):")"===t?(o="",l="",c="",h="Size4-Regular"):"\\{"===t||"\\lbrace"===t?(o="",n="",c="",l="",h="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(o="",n="",c="",l="",h="Size4-Regular"):"\\lgroup"===t?(o="",c="",l="",h="Size4-Regular"):"\\rgroup"===t?(o="",c="",l="",h="Size4-Regular"):"\\lmoustache"===t?(o="",c="",l="",h="Size4-Regular"):"\\rmoustache"===t?(o="",c="",l="",h="Size4-Regular"):"\\surd"===t?(o="",c="",l="",h="Size4-Regular"):"\\ulcorner"===t?(o="",l=c=" "):"\\urcorner"===t?(o="",l=c=" "):"\\llcorner"===t?(c="",l=o=" "):"\\lrcorner"===t&&(o="",l=o=" ");const d=y(ye("math",o),h),m=d.height+d.depth,p=y(ye("math",l),h),u=p.height+p.depth,f=y(ye("math",c),h),g=f.height+f.depth;let b=0,v=1;if(null!==n){const e=y(ye("math",n),h);b=e.height+e.depth,v=2}const x=m+g+b,k=Math.ceil((i-x)/(v*u)),_=x+k*v*u;let w=a.mathstyle.metrics.axisHeight;s&&(w*=a.mathstyle.sizeMultiplier);const M=_/2-w,z=[];if(z.push(Fe(c,h)),null===n)for(let e=0;e<k;e++)z.push(Fe(l,h));else{for(let e=0;e<k;e++)z.push(Fe(l,h));z.push(Fe(n,h));for(let e=0;e<k;e++)z.push(Fe(l,h))}z.push(Fe(o,h));const S=te(a,z,"bottom",M);return S.setStyle("color",a.color),"number"==typeof a.opacity&&S.setStyle("opacity",a.opacity),Q(e,G(S,"delimsizing mult"),a.mathstyle,F.TEXT,r)}const qe=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],$e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],Pe=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ke=[0,1.2,1.8,2.4,3],Ee=[{type:"small",mathstyle:F.SCRIPTSCRIPT},{type:"small",mathstyle:F.SCRIPT},{type:"small",mathstyle:F.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Oe=[{type:"small",mathstyle:F.SCRIPTSCRIPT},{type:"small",mathstyle:F.SCRIPT},{type:"small",mathstyle:F.TEXT},{type:"stack"}],Be=[{type:"small",mathstyle:F.SCRIPTSCRIPT},{type:"small",mathstyle:F.SCRIPT},{type:"small",mathstyle:F.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function Re(e,t,i,s,a,r){if(!t||0===t.length||"."===t)return Ie(e,a,e);let o;"<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle"),o=Pe.includes(t)?Ee:qe.includes(t)?Be:Oe;const n=function(e,t,i,s){for(let r=Math.min(2,3-s.mathstyle.size);r<i.length&&"stack"!==i[r].type;r++){const s=y(e,"small"===(a=i[r]).type?"Main-Regular":"large"===a.type?"Size"+a.size+"-Regular":"Size4-Regular");if(s.defaultMetrics)return{type:"small",mathstyle:F.SCRIPT};let o=s.height+s.depth;if("small"===i[r].type&&(o*=i[r].mathstyle.sizeMultiplier),o>t)return i[r]}var a;return i[i.length-1]}(ye("math",t),i,o,a);return"small"===n.type?function(e,t,i,s,a,r){const o=Q(e,Z("AMS-Regular",ye("math",t)),a.mathstyle,i,r);return s&&o.setTop((1-a.mathstyle.sizeMultiplier/i.sizeMultiplier)*a.mathstyle.metrics.axisHeight),o.setStyle("color",a.color),"number"==typeof a.opacity&&o.setStyle("opacity",a.opacity),o}(e,t,n.mathstyle,s,a,r):"large"===n.type?Te(e,t,n.size,s,a,r):De(e,t,i,s,a,r)}function Ie(e,t,i){return Y(e,"","sizing"+t.mathstyle.adjustTo(F.TEXT)+" nulldelimiter "+(i||""))}var Ne={makeSizedDelim:function(e,t,i,s,a){return"."===t?Ie(e,s,a):("<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle"),qe.includes(t)||Pe.includes(t)?Te(e,t,i,!1,s,a):$e.includes(t)?De(e,t,Ke[i],!1,s,a):null)},makeCustomSizedDelim:Re,makeLeftRightDelim:function(e,t,i,s,a,r){if("."===t)return Ie(e,a,r);const o=a.mathstyle.metrics.axisHeight*a.mathstyle.sizeMultiplier;let n=s+o,l=i-o;l=Math.max(n,l);let c=901*l/500;return n=2*l-.5,c=Math.max(c,n),Re(e,t,c,!0,a,r)}};function He(e){const t=G("","arraycolsep");return t.setWidth(e,"em"),t}function We(e,t,i,s){const a=[];for(const r of t){const t=G(P(e,s));t.depth=r.depth,t.height=r.height,a.push(t),a.push(r.pos-i)}return te(e,a,"individualShift")}$("genfrac",(e,t)=>{const i="auto"===t.mathstyle?e.mathstyle:F.toMathstyle(t.mathstyle),s=e.clone({mathstyle:i});let a=[];t.numerPrefix&&a.push(J(t.numerPrefix));const r=t.continuousFraction?i:i.fracNum();a=a.concat(P(s.clone({mathstyle:r}),t.numer));const o=ee(a,e.mathstyle.adjustTo(r));let n=[];t.denomPrefix&&n.push(J(t.denomPrefix));const l=t.continuousFraction?i:i.fracDen();n=n.concat(P(s.clone({mathstyle:l}),t.denom));const c=ee(n,e.mathstyle.adjustTo(l)),d=t.hasBarLine?h/i.sizeMultiplier:0;let m,p,u;i.size===F.DISPLAY.size?(m=i.metrics.num1,p=d>0?3*d:.28,u=i.metrics.denom1):(d>0?(m=i.metrics.num2,p=d):(m=i.metrics.num3,p=.12),u=i.metrics.denom2);const f=o?o.depth:0,g=c?c.height:0;let y;if(0===d){const e=m-f-(g-u);e<p&&(m+=.5*(p-e),u+=.5*(p-e)),y=te(s,[o,-m,c,u],"individualShift")}else{const e=i.metrics.axisHeight;m-f-(e+.5*d)<p&&(m+=p-(m-f-(e+.5*d))),e-.5*d-(g-u)<p&&(u+=p-(e-.5*d-(g-u)));const a=G(null," frac-line");a.applyStyle(t.getStyle()),a.height=d;const r=[];o&&(r.push(o),r.push(-m)),r.push(a),r.push(d/2-e),c&&(r.push(c),r.push(u)),y=te(s,r,"individualShift")}y.classes+=" mfrac",y.height*=i.sizeMultiplier/e.mathstyle.sizeMultiplier,y.depth*=i.sizeMultiplier/e.mathstyle.sizeMultiplier;const b=i.size===F.DISPLAY.size?i.metrics.delim1:i.metrics.delim2,v=t.bind(e,Ne.makeCustomSizedDelim("mopen",t.leftDelim,b,!0,e.clone({mathstyle:i}))),x=t.bind(e,Ne.makeCustomSizedDelim("mclose",t.rightDelim,b,!0,e.clone({mathstyle:i})));v.applyStyle(t.getStyle()),x.applyStyle(t.getStyle());const k=J([v,y,x],e.parentSize!==e.size?"sizing reset-"+e.parentSize+" "+e.size:"");return t.bind(e,k)}),$("array",(e,t)=>{let i=t.colFormat;i&&0===i.length&&(i=[{align:"l"}]),i||(i=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);const s=[];let a=0;for(const e of i)e.align&&a++;for(const e of t.array){let t=0;for(;t<e.length;){const i=[],r=Math.min(e.length,t+a);for(;t<r;)i.push(e[t++]);s.push(i)}}1===s[s.length-1].length&&0===s[s.length-1][0].length&&s.pop();const r=F.toMathstyle(t.mathstyle)||e.mathstyle,o=1.2*(t.arraystretch||1),n=.7*o,l=.3*o;let c=0,h=0;const d=[],m=s.length;for(let i=0;i<m;++i){const a=s[i];h=Math.max(h,a.length);let r=n,o=l;const p=[];for(let i=0;i<a.length;++i){const s=P(e.clone({mathstyle:t.mathstyle}),a[i])||[],n=[J(null)].concat(s);o=Math.max(o,V(n)),r=Math.max(r,U(n)),p.push(n)}let u=i===m-1?0:t.jot||0;t.rowGaps&&t.rowGaps[i]&&(u=t.rowGaps[i],u>0&&(u+=l,o<u&&(o=u),u=0)),p.height=r,p.depth=o,c+=r,p.pos=c,c+=o+u,d.push(p)}const p=c/2+r.metrics.axisHeight,u=[];for(let t=0;t<h;t++){const i=[];for(const e of d){const s=e[t];s&&(s.depth=e.depth,s.height=e.height,i.push(s),i.push(e.pos-p))}i.length>0&&u.push(te(e,i,"individualShift"))}const g=[];let y=!1,b=!1,v=0,x=!t.lFence;for(const t of i){if(t.align&&v>=u.length)break;if(t.align&&v<u.length)y?g.push(He(1)):(b||x)&&g.push(He(f)),g.push(G(u[v],"col-align-"+t.align)),v++,y=!0,b=!1,x=!1;else if(void 0!==t.gap)"number"==typeof t.gap?g.push(He(t.gap)):g.push(We(e,d,p,t.gap)),y=!1,b=!1,x=!1;else if(t.rule){const t=G(null,"vertical-separator");t.setStyle("height",c,"em"),t.setStyle("margin-top",3*e.mathstyle.metrics.axisHeight-p,"em"),t.setStyle("vertical-align","top");let i=0;b?i=.16:y&&(i=.46),t.setLeft(i,"em"),g.push(t),y=!1,b=!0,x=!1}}if(y&&!t.rFence&&g.push(He(f)),!(t.lFence&&"."!==t.lFence||t.rFence&&"."!==t.rFence))return J(g,"mtable");const k=G(g,"mtable"),_=U(k),w=V(k);return J([t.bind(e,Ne.makeLeftRightDelim("mopen",t.lFence,_,w,e)),k,t.bind(e,Ne.makeLeftRightDelim("mclose",t.rFence,_,w,e))])}),$("overunder",(e,t)=>{const i=t.svgBody?ae(t.svgBody):P(e,t.body),s=e.clone({mathstyle:"scriptstyle"});let a,r;return t.svgAbove?a=ae(t.svgAbove):t.overscript&&(a=G(P(s,t.overscript),e.mathstyle.adjustTo(s.mathstyle))),t.svgBelow?r=ae(t.svgBelow):t.underscript&&(r=G(P(s,t.underscript),e.mathstyle.adjustTo(s.mathstyle))),a&&r&&(r.setLeft(.3),r.setRight(.3),a.setLeft(.3),a.setRight(.3)),function(e,t,i,s,a){if(!i&&!s)return t;let r=0,o=0;i&&(r=Math.max(d,.2-V(i))),s&&(o=Math.max(m,.6-U(s)));let n=null;if(s&&i){const a=U(s)+V(s)+V(t);n=te(e,[0,s,.2+V(t),t,-r,i,m],"bottom",a)}else s&&!i?n=te(e,[0,s,o,t],"top",U(t)):i&&!s&&(n=te(e,[t,Math.max(m,r-V(i)),i,0],"bottom",V(t)));return Y(a,n,"op-over-under")}(e,i,a,r,t.mathtype||"mord")}),$("accent",(e,t)=>{const i=e.mathstyle;let s=P(e.cramp(),t.body);(t.superscript||t.subscript)&&(s=t.attachSupsub(e,J(s),"mord"));let a=0;Array.isArray(t.body)&&1===t.body.length&&t.body[0].isCharacterBox()&&(a=function(e){if(!e)return 0;if(Array.isArray(e)){let t=0;for(const i of e)t+=i.skew||0;return t}return e.skew}(s));let r,o=Math.min(U(s),i.metrics.xHeight);if(t.svgAccent)r=ae(t.svgAccent),o=-o+d;else{const e=Z("Main-Regular",t.accent,"math");e.italic=0;const i=""===t.accent?" accent-vec":"";r=G(G(e),"accent-body"+i)}return r=te(e,[s,-o,r]),r.children[1].setLeft(2*a),J(r,"accent")}),$("enclose",(e,t)=>{const i=J(P(e,t.body)),s="number"==typeof t.padding?t.padding:.3,a=G("","ML__notation");a.setStyle("position","absolute"),a.setStyle("height",U(i)+V(i)+2*s,"em"),a.height=U(i)+s,a.depth=V(i)+s,0!==s?a.setStyle("width","calc(100% + "+2*s+"em)"):a.setStyle("width","100%"),a.setStyle("top","0"),a.setStyle("left",-s,"em"),a.setStyle("z-index","-1"),t.backgroundcolor&&a.setStyle("background-color",t.backgroundcolor),t.notation.box&&a.setStyle("border",t.borderStyle),t.notation.actuarial&&(a.setStyle("border-top",t.borderStyle),a.setStyle("border-right",t.borderStyle)),t.notation.madruwb&&(a.setStyle("border-bottom",t.borderStyle),a.setStyle("border-right",t.borderStyle)),t.notation.roundedbox&&(a.setStyle("border-radius",(U(i)+V(i))/2,"em"),a.setStyle("border",t.borderStyle)),t.notation.circle&&(a.setStyle("border-radius","50%"),a.setStyle("border",t.borderStyle)),t.notation.top&&a.setStyle("border-top",t.borderStyle),t.notation.left&&a.setStyle("border-left",t.borderStyle),t.notation.right&&a.setStyle("border-right",t.borderStyle),t.notation.bottom&&a.setStyle("border-bottom",t.borderStyle);let r="";if(t.notation.horizontalstrike&&(r+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',r+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,r+=' stroke-linecap="round"',t.svgStrokeStyle&&(r+=` stroke-dasharray="${t.svgStrokeStyle}"`),r+="/>"),t.notation.verticalstrike&&(r+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',r+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,r+=' stroke-linecap="round"',t.svgStrokeStyle&&(r+=` stroke-dasharray="${t.svgStrokeStyle}"`),r+="/>"),t.notation.updiagonalstrike&&(r+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',r+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,r+=' stroke-linecap="round"',t.svgStrokeStyle&&(r+=` stroke-dasharray="${t.svgStrokeStyle}"`),r+="/>"),t.notation.downdiagonalstrike&&(r+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',r+=` stroke-width="${t.strokeWidth}" stroke="${t.strokeColor}"`,r+=' stroke-linecap="round"',t.svgStrokeStyle&&(r+=` stroke-dasharray="${t.svgStrokeStyle}"`),r+="/>"),r){let e;"none"!==t.shadow&&(e="auto"===t.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+t.shadow+")"),function(e,t,i){e.svgOverlay=t,e.svgStyle=i}(a,r,e)}const o=G([a,i]);return o.setStyle("position","relative"),o.setStyle("vertical-align",-s+V(i),"em"),o.height=U(i)+s,o.depth=V(i)+s,o.setLeft(s),o.setRight(s),o}),$("box",(e,t)=>{const i="number"==typeof t.padding?t.padding:.3,s=J(P(e,t.body)),a=G("","ML__box");a.setStyle("position","absolute"),a.setStyle("height",U(s)+V(s)+2*i,"em"),0!==i?a.setStyle("width","calc(100% + "+2*i+"em)"):a.setStyle("width","100%"),a.setStyle("top",-i,"em"),a.setStyle("left",-i,"em"),a.setStyle("z-index","-1"),t.backgroundcolor&&a.setStyle("background-color",t.backgroundcolor),t.framecolor&&a.setStyle("border","0.04em solid "+t.framecolor),t.border&&a.setStyle("border",t.border),s.setStyle("display","inline-block"),s.setStyle("height",U(s)+V(s),"em"),s.setStyle("vertical-align",-V(s)+i,"em");const r=G([a,s]);return r.setStyle("position","relative"),r.setStyle("vertical-align",-i+V(s),"em"),r.height=U(s)+i,r.depth=V(s)+i,r.setLeft(i),r.setRight(i),r}),$("mop",(e,t)=>{const i=e.mathstyle;let s,a=0,r=0;if(t.symbol){const o=i.size===F.DISPLAY.size&&"\\smallint"!==t.latex;s=Z(o?"Size2-Regular":"Size1-Regular",t.body,"op-symbol "+(o?"large-op":"small-op")),s.type="mop",a=(s.height-s.depth)/2-i.metrics.axisHeight*i.sizeMultiplier,r=s.italic,t.bind(e,s)}else Array.isArray(t.body)?(s=Y("mop",P(e,t.body),void 0),t.bind(e,s)):s=t.makeSpan(e,t.body);if(t.superscript||t.subscript){const o=t.limits||"auto";return t.alwaysHandleSupSub||"limits"===o||"auto"===o&&i.size===F.DISPLAY.size?t.attachLimits(e,s,a,r):t.attachSupsub(e,s,"mop")}return t.symbol&&s.setTop(a),s}),$("line",(e,t)=>{const i=e.mathstyle,s=P(e.cramp(),t.body),a=h/i.sizeMultiplier,r=G(null,e.mathstyle.adjustTo(F.TEXT)+" "+t.position+"-line");let o;if(r.height=a,r.maxFontSize=1,"overline"===t.position)o=te(e,[s,3*a,r,a]);else{const t=G(s);o=te(e,[a,r,3*a,t],"top",U(t))}return J(o,t.position)}),$("leftright",(e,t)=>{if(!t.body)return t.leftDelim?new Atom("math","mopen",t.leftDelim).decompose(e):t.rightDelim?new Atom("math","mclose",t.rightDelim).decompose(e):null;const i=e.clone(),s=P(i,t.body),a=i.mathstyle;let r=0,o=0,n=[];if(r=U(s)*a.sizeMultiplier,o=V(s)*a.sizeMultiplier,t.leftDelim&&(n.push(t.bind(e,Ne.makeLeftRightDelim("mopen",t.leftDelim,r,o,i,"ML__open"))),n[n.length-1].applyStyle(t.getStyle())),s){for(let a=0;a<s.length;a++)if(s[a].delim){const n=s[a].caret,l=/ML__selected/.test(s[a].classes);s[a]=t.bind(e,Ne.makeLeftRightDelim("minner",s[a].delim,r,o,i)),s[a].caret=n,s[a].selected(l)}n=n.concat(s)}if(t.rightDelim){let s,a=t.rightDelim;"?"===a&&(a={"(":")","\\{":"\\}","\\[":"\\]","\\lbrace":"\\rbrace","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"}[t.leftDelim],a=a||t.leftDelim,s="ML__smart-fence__close"),n.push(t.bind(e,Ne.makeLeftRightDelim("mclose",a,r,o,i,(s||"")+" ML__close"))),n[n.length-1].applyStyle(t.getStyle())}return t.inner?Y("minner",n,a.cls()):n}),$("surd",(e,t)=>{const i=e.mathstyle,s=P(e.cramp(),t.body),a=h/i.sizeMultiplier;let r=a;i.id<F.TEXT.id&&(r=i.metrics.xHeight);let o=a+r/4;const n=Math.max(2*r,(U(s)+V(s))*i.sizeMultiplier)+(o+a),l=G(Ne.makeCustomSizedDelim("","\\surd",n,!1,e),"sqrt-sign");l.applyStyle(t.getStyle());const c=l.height+l.depth-a;c>U(s)+V(s)+o&&(o=(o+c-(U(s)+V(s)))/2),l.setTop(l.height-U(s)-(o+a));const d=G(null,e.mathstyle.adjustTo(F.TEXT)+" sqrt-line");d.applyStyle(t.getStyle()),d.height=a;const m=te(e,[s,o,d,a]);if(!t.index)return t.bind(e,J([l,m],"sqrt"));const p=e.clone({mathstyle:F.SCRIPTSCRIPT}),u=te(e,[G(P(p,t.index),i.adjustTo(F.SCRIPTSCRIPT))],"shift",-.6*(Math.max(l.height,m.height)-Math.max(l.depth,m.depth)));return t.bind(e,J([G(u,"root"),l,m],"sqrt"))});const je=/\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5/,Ue=/^([A-Za-z]|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5)$/,Ve={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49};class Xe{constructor(e,t,i,s){this.mode=e,this.type=t,this.body=i,this.applyStyle(s)}getStyle(){return{color:this.phantom?"transparent":this.color,backgroundColor:this.phantom?"transparent":this.backgroundColor,fontFamily:this.baseFontFamily||this.fontFamily||this.autoFontFamily,fontShape:this.fontShape,fontSeries:this.fontSeries,fontSize:this.fontSize,cssId:this.cssId,cssClass:this.cssClass}}applyStyle(e){if(Object.assign(this,e),"none"===this.fontFamily&&(this.fontFamily=""),"auto"===this.fontShape&&(this.fontShape=""),"auto"===this.fontSeries&&(this.fontSeries=""),"none"===this.color&&(this.color=""),"none"===this.backgroundColor&&(this.backgroundColor=""),"auto"===this.fontSize&&(this.fontSize=""),this.fontSize&&(this.maxFontSize=Ve[this.fontSize]),"math"===this.mode){const e="string"==typeof this.body?this.body:"";this.autoFontFamily="cmr",Ue.test(e)?this.autoFontFamily="math":/\\imath|\\jmath|\\pounds/.test(e)?this.autoFontFamily="mainit":je.test(e)||"math"!==this.baseFontFamily||(this.autoFontFamily="cmr")}else"text"===this.mode&&("root"!==this.type&&(this.type=""),delete this.baseFontFamily,delete this.autoFontFamily)}getInitialBaseElement(){let e=this;return Array.isArray(this.body)&&this.body.length>0&&("first"!==this.body[0].type?e=this.body[0].getInitialBaseElement():this.body[1]&&(e=this.body[1].getInitialBaseElement())),e}getFinalBaseElement(){return Array.isArray(this.body)&&this.body.length>0?this.body[this.body.length-1].getFinalBaseElement():this}isCharacterBox(){const e=this.getInitialBaseElement();return/minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(e.type)}forEach(e){if(e(this),Array.isArray(this.body))for(const t of this.body)t&&t.forEach(e);else this.body&&"object"==typeof this.body&&e(this.body);if(this.superscript)for(const t of this.superscript)t&&t.forEach(e);if(this.subscript)for(const t of this.subscript)t&&t.forEach(e);if(this.overscript)for(const t of this.overscript)t&&t.forEach(e);if(this.underscript)for(const t of this.underscript)t&&t.forEach(e);if(this.numer)for(const t of this.numer)t&&t.forEach(e);if(this.denom)for(const t of this.denom)t&&t.forEach(e);if(this.index)for(const t of this.index)t&&t.forEach(e);if(this.array)for(const t of this.array)for(const i of t)for(const t of i)t.forEach(e)}filter(e){let t=[];e(this)&&t.push(this);for(const i of["body","superscript","subscript","overscript","underscript","numer","denom","index"])if(Array.isArray(this[i]))for(const s of this[i])s&&(t=t.concat(s.filter(e)));if(Array.isArray(this.array))for(const i of this.array)for(const s of i)s&&(t=t.concat(s.filter(e)));return t}decomposeGroup(e){const t=J(P(e.clone({mathstyle:this.mathstyle}),this.body));return this.cssId&&(t.cssId=this.cssId),t.applyStyle({backgroundColor:this.backgroundColor,cssClass:this.cssClass}),t}decomposeOverlap(e){return J([G(P(e,this.body),"inner"),G(null,"fix")],"left"===this.align?"llap":"rlap")}decomposeRule(e){const t=e.mathstyle,i=J("","rule");let s=this.shift&&!isNaN(this.shift)?this.shift:0;s/=t.sizeMultiplier;const a=this.width/t.sizeMultiplier,r=this.height/t.sizeMultiplier;return i.setStyle("border-right-width",a,"em"),i.setStyle("border-top-width",r,"em"),i.setStyle("margin-top",-(r-s),"em"),i.setStyle("border-color",e.color),i.width=a,i.height=r+s,i.depth=-s,i}decompose(e,t){let i=null;if(!this.type||/mord|minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(this.type)?(i="string"==typeof this.body?this.makeSpan(e,this.body):this.makeSpan(e,P(e,this.body)),i.type=this.type):"group"===this.type||"root"===this.type?i=this.decomposeGroup(e):"delim"===this.type?(i=G(null,""),i.delim=this.delim):"sizeddelim"===this.type?i=this.bind(e,Ne.makeSizedDelim(this.cls,this.delim,this.size,e)):"overlap"===this.type?i=this.decomposeOverlap(e):"rule"===this.type?i=this.decomposeRule(e):"msubsup"===this.type?(i=J(""),t&&(i.height=t[0].height,i.depth=t[0].depth)):"space"===this.type?i=this.makeSpan(e," "):"spacing"===this.type?""===this.body?i=this.makeSpan(e,""):""===this.body?i="math"===this.mode?this.makeSpan(e," "):this.makeSpan(e,""):this.width?(i=G("","mspace "),this.width>0?i.setWidth(this.width):i.setStyle("margin-left",this.width,"em")):i=G("","mspace "+({qquad:"qquad",quad:"quad",enspace:"enspace",";":"thickspace",":":"mediumspace",",":"thinspace","!":"negativethinspace"}[this.body]||"quad")):"mathstyle"===this.type?e.setMathstyle(this.mathstyle):"command"===this.type||"error"===this.type?(i=this.makeSpan(e,this.body),i.classes="",this.error&&(i.classes+=" ML__error"),this.suggestion&&(i.classes+=" ML__suggestion")):i="placeholder"===this.type?this.makeSpan(e,""):"first"===this.type?this.makeSpan(e,""):q[this.type].decompose(e,this),!i)return i;if(this.caret&&"msubsup"!==this.type&&"command"!==this.type&&"placeholder"!==this.type&&"first"!==this.type&&(Array.isArray(i)?i[i.length-1].caret=this.caret:i.caret=this.caret),this.containsCaret&&(Array.isArray(i)?(i[0].classes=(i[0].classes||"")+" ML__contains-caret",i[i.length-1].classes=(i[i.length-1].classes||"")+" ML__contains-caret"):i.classes=(i.classes||"")+" ML__contains-caret"),!this.limits&&(this.superscript||this.subscript))if(Array.isArray(i)){const t=i[i.length-1];i[i.length-1]=this.attachSupsub(e,t,t.type)}else i=[this.attachSupsub(e,i,i.type)];return Array.isArray(i)?i:[i]}attachSupsub(e,t,i){if(!this.superscript&&!this.subscript)return t;const s=e.mathstyle;let a=null,r=null;this.superscript&&(a=G(P(e.sup(),this.superscript),s.adjustTo(s.sup()))),this.subscript&&(r=G(P(e.sub(),this.subscript),s.adjustTo(s.sub())));let o,n=0,l=0;this.isCharacterBox()||(n=U(t)-s.metrics.supDrop,l=V(t)+s.metrics.subDrop),o=s===F.DISPLAY?s.metrics.sup1:s.cramped?s.metrics.sup3:s.metrics.sup2;const c=.05/(F.TEXT.sizeMultiplier*s.sizeMultiplier);let d=null;if(r&&a){n=Math.max(n,o,a.depth+.25*s.metrics.xHeight),l=Math.max(l,s.metrics.sub2);const i=h;if(n-V(a)-(U(r)-l)<4*i){l=4*i-(n-a.depth)+U(r);const e=.8*s.metrics.xHeight-(n-V(a));e>0&&(n+=e,l-=e)}d=te(e,[r,l,a,-n],"individualShift"),this.symbol&&d.children[0].setLeft(-X(t))}else r&&!a?(l=Math.max(l,s.metrics.sub1,U(r)-.8*s.metrics.xHeight),d=te(e,[r],"shift",l),d.children[0].setRight(c),this.isCharacterBox()&&d.children[0].setLeft(-X(t))):!r&&a&&(n=Math.max(n,o,a.depth+.25*s.metrics.xHeight),d=te(e,[a],"shift",-n),d.children[0].setRight(c));const m=G(d,"msubsup");return this.caret&&(m.caret=this.caret),Y(i,[t,m])}attachLimits(e,t,i,s){const a=this.superscript?G(P(e.sup(),this.superscript),e.mathstyle.adjustTo(e.mathstyle.sup())):null,r=this.subscript?G(P(e.sub(),this.subscript),e.mathstyle.adjustTo(e.mathstyle.sub())):null;return function(e,t,i,s,a,r){if(!a&&!r)return t;t=G(t);let o=0,n=0;a&&(o=Math.max(d,.2-V(a))),r&&(n=Math.max(m,.6-U(r)));let l=null;if(r&&a){const c=p+U(r)+V(r)+n+V(t)+i;l=te(e,[p,r,n,t,o,a,p],"bottom",c),l.children[0].setLeft(-s),l.children[2].setLeft(s)}else if(r&&!a){const a=U(t)-i;l=te(e,[p,r,n,t],"top",a),l.children[0].setLeft(-s)}else if(!r&&a){const r=V(t)+i;l=te(e,[t,o,a,p],"bottom",r),l.children[1].setLeft(s)}return Y("mop",l,"op-limits")}(e,t,i,s,a,r)}bind(e,t){return"first"!==this.type&&""!==this.body&&(this.id=function(e){let t;return"boolean"==typeof e.generateID&&e.generateID?t=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36):"object"==typeof e.generateID&&(t=e.generateID.overrideID?e.generateID.overrideID:e.generateID.seed.toString(36),e.generateID.seed+=1),t}(e),this.id&&(t.attributes||(t.attributes={}),t.attributes["data-atom-id"]=this.id)),t}makeSpan(e,t){const i=Y("textord"===this.type?"mord":this.type,t),s=this.getStyle();i.applyStyle(s);const a=s&&s.fontSize?s.fontSize:"size5";return a!==e.parentSize?(i.classes+=" sizing reset-"+e.parentSize,i.classes+=" "+a):e.parentSize!==e.size&&(i.classes+=" sizing reset-"+e.parentSize,i.classes+=" "+e.size),i.maxFontSize=Math.max(i.maxFontSize,e.sizeMultiplier||1),"text"===this.mode&&(i.classes+=" ML__text"),e.mathstyle.isTight()&&(i.isTight=!0),"math"!==this.mode&&(i.italic=0),i.setRight(i.italic),"number"==typeof e.opacity&&i.setStyle("opacity",e.opacity),this.bind(e,i),this.caret&&(this.superscript||this.subscript||(i.caret=this.caret,e.mathstyle.isTight()&&(i.isTight=!0))),i}}function Ge(e,t){const i=new Xe(e=e||"math","root",t||[]);return 0!==i.body.length&&"first"===i.body[0].type||i.body.unshift(new Xe("","first")),i}const Ze={m0:"#3f3d99",m1:"#993d71",m2:"#998b3d",m3:"#3d9956",m4:"#3d5a99",m5:"#993d90",m6:"#996d3d",m7:"#43993d",m8:"#3d7999",m9:"#843d99"},Ye={apricot:"#FBB982",aquamarine:"#00B5BE",bittersweet:"#C04F17",black:"#221E1F",blue:"#2D2F92",bluegreen:"#00B3B8",blueviolet:"#473992",brickred:"#B6321C",brown:"#792500",burntorange:"#F7921D",cadetblue:"#74729A",carnationpink:"#F282B4",cerulean:"#00A2E3",cornflowerblue:"#41B0E4",cyan:"#00AEEF",dandelion:"#FDBC42",darkorchid:"#A4538A",emerald:"#00A99D",forestgreen:"#009B55",fuchsia:"#8C368C",goldenrod:"#FFDF42",gray:"#949698",green:"#00A64F",greenyellow:"#DFE674",junglegreen:"#00A99A",lavender:"#F49EC4",limegreen:"#8DC73E",magenta:"#EC008C",mahogany:"#A9341F",maroon:"#AF3235",melon:"#F89E7B",midnightblue:"#006795",mulberry:"#A93C93",navyblue:"#006EB8",olivegreen:"#3C8031",orange:"#F58137",orangered:"#ED135A",orchid:"#AF72B0",peach:"#F7965A",periwinkle:"#7977B8",pinegreen:"#008B72",plum:"#92268F",processblue:"#00B0F0",purple:"#99479B",rawsienna:"#974006",red:"#ED1B23",redorange:"#F26035",redviolet:"#A1246B",rhodamine:"#EF559F",royalblue:"#0071BC",royalpurple:"#613F99",rubinered:"#ED017D",salmon:"#F69289",seagreen:"#3FBC9D",sepia:"#671800",skyblue:"#46C5DD",springgreen:"#C6DC67",tan:"#DA9D76",tealblue:"#00AEB3",thistle:"#D883B7",turquoise:"#00B4CE",violet:"#58429B",violetred:"#EF58A0",white:"#FFFFFF",wildstrawberry:"#EE2967",yellow:"#FFF200",yellowgreen:"#98CC70",yelloworange:"#FAA21A"};var Je=function(e){const t=e.toLowerCase().split("!");let i,s,a,r=255,o=255,n=255,l=-1;const c=t.length>0&&"-"===t[0].charAt(0);c&&(t[0]=t[0].slice(1));for(let e=0;e<t.length;e++){i=r,s=o,a=n;let c=t[e].match(/([a-z0-9]*)/);c&&(c=c[1]);let h=Ye[c]||Ze[c];h||(h=t[e]);let d=h.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if(d&&d[1]&&d[2]&&d[3])r=Math.max(0,Math.min(255,parseInt(d[1],16))),o=Math.max(0,Math.min(255,parseInt(d[2],16))),n=Math.max(0,Math.min(255,parseInt(d[3],16)));else if(d=h.match(/^#([0-9a-f]{3})$/i),d&&d[1]){const e=parseInt(d[1][0],16),t=parseInt(d[1][1],16),i=parseInt(d[1][2],16);r=Math.max(0,Math.min(255,16*e+e)),o=Math.max(0,Math.min(255,16*t+t)),n=Math.max(0,Math.min(255,16*i+i))}else{if(d=h.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!(d&&d[1]&&d[2]&&d[3]))return null;r=Math.max(0,Math.min(255,parseInt(d[1]))),o=Math.max(0,Math.min(255,parseInt(d[2]))),n=Math.max(0,Math.min(255,parseInt(d[3])))}l>=0&&(r=(1-l)*r+l*i,o=(1-l)*o+l*s,n=(1-l)*n+l*a,l=-1),e+1<t.length&&(l=Math.max(0,Math.min(100,parseInt(t[++e])))/100)}return l>=0&&(r=l*r+(1-l)*i,o=l*o+(1-l)*s,n=l*n+(1-l)*a),c&&(r=255-r,o=255-o,n=255-n),"#"+("00"+Math.round(r).toString(16)).slice(-2)+("00"+Math.round(o).toString(16)).slice(-2)+("00"+Math.round(n).toString(16)).slice(-2)},Qe=function(e){let t=e.toUpperCase();for(const e in Ye)if(Ye[e]===t){t=e;break}for(const e in Ze)if(Ze[e]===t){t=e;break}return t},et=["#d35d60","#7293cb","#e1974d","#84bb5d","#9066a7","#aD6a58","#f5a4ce","#fff590","#212121","#818787","#d4d5d2","#ffffff"],tt=["#cc2428","#3769b1","#da7e30","#409852","#6b4c9a","#922426","#e7298a","#ffe907","#000000","#525055","#adafaa","#ffffff"];class it{constructor(e,t,i){this.tokens=e,this.index=0,this.args=t,this.macros=i,this.mathList=[],this.style={},this.parseMode="math",this.tabularMode=!1,this.endCount=0}swapMathList(e){const t=this.mathList;return this.mathList=e||[],t}swapParseMode(e){const t=this.parseMode;return this.parseMode=e,t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:null}peek(e){const t=this.index+(e||0);return t<this.tokens.length?this.tokens[t]:null}lastMathAtom(){const e=0===this.mathList.length?"none":this.mathList[this.mathList.length-1].type;if("mop"!==e&&"msubsup"!==e){const e=new Xe(this.parseMode,"msubsup","");e.attributes={"aria-hidden":!0},this.mathList.push(e)}return this.mathList[this.mathList.length-1]}hasToken(e){const t=this.index;return t<this.tokens.length&&this.tokens[t].type===e}hasLiteral(e){const t=this.index;return t<this.tokens.length&&"literal"===this.tokens[t].type&&(!e||this.tokens[t].value===e)}hasLiteralPattern(e){return this.hasToken("literal")&&e.test(this.tokens[this.index].value)}hasCommand(e){const t=this.index;return t<this.tokens.length&&"command"===this.tokens[t].type&&this.tokens[t].value===e}hasInfixCommand(){const e=this.index;if(e<this.tokens.length&&"command"===this.tokens[e].type){const t=ve("\\"+this.tokens[e].value,this.parseMode,this.macros);return t&&t.infix}return!1}hasColumnSeparator(){const e=this.index;return!!(this.tabularMode&&e<this.tokens.length)&&"literal"===this.tokens[e].type&&"&"===this.tokens[e].value}hasRowSeparator(){const e=this.index;return!!(this.tabularMode&&e<this.tokens.length)&&"command"===this.tokens[e].type&&("\\"===this.tokens[e].value||"cr"===this.tokens[e].value)}parseColumnSeparator(){return!!this.hasColumnSeparator()&&(this.index++,!0)}placeholder(){if(this.args&&"string"==typeof this.args["?"])return st(o(this.args["?"]),this.parseMode,null,this.macros);const e=new Xe(this.parseMode,"placeholder","?",this.style);return e.captureSelection=!0,[e]}hasImplicitCommand(e){if(this.index<this.tokens.length){const t=this.tokens[this.index];if("command"===t.type)return e.includes(t.value)}return!1}parseRowSeparator(){return!!this.hasRowSeparator()&&(this.index++,!0)}parseToken(e){return!!this.hasToken(e)&&(this.index++,!0)}skipWhitespace(){let e=!1;for(;this.hasToken("space");)this.index++,e=!0;return e}skipUntilToken(e){for(;!this.end()&&!this.parseToken(e);)this.get()}parseArguments(e){if(!e||!e.params)return["",[],""];let t="";const i=[];let s="",a=e.infix?2:0;for(;a<e.params.length;){const r=e.params[a];if(r.optional)i.push(this.scanOptionalArg(r.type));else if(r.type.endsWith("*"))t=r.type.slice(0,-1);else{const e=this.scanArg(r.type);if(e&&1===e.length&&"placeholder"===e[0].type&&r.placeholder&&(e[0].value=r.placeholder),e)i.push(e);else if(r.placeholder){const e=new Xe(this.parseMode,"placeholder",r.placeholder);e.captureSelection=!0,i.push([e])}else i.push(this.placeholder());"math"!==r.type&&"string"==typeof e&&(s+=e)}a+=1}return[t,i,s]}parseCommand(e){return!!this.hasCommand(e)&&(this.index++,!0)}parseLiteral(e){return!!this.hasLiteral(e)&&(this.index++,!0)}parseFiller(){let e=!1,t=!1;do{const i=this.skipWhitespace(),s=this.parseCommand("relax");e=e||i||s,t=!i&&!s}while(!t);return e}parseKeyword(e){const t=this.index;let i=this.end(),s="";for(;!i;){const t=this.get();"literal"===t.type&&(s+=t.value),i=this.end()||"literal"!==t.type||s.length>=e.length}const a=e.toUpperCase()===s.toUpperCase();return a||(this.index=t),a}scanString(){let e="",t=this.end();for(;!t;){if(this.hasLiteral("]"))t=!0;else if(this.hasToken("literal"))e+=this.get().value;else if(this.skipWhitespace())e+=" ";else if(this.hasToken("command")){const t=this.get();"space"===t.value?e+="":e+=t.value}else t=!0;t=t||this.end()}return e}scanColor(){return Je(this.scanString())}scanNumber(e){const t=this.parseLiteral("-");t||this.parseLiteral("+"),this.skipWhitespace(),e=!!e;let i=10,s=/[0-9]/;this.parseLiteral("'")?(i=8,s=/[0-7]/,e=!0):(this.parseLiteral('"')||this.parseLiteral("x"))&&(i=16,s=/[0-9A-F]/,e=!0);let a="";for(;this.hasLiteralPattern(s);)a+=this.get().value;if(!e&&(this.parseLiteral(".")||this.parseLiteral(",")))for(a+=".";this.hasLiteralPattern(s);)a+=this.get().value;const r=e?parseInt(a,i):parseFloat(a);return t?-r:r}scanDimen(){const e=this.scanNumber(!1);let t;return this.skipWhitespace(),t=this.parseKeyword("pt")?b(e,"pt"):this.parseKeyword("mm")?b(e,"mm"):this.parseKeyword("cm")?b(e,"cm"):this.parseKeyword("ex")?b(e,"ex"):this.parseKeyword("px")?b(e,"px"):this.parseKeyword("em")?b(e,"em"):this.parseKeyword("bp")?b(e,"bp"):this.parseKeyword("dd")?b(e,"dd"):this.parseKeyword("pc")?b(e,"pc"):this.parseKeyword("in")?b(e,"in"):this.parseKeyword("mu")?b(e,"mu"):b(e,"pt"),t}scanSkip(){const e=this.scanDimen();return this.skipWhitespace(),this.parseKeyword("plus")&&this.scanDimen(),this.skipWhitespace(),this.parseKeyword("minus")&&this.scanDimen(),e}scanColspec(){this.skipWhitespace();const e=[];for(;!this.end()&&!this.hasToken("}")&&!this.hasLiteral("]");)if(this.hasLiteral()){const t=this.get().value;if("lcr".includes(t))e.push({align:t});else if("|"===t)e.push({rule:!0});else if("@"===t){if(this.parseToken("{")){const t=this.swapParseMode("math");e.push({gap:this.scanImplicitGroup(e=>"}"===e.type)}),this.swapParseMode(t)}this.parseToken("}")}}return e}scanModeSet(){let e;if(this.parseCommand("(")&&(e=")"),!e&&this.parseCommand("[")&&(e="]"),!e)return null;const t=this.swapParseMode("math"),i=new Xe("math","group");return i.mathstyle=")"===e?"textstyle":"displaystyle",i.body=this.scanImplicitGroup(t=>"command"===t.type&&t.value===e),this.parseCommand(e),this.swapParseMode(t),i.body&&0!==i.body.length?i:null}scanModeShift(){if(!this.hasToken("$")&&!this.hasToken("$$"))return null;const e=this.get().type,t=new Xe("math","group");t.mathstyle="$"===e?"textstyle":"displaystyle",t.latexOpen="textstyle"===t.mathstyle?"$":"$$",t.latexClose=t.latexOpen;const i=this.swapParseMode("math");return t.body=this.scanImplicitGroup(t=>t.type===e),this.parseToken(e),this.swapParseMode(i),t.body&&0!==t.body.length?t:null}scanEnvironment(){if(!this.parseCommand("begin"))return null;const e=this.scanArg("string"),t=be(e),i=[];if(t&&t.params)for(const e of t.params)if(e.optional){const t=this.scanOptionalArg(e.type);i.push(t)}else i.push(this.scanArg(e.type));const s=this.parseMode,a=this.tabularMode,r=this.swapMathList([]);this.tabularMode=t.tabular;const o=[],n=[];let l=[],c=!1;do{if(c=this.end(),!c&&this.parseCommand("end")&&(c=this.scanArg("string")===e),!c)if(this.parseColumnSeparator())l.push(this.swapMathList([]));else if(this.parseRowSeparator()){l.push(this.swapMathList([]));let e=0;this.skipWhitespace(),this.parseLiteral("[")&&(e=this.scanDimen(),this.skipWhitespace(),this.parseLiteral("]")),n.push(e||0),o.push(l),l=[]}else this.mathList=this.mathList.concat(this.scanImplicitGroup())}while(!c);l.push(this.swapMathList([])),l.length>0&&o.push(l);const h=this.swapMathList(r);if(this.parseMode=s,this.tabularMode=a,!t.tabular&&0===h.length)return null;if(t.tabular&&0===o.length)return null;const d=new Xe(this.parseMode,"array",h,t.parser?t.parser(e,i,o):{});return d.array=o,d.rowGaps=n,d.env={...t},d.env.name=e,d}scanImplicitGroup(e){const t=this.style;e||(e=e=>"}"===e.type||"literal"===e.type&&"&"===e.value||"command"===e.type&&/^(end|cr|\\)$/.test(e.value));let i=null,s=null,a=[],r=null;const o=this.swapMathList([]);for(;!this.end()&&!e(this.peek());)if(this.hasImplicitCommand(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"])){this.parseMode="math";const e=new Xe("math","mathstyle");e.mathstyle=this.get().value,this.mathList.push(e)}else this.hasInfixCommand()&&!i?(i=this.get(),s=ve("\\"+i.value,"math",this.macros),s&&([,a]=this.parseArguments(s)),r=this.swapMathList([])):this.parseAtom();let n;return i?s?(a.unshift(this.swapMathList(o)),a.unshift(r),n=[new Xe(this.parseMode,s.type,s.value||i.value,s.parse?s.parse("\\"+i.value,a):null)]):n=[new Xe(this.parseMode,"mop",i.value)]:n=this.swapMathList(o),this.style=t,n}scanGroup(){if(!this.parseToken("{"))return null;const e=new Xe(this.parseMode,"group");return e.body=this.scanImplicitGroup(e=>"}"===e.type),this.parseToken("}"),e.latexOpen="{",e.latexClose="}",e}scanSmartFence(){if(this.skipWhitespace(),!this.parseLiteral("("))return null;const e=new Xe(this.parseMode,"leftright");e.leftDelim="(",e.inner=!1;const t=this.swapMathList([]);let i=1;for(;!this.end()&&0!==i;)this.hasLiteral("(")&&(i+=1),this.hasLiteral(")")&&(i-=1),0!==i&&this.parseAtom();return 0===i&&this.parseLiteral(")"),e.rightDelim=0===i?")":"?",e.body=this.swapMathList(t),e}scanDelim(){this.skipWhitespace();const e=this.get();if(!e)return null;let t=".";"command"===e.type?t="\\"+e.value:"literal"===e.type&&(t=e.value);const i=ve(t,"math",this.macros);return i&&("mopen"===i.type||"mclose"===i.type||/^(\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t))?t:null}scanLeftRight(){if(this.parseCommand("right")||this.parseCommand("mright"))return null;const e=this.style;let t="right";if(!this.parseCommand("left")){if(!this.parseCommand("mleft"))return null;t="mright"}const i=this.scanDelim();if(!i)return null;const s=this.swapMathList([]);for(;!this.end()&&!this.parseCommand(t);)this.parseAtom();this.style=e;const a=this.scanDelim(),r=new Xe(this.parseMode,"leftright");return r.leftDelim=i,r.rightDelim=a,r.inner="right"===t,r.body=this.swapMathList(s),r}parseSupSub(){if("math"!==this.parseMode)return!1;let e=!1;for(;this.hasLiteral("^")||this.hasLiteral("_")||this.hasLiteral("'");){let t;if(this.hasLiteral("^")?t="superscript":this.hasLiteral("_")&&(t="subscript"),this.parseLiteral("^")||this.parseLiteral("_")){const i=this.scanArg();if(i){const s=this.lastMathAtom();s[t]=s[t]||[],s[t]=s[t].concat(i),e=!0}}else if(this.parseLiteral("'")){const t=this.lastMathAtom();t.superscript=t.superscript||[],t.superscript.push(new Xe(t.parseMode,"mord","")),e=!0}}return e}parseLimits(){if(this.parseCommand("limits")){const e=this.lastMathAtom();return e.limits="limits",e.explicitLimits=!0,!0}if(this.parseCommand("nolimits")){const e=this.lastMathAtom();return e.limits="nolimits",e.explicitLimits=!0,!0}return!1}scanOptionalArg(e){if(e=e&&"auto"!==e?e:this.parseMode,this.skipWhitespace(),!this.parseLiteral("["))return null;const t=this.parseMode;this.parseMode=e;const i=this.swapMathList();let s;for(;!this.end()&&!this.parseLiteral("]");)if("string"===e)s=this.scanString();else if("number"===e)s=this.scanNumber();else if("dimen"===e)s=this.scanDimen();else if("skip"===e)s=this.scanSkip();else if("colspec"===e)s=this.scanColspec();else if("color"===e)s=this.scanColor()||"#ffffff";else if("bbox"===e){const e=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const t of e){const e=Je(t);if(e)s=s||{},s.backgroundcolor=e;else{const e=t.match(/^\s*([0-9.]+)\s*([a-z][a-z])/);if(e)s=s||{},s.padding=b(e[1],e[2]);else{const e=t.match(/^\s*border\s*:\s*(.*)/);e&&(s=s||{},s.border=e[1])}}}}else this.mathList=this.mathList.concat(this.scanImplicitGroup(e=>"literal"===e.type&&"]"===e.value));this.parseMode=t;const a=this.swapMathList(i);return s||a}scanArg(e){let t;if(e=e&&"auto"!==e?e:this.parseMode,this.parseFiller(),!this.parseToken("{")){if("delim"===e)return this.scanDelim()||".";if(/^(math|text)$/.test(e)){const t=this.parseMode;this.parseMode=e;const i=this.scanToken();return this.parseMode=t,Array.isArray(i)?i:i?[i]:null}}if(this.hasToken("#")){const e=this.get();return this.skipUntilToken("}"),"?"===e.value?this.placeholder():this.args?void 0===this.args[e.value]&&void 0!==this.args["?"]?this.placeholder():this.args[e.value]||null:null}const i=this.parseMode;this.parseMode=e;const s=this.swapMathList([]);if("string"===e)t=this.scanString(),this.skipUntilToken("}");else if("number"===e)t=this.scanNumber(),this.skipUntilToken("}");else if("dimen"===e)t=this.scanDimen(),this.skipUntilToken("}");else if("skip"===e)t=this.scanSkip(),this.skipUntilToken("}");else if("colspec"===e)t=this.scanColspec(),this.skipUntilToken("}");else if("color"===e)t=this.scanColor()||"#ffffff",this.skipUntilToken("}");else if("delim"===e)t=this.scanDelim()||".",this.skipUntilToken("}");else do{this.mathList=this.mathList.concat(this.scanImplicitGroup())}while(!this.parseToken("}")&&!this.end());this.parseMode=i;const a=this.swapMathList(s);return t||a}scanToken(){const e=this.get();if(!e)return null;let t=null;if("space"===e.type)"text"===this.parseMode&&(t=new Xe("text",""," ",this.style));else if("placeholder"===e.type)t=new Xe(this.parseMode,"placeholder",e.value),t.captureSelection=!0;else if("command"===e.type){if("placeholder"===e.value)t=new Xe(this.parseMode,"placeholder",this.scanArg("string"),this.style),t.captureSelection=!0;else if("char"===e.value){let e=Math.floor(this.scanNumber(!0));(!isFinite(e)||e<0||e>1114111)&&(e=10067),t=new Xe(this.parseMode,"math"===this.parseMode?"mord":"",String.fromCodePoint(e)),t.latex='{\\char"'+("000000"+e.toString(16)).toUpperCase().substr(-6)+"}"}else if("hskip"===e.value||"kern"===e.value){const i=this.scanSkip();isFinite(i)&&(t=new Xe(this.parseMode,"spacing",null,this.style),t.width=i),t.latex="\\"+e.value}else if(t=this.scanMacro(e.value),!t){const i=ve("\\"+e.value,this.parseMode,this.macros),[s,a,r]=this.parseArguments(i);if(i&&!i.infix){if(i.parse){const r=i.parse("\\"+e.value,a);if(r.type)t=new Xe(this.parseMode,i.type,s?this.scanArg(s):null,{...this.style,...r});else{const e=this.parseMode;if(r.mode&&(this.parseMode=r.mode,delete r.mode),s){const e=this.style;this.style={...this.style,...r},t=this.scanArg(s),this.style=e}else this.style={...this.style,...r};this.parseMode=e}}else{const s={...this.style};i.baseFontFamily&&(s.baseFontFamily=i.baseFontFamily),t=new Xe(this.parseMode,i.type||"mop",i.value||e.value,s),i.skipBoundary&&(t.skipBoundary=!0)}if(t&&!/^(llap|rlap|class|cssId)$/.test(e.value)&&(t.latex="\\"+e.value,r&&(t.latex+="{"+r+"}"),t.isFunction&&this.smartFence)){const e=this.scanSmartFence();e&&(t=[t,e])}}i||(t=new Xe(this.parseMode,"error","\\"+e.value),t.latex="\\"+e.value)}}else if("literal"===e.type){const i=ve(e.value,this.parseMode,this.macros);if(i){const s={...this.style};i.baseFontFamily&&(s.baseFontFamily=i.baseFontFamily),t=new Xe(this.parseMode,i.type,i.value||e.value,s),i.isFunction&&(t.isFunction=!0)}else t=new Xe(this.parseMode,"math"===this.parseMode?"mord":"",e.value,this.style);if(t.latex=pe(this.parseMode,e.value.codePointAt(0)),i&&i.isFunction&&this.smartFence){const e=this.scanSmartFence();e&&(t=[t,e])}}else"#"===e.type&&("?"===e.value?t=this.placeholder():this.args&&(t=this.args[e.value]||this.placeholder()));return t}scanMacro(e){if(!this.macros||!this.macros[e])return null;const t={};let i,s=0;"string"==typeof this.macros[e]?(i=this.macros[e],/(^|[^\\])#1/.test(i)&&(s=1),/(^|[^\\])#2/.test(i)&&(s=2),/(^|[^\\])#3/.test(i)&&(s=3),/(^|[^\\])#4/.test(i)&&(s=4),/(^|[^\\])#5/.test(i)&&(s=5),/(^|[^\\])#6/.test(i)&&(s=6),/(^|[^\\])#7/.test(i)&&(s=7),/(^|[^\\])#8/.test(i)&&(s=8),/(^|[^\\])#9/.test(i)&&(s=9)):(i=this.macros[e].def,s=this.macros[e].args||0);for(let e=1;e<=s;e++)t[e]=this.scanArg();this.args&&"string"==typeof this.args["?"]&&(t["?"]=this.args["?"]);const a=new Xe(this.parseMode,"group",st(o(i),this.parseMode,t,this.macros));a.captureSelection=!0,a.latex="\\"+e;let r="";for(let e=1;e<=s;e++){if(r+="{",Array.isArray(t[e]))for(let i=0;i<t[e].length;i++)r+=t[e][i].latex;r+="}"}return a.latex+=r||"",a}parseAtom(){let e=this.scanEnvironment()||this.scanModeShift()||this.scanModeSet()||this.scanGroup()||this.scanLeftRight();return!(e||!this.parseSupSub()&&!this.parseLimits())||(e||(e=this.scanToken()),Array.isArray(e)?this.mathList=this.mathList.concat(e):e&&this.mathList.push(e),null!==e)}}function st(e,t,i,s,a){let r=[];const o=new it(e,i,s);for(o.parseMode=t||"math",a&&(o.smartFence=!0);!o.end();)r=r.concat(o.scanImplicitGroup());return r}var at={Parser:it,parseTokens:st};!function(e){for(let e=0;e<"0123456789/@.?!".length;e++){const t="0123456789/@.?!".charAt(e);he(t,t)}}(),de(65,90),de(97,122),he("\\forall",""),he("\\exists",""),he("\\nexists","","mord","ams"),he("\\mid","","mrel"),he("\\top",""),he("\\bot",""),he("\\sharp",""),he("\\flat",""),he("\\natural",""),he("\\#","#"),he("\\&","&"),he("\\clubsuit",""),he("\\heartsuit",""),he("\\spadesuit",""),he("\\diamondsuit",""),he("\\differencedelta","","mrel"),he("\\backslash","\\"),he("\\nabla",""),he("\\partial",""),he("\\ell",""),he("\\imaginaryI","i"),he("\\imaginaryJ","j"),he("\\hbar",""),he("\\hslash","","mord","ams"),he("\\differentialD","d","mord","cmr"),he("\\rd","d","mord","cmr"),he("\\capitalDifferentialD","D","mord","cmr"),he("\\rD","D","mord","cmr"),he("\\exponentialE","e","mord","cmr"),he("\\Finv","","mord","ams"),he("\\Game","","mord","ams"),he("\\wp",""),he("\\eth","","mord","ams"),he("\\mho","","mord","ams"),he("\\Bbbk","k","mord","ams"),he("\\doubleStruckCapitalN","N","mord","bb"),he("\\N","N","mord","bb"),he("\\doubleStruckCapitalR","R","mord","bb"),he("\\R","R","mord","bb"),he("\\doubleStruckCapitalQ","Q","mord","bb"),he("\\Q","Q","mord","bb"),he("\\doubleStruckCapitalC","C","mord","bb"),he("\\C","C","mord","bb"),he("\\doubleStruckCapitalZ","Z","mord","bb"),he("\\Z","Z","mord","bb"),he("\\doubleStruckCapitalP","P","mord","bb"),he("\\P","P","mord","bb"),he("\\scriptCapitalE","E","mord","scr"),he("\\scriptCapitalH","H","mord","scr"),he("\\scriptCapitalL","L","mord","scr"),he("\\gothicCapitalC","C","mord","frak"),he("\\gothicCapitalH","H","mord","frak"),he("\\gothicCapitalI","I","mord","frak"),he("\\gothicCapitalR","R","mord","frak"),he("\\pounds",""),he("\\yen","","mord","ams"),he("\\euro",""),he("\\textdagger","","mbin"),he("\\dagger","","mbin"),he("\\dag","","mbin"),he("\\ddag","","mbin"),he("\\textdaggerdbl","","mbin"),he("\\ddagger","","mbin"),he("\\maltese","","mord","ams"),he("\\rightarrow","","mrel"),he("\\leftarrow","","mrel"),he("\\Rightarrow","","mrel"),he("\\Leftarrow","","mrel"),he("\\longrightarrow","","mrel"),he("\\longleftarrow","","mrel"),he("\\Longrightarrow","","mrel"),he("\\Longleftarrow","","mrel"),he("\\dashrightarrow","","mrel","ams"),he("\\dashleftarrow","","mrel","ams"),he("\\Rrightarrow","","mrel","ams"),he("\\Lleftarrow","","mrel","ams"),he("\\longleftrightarrow","","mrel"),he("\\Longleftrightarrow","","mrel"),he("\\leftrightarrows","","mrel","ams"),he("\\rightleftarrows","","mrel","ams"),he("\\mapsto","","mrel"),he("\\longmapsto","","mrel"),he("\\uparrow","","mrel"),he("\\downarrow","","mrel"),he("\\Uparrow","","mrel"),he("\\Downarrow","","mrel"),he("\\updownarrow","","mrel"),he("\\Updownarrow","","mrel"),he("\\curvearrowright","","mrel","ams"),he("\\curvearrowleft","","mrel","ams"),he("\\hookrightarrow","","mrel"),he("\\hookleftarrow","","mrel"),he("\\rightharpoonup","","mrel"),he("\\leftharpoonup","","mrel"),he("\\rightharpoondown","","mrel"),he("\\leftharpoondown","","mrel"),he("\\rightrightarrows","","mrel","ams"),he("\\leftleftarrows","","mrel","ams"),he("\\upuparrows","","mrel","ams"),he("\\downdownarrows","","mrel","ams"),he("\\leftarrowtail","","mrel","ams"),he("\\rightarrowtail","","mrel","ams"),he("\\looparrowright","","mrel","ams"),he("\\looparrowleft","","mrel","ams"),he("\\twoheadleftarrow","","mrel","ams"),he("\\twoheadrightarrow","","mrel","ams"),he("\\rightleftharpoons","","mrel"),he("\\leftrightharpoons","","mrel","ams"),he("\\Rsh","","mrel","ams"),he("\\Lsh","","mrel","ams"),he("\\searrow","","mrel"),he("\\nearrow","","mrel"),he("\\swarrow","","mrel"),he("\\nwarrow","","mrel"),he("\\circlearrowright","","mrel","ams"),he("\\circlearrowleft","","mrel","ams"),he("\\restriction","","mrel","ams"),he("\\upharpoonright","","mrel","ams"),he("\\upharpoonleft","","mrel","ams"),he("\\downharpoonright","","mrel","ams"),he("\\downharpoonleft","","mrel","ams"),he("\\rightsquigarrow","","mrel","ams"),he("\\leadsto","","mrel","ams"),he("\\leftrightsquigarrow","","mrel","ams"),he("\\multimap","","mrel","ams"),he("\\nrightarrow","","mrel","ams"),he("\\nleftarrow","","mrel","ams"),he("\\nRightarrow","","mrel","ams"),he("\\nLeftarrow","","mrel","ams"),he("\\nleftrightarrow","","mrel","ams"),he("\\nLeftrightarrow","","mrel","ams"),he("\\nless","","mrel","ams"),he("\\nleqslant","","mrel","ams"),he("\\lneq","","mrel","ams"),he("\\lneqq","","mrel","ams"),he("\\nleqq","","mrel","ams"),he("\\unlhd","","mbin","ams"),he("\\unrhd","","mbin","ams"),he("\\lvertneqq","","mrel","ams"),he("\\lnsim","","mrel","ams"),he("\\lnapprox","","mrel","ams"),he("\\nprec","","mrel","ams"),he("\\npreceq","","mrel","ams"),he("\\precnsim","","mrel","ams"),he("\\precnapprox","","mrel","ams"),he("\\nsim","","mrel","ams"),he("\\nshortmid","","mrel","ams"),he("\\nmid","","mrel","ams"),he("\\nvdash","","mrel","ams"),he("\\nvDash","","mrel","ams"),he("\\ngtr","","mrel","ams"),he("\\ngeqslant","","mrel","ams"),he("\\ngeqq","","mrel","ams"),he("\\gneq","","mrel","ams"),he("\\gneqq","","mrel","ams"),he("\\gvertneqq","","mrel","ams"),he("\\gnsim","","mrel","ams"),he("\\gnapprox","","mrel","ams"),he("\\nsucc","","mrel","ams"),he("\\nsucceq","","mrel","ams"),he("\\succnsim","","mrel","ams"),he("\\succnapprox","","mrel","ams"),he("\\ncong","","mrel","ams"),he("\\nshortparallel","","mrel","ams"),he("\\nparallel","","mrel","ams"),he("\\nVDash","","mrel","ams"),he("\\nsupseteqq","","mrel","ams"),he("\\supsetneq","","mrel","ams"),he("\\varsupsetneq","","mrel","ams"),he("\\supsetneqq","","mrel","ams"),he("\\varsupsetneqq","","mrel","ams"),he("\\nVdash","","mrel","ams"),he("\\precneqq","","mrel","ams"),he("\\succneqq","","mrel","ams"),he("\\nsubseteqq","","mrel","ams"),he("\\checkmark","","mord","ams"),he("\\diagup","","mord","ams"),he("\\diagdown","","mord","ams"),he("\\measuredangle","","mord","ams"),he("\\sphericalangle","","mord","ams"),he("\\backprime","","mord","ams"),he("\\backdoubleprime","","mord","ams"),he("\\ast","","mbin"),he("\\star","","mbin"),he("\\diamond","","mbin"),he("\\Diamond","","mord","ams"),he("\\lozenge","","mord","ams"),he("\\blacklozenge","","mord","ams"),he("\\bigstar","","mord","ams"),he("\\aleph",""),he("\\beth","","mord","ams"),he("\\daleth","","mord","ams"),he("\\gimel","","mord","ams"),he("\\lbrace","{","mopen"),he("\\rbrace","}","mclose"),he("\\langle","","mopen"),he("\\rangle","","mclose"),he("\\lfloor","","mopen"),he("\\rfloor","","mclose"),he("\\lceil","","mopen"),he("\\rceil","","mclose"),he("\\vert",""),he("\\mvert","","mrel"),he("\\lvert","","mopen"),he("\\rvert","","mclose"),he("\\|",""),he("\\Vert",""),he("\\mVert",""),he("\\lVert","","mopen"),he("\\rVert","","mclose"),he("\\lbrack","[","mopen"),he("\\rbrack","]","mclose"),he("\\{","{","mopen"),he("\\}","}","mclose"),he("(","(","mopen"),he(")",")","mclose"),he("[","[","mopen"),he("]","]","mclose"),he("\\ulcorner","","mopen","ams"),he("\\urcorner","","mclose","ams"),he("\\llcorner","","mopen","ams"),he("\\lrcorner","","mclose","ams"),he("\\lgroup","","mopen"),he("\\rgroup","","mclose"),he("\\lmoustache","","mopen"),he("\\rmoustache","","mclose"),he("=","=","mrel"),he("\\ne","","mrel"),he("\\neq","","mrel"),he("<","<","mrel"),he("\\lt","<","mrel"),he(">",">","mrel"),he("\\gt",">","mrel"),he("\\le","","mrel"),he("\\ge","","mrel"),he("\\leqslant","","mrel","ams"),he("\\geqslant","","mrel","ams"),he("\\leq","","mrel"),he("\\geq","","mrel"),he("\\ll","","mrel"),he("\\gg","","mrel"),he("\\coloneq","","mrel"),he("\\measeq","","mrel"),he("\\eqdef","","mrel"),he("\\questeq","","mrel"),he(":",":","mrel"),he("\\cong","","mrel"),he("\\equiv","","mrel"),he("\\prec","","mrel"),he("\\preceq","","mrel"),he("\\succ","","mrel"),he("\\succeq","","mrel"),he("\\perp","","mrel"),he("\\parallel","","mrel"),he("\\propto","","mrel"),he("\\Colon","","mrel"),he("\\smile","","mrel"),he("\\frown","","mrel"),he("\\sim","","mrel"),he("\\gtrsim","","mrel","ams"),he("\\approx","","mrel"),he("\\approxeq","","mrel","ams"),he("\\thickapprox","","mrel","ams"),he("\\lessapprox","","mrel","ams"),he("\\gtrapprox","","mrel","ams"),he("\\precapprox","","mrel","ams"),he("\\succapprox","","mrel","ams"),he("\\thicksim","","mrel","ams"),he("\\succsim","","mrel","ams"),he("\\precsim","","mrel","ams"),he("\\backsim","","mrel","ams"),he("\\eqsim","","mrel","ams"),he("\\backsimeq","","mrel","ams"),he("\\simeq","","mrel"),he("\\lesssim","","mrel","ams"),he("\\nleq","","mrel","ams"),he("\\ngeq","","mrel","ams"),he("\\smallsmile","","mrel","ams"),he("\\smallfrown","","mrel","ams"),he("\\bowtie","","mrel"),he("\\asymp","","mrel"),he("\\sqsubseteq","","mrel"),he("\\sqsupseteq","","mrel"),he("\\leqq","","mrel","ams"),he("\\eqslantless","","mrel","ams"),he("\\lll","","mrel","ams"),he("\\lessgtr","","mrel","ams"),he("\\lesseqgtr","","mrel","ams"),he("\\lesseqqgtr","","mrel","ams"),he("\\risingdotseq","","mrel","ams"),he("\\fallingdotseq","","mrel","ams"),he("\\subseteqq","","mrel","ams"),he("\\Subset","","mrel","ams"),he("\\sqsubset","","mrel","ams"),he("\\preccurlyeq","","mrel","ams"),he("\\curlyeqprec","","mrel","ams"),he("\\vDash","","mrel","ams"),he("\\Vvdash","","mrel","ams"),he("\\bumpeq","","mrel","ams"),he("\\Bumpeq","","mrel","ams"),he("\\geqq","","mrel","ams"),he("\\eqslantgtr","","mrel","ams"),he("\\ggg","","mrel","ams"),he("\\gtrless","","mrel","ams"),he("\\gtreqless","","mrel","ams"),he("\\gtreqqless","","mrel","ams"),he("\\supseteqq","","mrel","ams"),he("\\Supset","","mrel","ams"),he("\\sqsupset","","mrel","ams"),he("\\succcurlyeq","","mrel","ams"),he("\\curlyeqsucc","","mrel","ams"),he("\\Vdash","","mrel","ams"),he("\\shortmid","","mrel","ams"),he("\\shortparallel","","mrel","ams"),he("\\between","","mrel","ams"),he("\\pitchfork","","mrel","ams"),he("\\varpropto","","mrel","ams"),he("\\backepsilon","","mrel","ams"),he("\\llless","","mrel","ams"),he("\\gggtr","","mrel","ams"),he("\\lhd","","mbin","ams"),he("\\rhd","","mbin","ams"),he("\\Join","","mrel"),he("\\doteq","","mrel"),he("\\doteqdot","","mrel","ams"),he("\\Doteq","","mrel","ams"),he("\\eqcirc","","mrel","ams"),he("\\circeq","","mrel","ams"),he("\\lessdot","","mbin","ams"),he("\\gtrdot","","mbin","ams"),he("\\~","~","mrel"),he("\\leftrightarrow","","mrel"),he("\\Leftrightarrow","","mrel"),he("\\to","","mrel"),he("\\models","","mrel"),he("\\vdash","","mrel"),he("\\therefore","","mrel","ams"),he("\\because","","mrel","ams"),he("\\implies","","mrel"),he("\\gets","","mrel"),he("\\dashv","","mrel"),he("\\impliedby","","mrel"),he("\\biconditional","","mrel"),he("\\roundimplies","","mrel"),he("+","+","mbin"),he("-","","mbin"),he("","","mbin"),he("\\pm","","mbin"),he("\\mp","","mbin"),he("*","","mbin"),he("\\times","","mbin"),he("\\div","","mbin"),he("\\surd",""),he("\\divides","","mbin"),he("\\ltimes","","mbin","ams"),he("\\rtimes","","mbin","ams"),he("\\leftthreetimes","","mbin","ams"),he("\\rightthreetimes","","mbin","ams"),he("\\intercal","","mbin","ams"),he("\\dotplus","","mbin","ams"),he("\\centerdot","","mbin","ams"),he("\\doublebarwedge","","mbin","ams"),he("\\divideontimes","","mbin","ams"),he("\\cdot","","mbin"),he("\\infty",""),he("\\prime",""),he("\\doubleprime",""),he("\\angle",""),he("`",""),he("\\$","$"),he("\\%","%"),he("\\_","_"),he("\\alpha",""),he("\\beta",""),he("\\gamma",""),he("\\delta",""),he("\\epsilon",""),he("\\varepsilon",""),he("\\zeta",""),he("\\eta",""),he("\\theta",""),he("\\vartheta",""),he("\\iota",""),he("\\kappa",""),he("\\varkappa","","mord","ams"),he("\\lambda",""),he("\\mu",""),he("\\nu",""),he("\\xi",""),he("\\omicron","o"),he("\\pi",""),he("\\varpi",""),he("\\rho",""),he("\\varrho",""),he("\\sigma",""),he("\\varsigma",""),he("\\tau",""),he("\\phi",""),he("\\varphi",""),he("\\upsilon",""),he("\\chi",""),he("\\psi",""),he("\\omega",""),he("\\Gamma",""),he("\\Delta",""),he("\\Theta",""),he("\\Lambda",""),he("\\Xi",""),he("\\Pi",""),he("\\Sigma",""),he("\\Upsilon",""),he("\\Phi",""),he("\\Psi",""),he("\\Omega",""),he("\\digamma","","mord","ams"),he("\\emptyset",""),he("\\varnothing","","mord","ams"),he("\\cap","","mbin"),he("\\cup","","mbin"),he("\\setminus","","mbin"),he("\\smallsetminus","","mbin","ams"),he("\\complement","","mord","ams"),he("\\in","","mrel"),he("\\notin","","mrel"),he("\\not","","mrel"),he("\\ni","","mrel"),he("\\owns","","mrel"),he("\\subset","","mrel"),he("\\supset","","mrel"),he("\\subseteq","","mrel"),he("\\supseteq","","mrel"),he("\\subsetneq","","mrel","ams"),he("\\varsubsetneq","","mrel","ams"),he("\\subsetneqq","","mrel","ams"),he("\\varsubsetneqq","","mrel","ams"),he("\\nsubset","","mrel","ams"),he("\\nsupset","","mrel","ams"),he("\\nsubseteq","","mrel","ams"),he("\\nsupseteq","","mrel","ams"),he("\\ ","","spacing"),he("~","","spacing"),he("\\space","","spacing"),he("\\!",null,"spacing"),he("\\,",null,"spacing"),he("\\:",null,"spacing"),he("\\;",null,"spacing"),he("\\enskip",null,"spacing"),he("\\enspace",null,"spacing"),he("\\quad",null,"spacing"),he("\\qquad",null,"spacing"),he("\\colon",":","mpunct"),he("\\cdotp","","mpunct"),he("\\ldots","","minner"),he("\\cdots","","minner"),he("\\ddots","","minner"),he("\\mathellipsis","","minner"),he("\\vdots",""),he("\\ldotp",".","mpunct"),he(",",",","mpunct"),he(";",";","mpunct"),he("\\wedge","","mbin"),he("\\vee","","mbin"),he("\\lnot",""),he("\\neg",""),he("\\land","","mbin"),he("\\lor","","mbin"),he("\\barwedge","","mbin","ams"),he("\\veebar","","mbin","ams"),he("\\nor","","mbin","ams"),he("\\curlywedge","","mbin","ams"),he("\\curlyvee","","mbin","ams"),he("\\square","","mord","ams"),he("\\Box","","mord","ams"),he("\\blacksquare","","mord","ams"),he("\\boxminus","","mbin","ams"),he("\\boxplus","","mbin","ams"),he("\\boxtimes","","mbin","ams"),he("\\boxdot","","mbin","ams"),he("\\circ","","mbin"),he("\\bigcirc","","mbin"),he("\\bullet","","mbin"),he("\\circleddash","","mbin","ams"),he("\\circledast","","mbin","ams"),he("\\oplus","","mbin"),he("\\ominus","","mbin"),he("\\otimes","","mbin"),he("\\odot","","mbin"),he("\\circledcirc","","mbin","ams"),he("\\oslash","","mbin"),he("\\circledS","","mord","ams"),he("\\circledR","","mord","ams"),he("\\triangle",""),he("\\triangleq","","mrel","ams"),he("\\bigtriangleup","","mbin"),he("\\vartriangle","","mrel","ams"),he("\\triangledown","","mord","ams"),he("\\bigtriangledown","","mbin"),he("\\triangleleft","","mbin"),he("\\vartriangleleft","","mrel","ams"),he("\\trianglelefteq","","mrel","ams"),he("\\ntriangleleft","","mrel","ams"),he("\\ntrianglelefteq","","mrel","ams"),he("\\triangleright","","mbin"),he("\\vartriangleright","","mrel","ams"),he("\\trianglerighteq","","mrel","ams"),he("\\ntriangleright","","mrel","ams"),he("\\ntrianglerighteq","","mrel","ams"),he("\\blacktriangle","","mord","ams"),he("\\blacktriangledown","","mord","ams"),he("\\blacktriangleleft","","mrel","ams"),he("\\blacktriangleright","","mrel","ams"),he("\\/","/"),he("|","","textord"),he("\\And","&","mbin"),he("\\imath",""),he("\\jmath",""),he("\\degree",""),he("'",""),he('"',"");const rt={acute:"",grave:"",dot:"",ddot:"",mathring:"",tilde:"~",bar:"",breve:"",check:"",hat:"^",vec:""};ze(Object.keys(rt),"{body:auto}",null,(function(e,t){return{type:"accent",accent:rt[e.slice(1)],limits:"accent",skipBoundary:!0,body:t[0]}})),ze(["widehat","widecheck","widetilde"],"{body:auto}",null,(e,t)=>{const i=we(t[0]);return{type:"accent",svgAccent:e.slice(1)+(i.length>5?"4":["1","1","2","2","3","3"][i.length]),limits:"accent",skipBoundary:!0,body:t[0]}}),ze("utilde","{body:auto}",null,(e,t)=>{const i=we(t[0]),s="widetilde"+(i.length>5?"4":["1","1","2","2","3","3"][i.length]);return{type:"overunder",body:t[0],svgBelow:s,skipBoundary:!0}},(e,t,i,s)=>`\\utilde{${s(i,i.body)}}`),ze("^","{:string}",{},(function(e,t){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:t[0]&&{a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t[0]]||"^",baseFontFamily:"cmr"}})),ze("`","{:string}",{},(function(e,t){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:t[0]&&{a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t[0]]||"`",baseFontFamily:"cmr"}})),ze("'","{:string}",{},(function(e,t){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:t[0]&&{a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t[0]]||"^",baseFontFamily:"cmr"}})),ze("~","{:string}",{},(function(e,t){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:t[0]&&{n:"",N:"",a:"",o:"",A:"",O:""}[t[0]]||"",baseFontFamily:"cmr"}})),ze("c","{:string}",{},(function(e,t){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:t[0]&&{c:"",C:""}[t[0]]||"",baseFontFamily:"cmr"}})),ze(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overbrace","overlinesegment","overgroup"],"{:auto}",null,(e,t)=>({type:"overunder",body:t[0],svgAbove:e.slice(1),skipBoundary:!0}),(e,t,i,s)=>`${e}{${s(i,i.body)}}`),ze(["underrightarrow","underleftarrow","underleftrightarrow","underbrace","underlinesegment","undergroup"],"{:auto}",null,(e,t)=>({type:"overunder",body:t[0],svgBelow:e.slice(1),skipBoundary:!0}),(e,t,i,s)=>`${e}{${s(i,i.body)}}`),ze(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",null,(e,t)=>({type:"overunder",mathtype:"mrel",svgBody:e.slice(1),overscript:t[1],underscript:t[0],skipBoundary:!0}),(e,t,i,s)=>e+(i.underscript?`[${s(i,i.underscript)}]`:"")+`{${s(i,i.overscript)}}`),Me("math","",{},(function(){return{mathstyle:"textstyle"}})),Me("displaymath","",{},(function(){return{mathstyle:"displaystyle"}})),Me("array","{columns:colspec}",{},(function(e,t){return{colFormat:t[0],mathstyle:"textstyle"}})),Me("eqnarray","",{},(function(){return{}})),Me("equation","",{},(function(){return{colFormat:[{align:"c"}]}})),Me("subequations","",{},(function(){return{colFormat:[{align:"c"}]}})),Me("multline","",{},(function(){return{firstRowFormat:[{align:"l"}],colFormat:[{align:"c"}],lastRowFormat:[{align:"r"}]}})),Me(["align","aligned"],"",{},(function(e,t,i){let s=0;for(const e of i)s=Math.max(s,e.length);const a=[{gap:0},{align:"r"},{gap:0},{align:"l"}];let r=2;for(;r<s;)a.push({gap:1}),a.push({align:"r"}),a.push({gap:0}),a.push({align:"l"}),r+=2;return a.push({gap:0}),{colFormat:a,jot:.3}})),Me("split","",{},(function(){return{}})),Me(["gather","gathered"],"",{},(function(){return{colFormat:[{gap:.25},{align:"c"},{gap:0}],jot:.3}})),Me(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","smallmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","smallmatrix*"],"[columns:colspec]",{},(function(e,t){const i={mathstyle:"textstyle"};switch(e){case"pmatrix":case"pmatrix*":i.lFence="(",i.rFence=")";break;case"bmatrix":case"bmatrix*":i.lFence="[",i.rFence="]";break;case"Bmatrix":case"Bmatrix*":i.lFence="\\lbrace",i.rFence="\\rbrace";break;case"vmatrix":case"vmatrix*":i.lFence="\\vert",i.rFence="\\vert";break;case"Vmatrix":case"Vmatrix*":i.lFence="\\Vert",i.rFence="\\Vert";break;case"smallmatrix":case"smallmatrix*":i.mathstyle="scriptstyle";break;case"matrix":case"matrix*":i.lFence=".",i.rFence="."}return i.colFormat=t[0]||[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],i})),Me("cases","",{},(function(){return{arraystretch:1.2,lFence:"\\lbrace",rFence:".",colFormat:[{align:"l"},{gap:1},{align:"l"}]}})),Me("theorem","",{},(function(){return{}})),Me("center","",{},(function(){return{colFormat:[{align:"c"}]}})),ze("enclose","{notation:string}[style:string]{body:auto}",null,(function(e,t){let i=t[0]||[];const s={type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",captureSelection:!0,body:t[2]};if(t[1]){const e=t[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const t of e){const e=t.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(e)s.strokeWidth=v(e[1],"px"),isFinite(s.strokeWidth)||(s.strokeWidth=1),s.strokeStyle=e[2],s.strokeColor=e[3];else{const e=t.match(/\s*([a-z]*)\s*=\s*"(.*)"/);e&&("mathbackground"===e[1]?s.backgroundcolor=e[2]:"mathcolor"===e[1]?s.strokeColor=e[2]:"padding"===e[1]?s.padding=v(e[2],"px"):"shadow"===e[1]&&(s.shadow=e[2]))}}"dashed"===s.strokeStyle?s.svgStrokeStyle="5,5":"dotted"===s.strokeStyle&&(s.svgStrokeStyle="1,5")}s.borderStyle=s.strokeWidth+"px "+s.strokeStyle+" "+s.strokeColor,i=i.toString().split(/[, ]/).filter(e=>e.length>0).map(e=>e.toLowerCase()),s.notation={};for(const e of i)s.notation[e]=!0;return s.notation.updiagonalarrow&&(s.notation.updiagonalstrike=!1),s.notation.box&&(s.notation.left=!1,s.notation.right=!1,s.notation.bottom=!1,s.notation.top=!1),s})),ze("cancel","{body:auto}",null,(function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0},body:t[0]}})),ze("bcancel","{body:auto}",null,(function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{downdiagonalstrike:!0},body:t[0]}})),ze("xcancel","{body:auto}",null,(function(e,t){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0,downdiagonalstrike:!0},body:t[0]}})),ze("color","{:color}",{},(e,t)=>({color:t[0]})),ze("textcolor","{:color}{content:auto*}",{},(e,t)=>({color:t[0]})),ze("boxed","{content:math}",null,(function(e,t){return{type:"box",framecolor:"black",skipBoundary:!0,body:t[0]}})),ze("colorbox","{background-color:color}{content:auto}",{},(function(e,t){return{type:"box",backgroundcolor:t[0],skipBoundary:!0,body:t[1]}})),ze("fcolorbox","{frame-color:color}{background-color:color}{content:auto}",{},(function(e,t){return{type:"box",framecolor:t[0],backgroundcolor:t[1],skipBoundary:!0,body:t[2]}})),ze("bbox","[:bbox]{body:auto}",{},(function(e,t){return t[0]?{type:"box",padding:t[0].padding,border:t[0].border,backgroundcolor:t[0].backgroundcolor,skipBoundary:!0,body:t[1]}:{type:"box",skipBoundary:!0,body:t[1]}})),ze(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{},(function(e,t){return{fontSize:{tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[e.slice(1)]}})),ze("fontseries","{:text}",{mode:"text"},(e,t)=>({fontSeries:we(t[0])})),ze("fontshape","{:text}",{mode:"text"},(e,t)=>({fontShape:we(t[0])})),ze("fontfamily","{:text}",{mode:"text"},(e,t)=>({fontFamily:we(t[0])})),ze("selectfont","",{mode:"text"},(e,t)=>({})),ze("bf","",{},(e,t)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})),ze("bm","{:math*}",{mode:"math"},(e,t)=>({mode:"math",fontSeries:"b",fontShape:"n",fontFamily:"cmr"})),ze("bold","{:math*}",{},(e,t)=>({mode:"math",fontSeries:"b",fontShape:"n",fontFamily:"cmr"})),ze("bfseries","",{mode:"text"},(e,t)=>({fontSeries:"b"})),ze("mdseries","",{mode:"text"},(e,t)=>({fontSeries:"m"})),ze("upshape","",{mode:"text"},(e,t)=>({fontShape:"n"})),ze("slshape","",{mode:"text"},(e,t)=>({fontShape:"sl"})),ze("scshape","",{mode:"text"},(e,t)=>({fontShape:"sc"})),ze("textbf","{:text*}",{},(e,t)=>({mode:"text",fontSeries:"b"})),ze("textmd","{:text*}",{},(e,t)=>({mode:"text",fontSeries:"m"})),ze("textup","{:text*}",{},(e,t)=>({mode:"text",fontShape:"n"})),ze("textnormal","{:text*}",{},(e,t)=>({mode:"text",fontShape:"n",fontSeries:"m"})),ze("textsl","{:text*}",{},(e,t)=>({mode:"text",fontShape:"sl"})),ze("textit","{:text*}",{},(e,t)=>({mode:"text",fontShape:"it"})),ze("textsc","{:text*}",{},(e,t)=>({mode:"text",fontShape:"sc"})),ze("textrm","{:text*}",{},(e,t)=>({mode:"text",fontFamily:"cmr"})),ze("textsf","{:text*}",{},(e,t)=>({mode:"text",fontFamily:"cmss"})),ze("texttt","{:text*}",{},(e,t)=>({mode:"text",fontFamily:"cmtt"})),ze(["mathbf","boldsymbol"],"{:math*}",{},(e,t)=>({mode:"math",fontSeries:"b",fontShape:"n",fontFamily:"cmr"})),ze("mathmd","{:math*}",{},(e,t)=>({mode:"math",fontSeries:"m",fontShape:"n",fontFamily:"cmr"})),ze("mathit","{:math*}",{},(e,t)=>({mode:"math",fontSeries:"m",fontShape:"it",fontFamily:"cmr"})),ze("mathrm","{:math*}",{},(e,t)=>({mode:"math",fontSeries:"m",fontShape:"n",baseFontFamily:"cmr"})),ze("mathsf","{:math*}",{},(e,t)=>({mode:"math",baseFontFamily:"cmss",fontSeries:"m",fontShape:"n"})),ze("mathtt","{:math*}",{},(e,t)=>({mode:"math",baseFontFamily:"cmtt",fontSeries:"m",fontShape:"n"})),ze("it","",{},(e,t)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr"})),ze("rmfamily","",{},(e,t)=>({fontFamily:"cmr"})),ze("sffamily","",{},(e,t)=>({fontFamily:"cmss"})),ze("ttfamily","",{},(e,t)=>({fontFamily:"cmtt"})),ze(["Bbb","mathbb"],"{:math*}",{},(e,t)=>({mode:"math",baseFontFamily:"bb"})),ze(["frak","mathfrak"],"{:math*}",{},(e,t)=>({baseFontFamily:"frak"})),ze("mathcal","{:math*}",{},(e,t)=>({mode:"math",baseFontFamily:"cal",fontSeries:"m",fontShape:"n"})),ze("mathscr","{:math*}",{},(e,t)=>({mode:"math",baseFontFamily:"scr",fontSeries:"m",fontShape:"n"})),ze("mbox","{:text*}",null,(e,t)=>({mode:"text",fontFamily:"cmr"})),ze("text","{:text*}",null,(e,t)=>({mode:"text"})),ze("class","{name:text}{content:auto*}",null,(e,t)=>({cssClass:we(t[0])})),ze("cssId","{id:text}{content:auto}",null,(e,t)=>({cssId:we(t[0]),body:t[1],type:"group"})),ze("em","",null,(e,t)=>({cssClass:"ML__emph"})),ze("emph","{:auto}",null,(e,t)=>({cssClass:"ML__emph",body:t[0],type:"group",skipBoundary:!0}));const ot={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};ze(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",null,(function(e,t){return{type:"sizeddelim",size:ot[e].size,cls:ot[e].mclass,delim:t[0]}})),ze(["hspace","hspace*"],"{width:skip}",{},(function(e,t){return{type:"spacing",width:t[0]||0}})),ze(["mathop","mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",null,(function(e,t){const i={type:{"\\mathop":"mop","\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e],body:we(t[0])||t[0],captureSelection:!0,baseFontFamily:"\\mathop"===e?"math":""};return"\\mathop"===e&&(i.limits="nolimits",i.isFunction=!0),i})),ze(["operatorname","operatorname*"],"{operator:math}",null,(function(e,t){const i={type:"mop",skipBoundary:!0,body:t[0],isFunction:!0};return i.body.forEach(e=>{e.isFunction=!1,e.autoFontFamily="cmr"}),"\\operatorname"===e?i.limits="nolimits":"\\operatorname*"===e&&(i.limits="limits"),i})),ze("unicode","{charcode:number}",null,(function(e,t){let i=parseInt(t[0]);return isFinite(i)||(i=10067),{type:"mord",body:String.fromCodePoint(i)}})),ze("rule","[raise:dimen]{width:dimen}{thickness:dimen}",null,(function(e,t){return{type:"rule",shift:t[0],width:t[1],height:t[2]}})),ze("overline","{:auto}",null,(function(e,t){return{type:"line",position:"overline",skipBoundary:!0,body:t[0]}})),ze("underline","{:auto}",null,(function(e,t){return{type:"line",position:"underline",skipBoundary:!0,body:t[0]}})),ze("overset","{annotation:auto}{symbol:auto}",null,(function(e,t){return{type:"overunder",overscript:t[0],skipBoundary:!0,body:t[1]}})),ze("underset","{annotation:auto}{symbol:auto}",null,(function(e,t){return{type:"overunder",underscript:t[0],skipBoundary:!0,body:t[1]}})),ze(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0},(function(e,t){return{type:"genfrac",numer:t[0],denom:t[1],hasBarLine:!1,leftDelim:t[2],rightDelim:t[3],mathstyle:"auto"}})),ze(["stackrel","stackbin"],"{annotation:auto}{symbol:auto}",null,(function(e,t){return{type:"overunder",overscript:t[0],skipBoundary:!0,body:t[1],mathtype:"\\stackrel"===e?"mrel":"mbin"}})),ze("rlap","{:auto}",null,(function(e,t){return{type:"overlap",align:"right",skipBoundary:!0,body:t[0]}})),ze("llap","{:auto}",null,(function(e,t){return{type:"overlap",align:"left",skipBoundary:!0,body:t[0]}})),ze("mathrlap","{:auto}",null,(function(e,t){return{type:"overlap",mode:"math",align:"right",skipBoundary:!0,body:t[0]}})),ze("mathllap","{:auto}",null,(function(e,t){return{type:"overlap",mode:"math",align:"left",skipBoundary:!0,body:t[0]}})),ze(["arcsin","arccos","arctan","arctg","arcctg","arg","ch","cos","cosec","cosh","cot","cotg","coth","csc","ctg","cth","sec","sin","sinh","sh","tan","tanh","tg","th"],"",null,(function(e){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:e.slice(1),baseFontFamily:"cmr"}})),ze(["deg","dim","exp","hom","ker","lb","lg","ln","log"],"",null,(function(e){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:e.slice(1),baseFontFamily:"cmr"}})),ze(["lim","mod"],"",null,(function(e){return{type:"mop",limits:"limits",symbol:!1,body:e.slice(1),baseFontFamily:"cmr"}})),ze(["det","max","min"],"",null,(function(e){return{type:"mop",limits:"limits",symbol:!1,isFunction:!0,body:e.slice(1),baseFontFamily:"cmr"}})),ze("sqrt","[index:auto]{radicand:auto}",null,(function(e,t){return{type:"surd",body:t[1],index:t[0]}})),ze(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{numerator}{denominator}",null,(function(e,t){const i={type:"genfrac",numer:t[0],denom:t[1],mathstyle:"auto"};switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":case"\\cfrac":i.hasBarLine=!0;break;case"\\\\atopfrac":i.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i.hasBarLine=!1,i.leftDelim="(",i.rightDelim=")"}switch(e){case"\\dfrac":case"\\dbinom":i.mathstyle="displaystyle";break;case"\\tfrac":case"\\tbinom":i.mathstyle="textstyle"}return"\\cfrac"===e&&(i.continuousFraction=!0),i})),ze(["over","atop","choose"],"",{infix:!0},(function(e,t){const i=t[0],s=t[1];let a=!1,r=null,o=null;switch(e){case"\\atop":break;case"\\over":a=!0;break;case"\\choose":a=!1,r="(",o=")";break;default:throw new Error("Unrecognized genfrac command")}return{type:"genfrac",numer:i,denom:s,hasBarLine:a,leftDelim:r,rightDelim:o,mathstyle:"auto"}})),ze("pdiff","{numerator}{denominator}",null,(function(e,t){return{type:"genfrac",numer:t[0],denom:t[1],numerPrefix:"",denomPrefix:"",hasBarLine:!0,leftDelim:null,rightDelim:null,mathstyle:"auto"}})),ze(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","smallint","intop"],"",null,(function(e){return{type:"mop",limits:"auto",symbol:!0,baseFontFamily:"cmr",body:{coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[e.slice(1)]}}));const nt={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};function lt(e,t){let i="";for(const t of e)i+=t.relation+":"+t.offset+"/";return t&&(i+="#"+t),i}function ct(e){const t={path:[],extent:0},i=e.split("#");i.length>1&&(t.extent=parseInt(i[1]));const s=i[0].split("/");for(const e of s){const i=e.match(/([^:]*):(.*)/);i&&t.path.push({relation:i[1],offset:parseInt(i[2])})}return t}ze(Object.keys(nt),"",null,(function(e){return{type:"mop",limits:"nolimits",symbol:!0,body:nt[e.slice(1)],baseFontFamily:{"":"ams","":"ams"}[nt[e.slice(1)]]}})),ze(["Re","Im"],"",null,(function(e){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:{"\\Re":"","\\Im":""}[e],baseFontFamily:"frak"}})),ze("middle","{:delim}",null,(function(e,t){return{type:"delim",delim:t[0]}}));var ht={pathFromString:ct,pathToString:lt,pathDistance:function(e,t){let i=0,s=-1,a=!1;for(;!a;)s+=1,a=s>=e.length||s>=t.length,a=a||!(e[s].relation===t[s].relation&&e[s].offset===t[s].offset);return i=s===e.length&&s===t.length?0:s+1===e.length&&s+1===t.length&&e[s].relation===t[s].relation?1:2,i},pathCommonAncestor:function(e,t){const i=[],s=Math.min(e.length-1,t.length-1);let a=0;for(;a<=s&&e[a].relation===t[a].relation&&e[a].offset===t[a].offset;)i.push(e[a]),a+=1;return i},clone:function(e){return ct(lt(e)).path}};const dt={Left:"moveToPreviousChar",Right:"moveToNextChar",Up:"moveUp",Down:"moveDown","Shift-Left":"extendToPreviousChar","Shift-Right":"extendToNextChar","Shift-Up":"extendUp","Shift-Down":"extendDown",Backspace:"deletePreviousChar","Alt-Del":"deletePreviousChar",Del:"deleteNextChar","Alt-Backspace":"deleteNextChar","Alt-Left":"moveToPreviousWord","Alt-Right":"moveToNextWord","Alt-Shift-Left":"extendToPreviousWord","Alt-Shift-Right":"extendToNextWord","Ctrl-Left":"moveToGroupStart","Ctrl-Right":"moveToGroupEnd","Ctrl-Shift-Left":"extendToGroupStart","Ctrl-Shift-Right":"extendToGroupEnd","math:Spacebar":"moveAfterParent","math:Shift-Spacebar":"moveBeforeParent",Home:"moveToMathFieldStart","mac:Meta-Left":"moveToMathFieldStart","Shift-Home":"extendToMathFieldStart","mac:Meta-Shift-Left":"extendToMathFieldStart",End:"moveToMathFieldEnd","mac:Meta-Right":"moveToMathFieldEnd","Shift-End":"extendToMathFieldEnd","mac:Meta-Shift-Right":"extendToMathFieldEnd",PageUp:"moveToGroupStart",PageDown:"moveToGroupEnd","math:Tab":"moveToNextPlaceholder","math:F8":"moveToNextPlaceholder","math:Shift-Tab":"moveToPreviousPlaceholder","math:Shift-F8":"moveToPreviousPlaceholder","text:Tab":"moveToNextPlaceholder","text:F8":"moveToNextPlaceholder","text:Shift-Tab":"moveToPreviousPlaceholder","text:Shift-F8":"moveToPreviousPlaceholder","math:Esc":["switch-mode","command"],"math:Backslash":["switch-mode","command"],"math:IntlBackslash":["switch-mode","command"],"math:Alt-Equal":["apply-style",{mode:"text"}],"text:Alt-Equal":["apply-style",{mode:"math"}],"command:Esc":["complete",{discard:!0}],"command:Tab":["complete",{acceptSuggestion:!0}],"command:Return":"complete","command:Enter":"complete","command:Shift-Esc":["complete",{discard:!0}],"command:Down":"nextSuggestion","ios:command:Tab":"nextSuggestion","command:Up":"previousSuggestion","!mac:Ctrl-KeyA":"selectAll","mac:Meta-KeyA":"selectAll",Cut:"cut",Copy:"copy",Paste:"paste",Clear:"delete","!mac:Ctrl-KeyZ":"undo","mac:Meta-KeyZ":"undo",Undo:"undo","!mac:Ctrl-KeyY":"redo","mac:Meta-Shift-KeyY":"redo","!mac:Ctrl-Shift-KeyZ":"redo","mac:Meta-Shift-KeyZ":"redo",Redo:"redo",EraseEof:"deleteToGroupEnd","mac:Ctrl-KeyB":"moveToPreviousChar","mac:Ctrl-KeyF":"moveToNextChar","mac:Ctrl-KeyP":"moveUp","mac:Ctrl-KeyN":"moveDown","mac:Ctrl-KeyA":"moveToMathFieldStart","mac:Ctrl-KeyE":"moveToMathFieldEnd","mac:Ctrl-Shift-KeyB":"extendToPreviousChar","mac:Ctrl-Shift-KeyF":"extendToNextChar","mac:Ctrl-Shift-KeyP":"extendUp","mac:Ctrl-Shift-KeyN":"extendDown","mac:Ctrl-Shift-KeyA":"extendToMathFieldStart","mac:Ctrl-Shift-KeyE":"extendToMathFieldEnd","mac:Ctrl-Alt-KeyB":"moveToPreviousWord","mac:Ctrl-Alt-KeyF":"moveToNextWord","mac:Ctrl-Shift-Alt-KeyB":"extendToPreviousWord","mac:Ctrl-Shift-Alt-KeyF":"extendToNextWord","mac:Ctrl-KeyH":"deletePreviousChar","mac:Ctrl-KeyD":"deleteNextChar","mac:Ctrl-KeyL":"scrollIntoView","mac:Ctrl-KeyT":"transpose","math:Shift-Quote":["switch-mode","text","",""],"text:Shift-Quote":["switch-mode","math","",""],"math:Ctrl-Digit2":["insert","\\sqrt{#0}"],"math:Ctrl-Digit5":"moveToOpposite","math:Ctrl-Digit6":"moveToSuperscript","math:Ctrl-Minus":"moveToSubscript","math:Alt-BracketLeft":["insert","\\left\\lbrack #0 \\right\\rbrack"],"math:Alt-Shift-BracketLeft":["insert","\\left\\lbrace #0 \\right\\rbrace"],"math:Return":"addRowAfter","math:Enter":"addRowAfter","math:Ctrl-Comma":"addColumnAfter","math:Alt-KeyQ":["insert","\\theta"],"math:Alt-KeyP":["insert","\\pi"],"math:Alt-KeyV":["insert","\\sqrt{#0}"],"math:Alt-KeyW":["insert","\\sum_{i=#?}^{#?}"],"math:Alt-KeyB":["insert","\\int_{#?}^{#?}"],"math:Alt-KeyU":["insert","\\cup"],"math:Alt-KeyN":["insert","\\cap"],"math:Alt-KeyO":["insert","\\emptyset"],"math:Alt-KeyD":["insert","\\differentialD"],"math:Alt-Shift-KeyO":["insert","\\varnothing"],"math:Alt-Shift-KeyD":["insert","\\partial"],"math:Alt-Shift-KeyP":["insert","\\prod_{i=#?}^{#?}"],"math:Alt-Shift-KeyU":["insert","\\bigcup"],"math:Alt-Shift-KeyN":["insert","\\bigcap"],"math:Alt-Shift-KeyA":["insert","\\forall"],"math:Alt-Shift-KeyE":["insert","\\exists"],"math:Alt-Digit5":["insert","\\infty"],"math:Alt-Digit6":["insert","\\wedge"],"math:Alt-Shift-Digit6":["insert","\\vee"],"math:Alt-Digit9":["insert","("],"math:Alt-Digit0":["insert",")"],"math:Alt-Shift-Backslash":["insert","|"],"math:Alt-Backslash":["insert","\\backslash"],"math:Slash":["insert","\\frac{#@}{#?}"],"math:Alt-Slash":["insert","\\frac{#?}{#@}"],"math:NumpadDivide":["insert","\\frac{#@}{#?}"],"math:Alt-NumpadDivide":["insert","\\frac{#?}{#@}"],"math:Shift-Backquote":["insert","\\~"],"math:Alt-Shift-Slash":["insert","\\/"],"Alt-Shift-KeyK":"toggleKeystrokeCaption","Alt-Space":"toggleVirtualKeyboard","mac:Ctrl-Meta-Up":["speak","parent",{withHighlighting:!1}],"!mac:Ctrl-Alt-Up":["speak","parent",{withHighlighting:!1}],"mac:Ctrl-Meta-Down":["speak","all",{withHighlighting:!1}],"!mac:Ctrl-Alt-Down":["speak","all",{withHighlighting:!1}],"mac:Ctrl-Meta-Left":["speak","left",{withHighlighting:!1}],"!mac:Ctrl-Alt-Left":["speak","left",{withHighlighting:!1}],"mac:Ctrl-Meta-Right":["speak","right",{withHighlighting:!1}],"!mac:Ctrl-Alt-Right":["speak","right",{withHighlighting:!1}],"!mac:Ctrl-Alt-Period":["speak","selection",{withHighlighting:!1}],"mac:Ctrl-Meta-Period":["speak","selection",{withHighlighting:!1}],"mac:Ctrl-Meta-Shift-Up":["speak","parent",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Up":["speak","parent",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Down":["speak","all",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Down":["speak","all",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Left":["speak","left",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Left":["speak","left",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Right":["speak","right",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Right":["speak","right",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Period":["speak","selection",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Period":["speak","selection",{withHighlighting:!0}]},mt={"\\theta":"Alt-KeyQ","\\sqrt":["Alt-KeyV","Ctrl-Digit2"],"\\pi":"Alt-KeyP","\\prod":"Alt-Shift-KeyP","\\sum":"Alt-KeyW","\\int":"Alt-KeyB","\\cup":"Alt-KeyU","\\cap":"Alt-KeyN","\\bigcup":"Alt-Shift-KeyU","\\bigcap":"Alt-Shift-KeyN","\\forall":"Alt-Shift-KeyA","\\exists":"Alt-Shift-KeyE","\\infty":"Alt-Digit5","\\wedge":"Alt-Digit5","\\vee":"Alt-Shift-Digit6","\\differentialD":"Alt-keyD","\\partial":"Alt-Shift-KeyD","\\frac":"Slash","\\emptyset":"Alt-KeyO","\\varnothing":"Alt-Shift-KeyO","\\~":"~"},pt={"''":{mode:"math",value:"^{\\doubleprime}"},alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:{mode:"math",value:"\\pi"},"pi ":{mode:"text",value:"\\pi "},Pi:{mode:"math",value:"\\Pi"},theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:{mode:"math",value:"\\nabla"},grad:{mode:"math",value:"\\nabla"},del:{mode:"math",value:"\\partial"},"":"\\infty",oo:{mode:"math",after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":{mode:"math",value:"\\sum"},sum:{mode:"math",value:"\\sum_{#?}^{#?}"},prod:{mode:"math",value:"\\prod_{#?}^{#?}"},sqrt:{mode:"math",value:"\\sqrt"},"":{mode:"math",value:"\\differentialD"},"":{mode:"math",value:"\\differentialD"},sin:{mode:"math",value:"\\sin"},cos:{mode:"math",value:"\\cos"},tan:{mode:"math",value:"\\tan"},tanh:{mode:"math",value:"\\tanh"},log:{mode:"math",value:"\\log"},ln:{mode:"math",value:"\\ln"},exp:{mode:"math",value:"\\exp"},lim:{mode:"math",value:"\\lim_{#?}"},dx:"\\differentialD x",dy:"\\differentialD y",dt:"\\differentialD t",AA:{mode:"math",value:"\\forall"},EE:{mode:"math",value:"\\exists"},"!EE":{mode:"math",value:"\\nexists"},"&&":{mode:"math",value:"\\land"},xin:{mode:"math",after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{mode:"math",after:"nothing+letter+closefence",value:"\\in"},"!in":{mode:"math",value:"\\notin"},NN:"\\N",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",PP:"\\P",xx:"\\times","+-":"\\pm","!=":"\\ne",">=":"\\ge","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","":"\\div","":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},"eta ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta "},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},"mu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu "},nu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},"nu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu "},"":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","":"\\omega",forall:"\\forall",exists:{mode:"math",value:"\\exists"},"!exists":{mode:"math",value:"\\nexists"},":.":{mode:"math",value:"\\therefore"},liminf:"\\operatorname*{lim~inf}_{#?}",limsup:"\\operatorname*{lim~sup}_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:{mode:"math",value:"\\mod"},max:{mode:"math",value:"\\max"},min:{mode:"math",value:"\\min"},erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:{mode:"math",value:"\\operatorname{bessel}"},mean:{mode:"math",value:"\\operatorname{mean}"},median:{mode:"math",value:"\\operatorname{median}"},fft:{mode:"math",value:"\\operatorname{fft}"},lcm:{mode:"math",value:"\\operatorname{lcm}"},gcd:{mode:"math",value:"\\operatorname{gcd}"},randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:{mode:"math",value:"\\operatorname{Re}"},Im:{mode:"math",value:"\\operatorname{Im}"},mm:{mode:"math",after:"nothing+digit",value:"\\operatorname{mm}"},cm:{mode:"math",after:"nothing+digit",value:"\\operatorname{cm}"},km:{mode:"math",after:"nothing+digit",value:"\\operatorname{km}"},kg:{mode:"math",after:"nothing+digit",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","--\x3e":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"};function ut(e,t,i){if(!i)return i;if("string"==typeof i)return i;if("string"==typeof i.mode&&i.mode!==e)return null;if(!t)return i?i.value:void 0;let s=!1,a=!1,r=!1,o=!1,n=!1,l=!1,c=!1,h=!1,d=!1,m=!1,p=!1,u=!1,f=!1,g=!1,y=t[t.length-1],b=t.length-1;for(;y&&/msubsup|placeholder/.test(y.type);)b-=1,y=t[b];return s=!y||"first"===y.type,y&&(f="text"===y.mode,a=!f&&"mord"===y.type&&Ae.test(y.body),r=!f&&"mord"===y.type&&/[0-9]+$/.test(y.body),o=!f&&y.isFunction,n="genfrac"===y.type,l="surd"===y.type,c="mbin"===y.type,h="mrel"===y.type,d="mpunct"===y.type||"minner"===y.type,m=y.array,p="mopen"===y.type,u="mclose"===y.type||"leftright"===y.type,g="space"===y.type),void 0!==i.after?/nothing/.test(i.after)&&s||/letter/.test(i.after)&&a||/digit/.test(i.after)&&r||/function/.test(i.after)&&o||/frac/.test(i.after)&&n||/surd/.test(i.after)&&l||/binop/.test(i.after)&&c||/relop/.test(i.after)&&h||/punct/.test(i.after)&&d||/array/.test(i.after)&&m||/openfence/.test(i.after)&&p||/closefence/.test(i.after)&&u||/text/.test(i.after)&&f||/space/.test(i.after)&&g?i.value:null:i.value}function ft(e){let t="other";return navigator&&navigator.platform&&navigator.userAgent&&(/^(mac)/i.test(navigator.platform)?t="mac":/^(win)/i.test(navigator.platform)?t="win":/(android)/i.test(navigator.userAgent)?t="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?t="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(t="chromeos")),t===e?e:"!"+e}function gt(e){let t=e;return Array.isArray(t)&&t.length>0&&(t=t[0]+"("+t.slice(1).join("")+")"),t}function yt(e,t){let i="";Array.isArray(e)||(e=[e]);for(const s of e){let e;const a=s.match(/(^[^:]*):/),r=a?a[1]:"";if(r===ft("mac")||r===ft("win")||r===ft("ios")||r===ft("android")||r===ft("chromeos")||r===ft("other")){const t=s.match(/:([^:]*)$/);e=t?t[1]:s}else if(!["mac","!mac","win","!win","ios","!ios","android","!android","chromeos","!chromeos","other","!other"].includes(r)){const t=s.match(/:([^:]*)$/);e=t?t[1]:s}if(e){const s="mac"===ft("mac")||"ios"===ft("ios"),a=e.length>1?e.split("-"):[e];let r="";for(const e of a)!s&&r.length>0&&(r+='<span class="ML__shortcut-join">+</span>'),"Key"===e.substr(0,3)?r+=e.substr(3,1):"Digit"===e.substr(0,5)?r+=e.substr(5,1):r+={Meta:s?"":"command",Shift:s?"":"shift",Alt:s?"":"alt",Ctrl:s?"":"control","\n":s?"":"return",Return:s?"":"return",Enter:s?"":"enter",Tab:s?"":"tab",Esc:"esc",Backspace:s?"":"backspace",Del:s?"":"del",PageUp:s?"":"page up",PageDown:s?"":"page down",Home:s?"":"home",End:s?"":"end",Spacebar:"space",Semicolon:";",Period:".",Comma:",",Minus:"-",Equal:"=",Quote:"'",BracketLeft:"[",BracketRight:"]",Backslash:"\\",IntlBackslash:"\\",Backquote:"`",Slash:"/",NumpadMultiply:"* &#128290;",NumpadDivide:"/ &#128290;",NumpadSubtract:"- &#128290;",NumpadAdd:"+ &#128290;",NumpadDecimal:". &#128290;",NumpadComma:", &#128290;",Help:"help",Left:"",Up:"",Right:"",Down:""}[e]||e;i.length>0&&(i+=t||" or "),i+=r}}return i}var bt={KEYBOARD_SHORTCUTS:dt,INLINE_SHORTCUTS:pt,stringify:yt,startsWithString:function(e,t){const i=[];for(let s=0;s<=e.length-1;s++){const a=e.substring(s);t&&t.overrideDefaultInlineShortcuts||Object.keys(pt).forEach(e=>{e.startsWith(a)&&!i.includes(e)&&i.push(e)});const r=t&&t.inlineShortcuts?t.inlineShortcuts:null;r&&Object.keys(r).forEach(e=>{e.startsWith(a)&&i.push(e)})}return i},forString:function(e,t,i,s){let a="";s&&s.overrideDefaultInlineShortcuts||(a=ut(e,t,pt[i]));const r=s&&s.inlineShortcuts?s.inlineShortcuts:null;let o;return r&&(o=ut(e,t,r[i])),o||a},selectorForKeystroke:function(e,t){for(const i of[ft("mac")+":"+e+":"+t,ft("win")+":"+e+":"+t,ft("ios")+":"+e+":"+t,ft("android")+":"+e+":"+t,ft("chromeos")+":"+e+":"+t,ft("other")+":"+e+":"+t,ft("mac")+":"+t,ft("win")+":"+t,ft("ios")+":"+t,ft("android")+":"+t,ft("chromeos")+":"+t,e+":"+t,t])if(dt[i])return dt[i];return""},forCommand:function(e){let t=[];if("string"==typeof e){const i=mt[e];Array.isArray(i)?t=i.slice():i&&t.push(i)}e=gt(e);const i=new RegExp("^"+e.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");return Object.keys(dt).forEach(e=>{if(i.test(gt(dt[e]))){const i=e.match(/:([^:]*)$/);i&&t.push(i[1])}}),yt(t)}};function vt(e,t){this.root=Ge(),this.path=[{relation:"body",offset:0}],this.extent=0,this.config=e?{...e}:{},this.target=t,this.suppressChangeNotifications=!1}function xt(e){const t=Object.assign(new vt(e.config,e.target),e);return t.path=ht.clone(e.path),t}function kt(e,t){let i=0;for(let s=0;s<t.row;s++)for(let t=0;t<e[s].length;t++)i+=1;return i+=t.col,i}function _t(e,t){if("string"==typeof t){const e=t.match(/cell([0-9]*)$/);e&&(t=parseInt(e[1]))}const i={row:0,col:0};for(;t>0;)i.col+=1,(!e[i.row]||i.col>=e[i.row].length)&&(i.col=0,i.row+=1),t-=1;return i}function wt(e,t){let i;return"object"!=typeof t&&(t=_t(e,t)),Array.isArray(e[t.row])&&(i=e[t.row][t.col]||null),!i||0!==i.length&&"first"===i[0].type||i.unshift($t()),i}function Mt(e){let t=0,i=0,s=1;for(const t of e)i+=1,t.length>s&&(s=t.length);return t=i*s,t}function zt(e,t,i){if(!e)return[];t||(t=",");let s,a=[];for(let r of e)r&&r.length>0&&"first"===r[0].type&&(r=r.slice(1)),r&&r.length>0&&(s?a.push(s):s=new Xe("math","mpunct",t,i),a=a.concat(r));return a}function St(e,t,i){const s={...t};if(s.row+=i,s.row<0){if(s.col+=i,s.row=e.length-1,s.col<0)return null;for(;s.row>=0&&!wt(e,s);)s.row-=1;if(s.row<0)return null}else if(s.row>=e.length){for(s.col+=i,s.row=0;s.row<e.length&&!wt(e,s);)s.row+=1;if(s.row>e.length-1)return null}return s}function Lt(e){return!!e&&("mord"===e.type&&/[0-9.]/.test(e.body)||"mpunct"===e.type&&","===e.body)}function At(e,t){if(!e)return!1;if(Array.isArray(e)){for(const i of e)if(At(i,t))return!0}else{if(e===t)return!0;if(["body","numer","denom","index","subscript","superscript","underscript","overscript"].some((function(i){return i===t||At(e[i],t)})))return!0;if(e.array)for(let i=Mt(e.array);i>=0;i--)if(At(wt(e.array,i),t))return!0}return!1}function Ct(e){if(e)return 1===e.length&&"leftright"===e[0].type&&"("===e[0].leftDelim&&(e=e[0].body),e}function Tt(e,t){if(!e)return"";if(e.length<=1)return e;if(!t||"ASCIIMath"!==t.format){if(e.startsWith("$$")&&e.endsWith("$$"))return e.substring(2,e.length-2);if(e.startsWith("$")&&e.endsWith("$"))return e.substring(1,e.length-1);if(e=e.replace(/\\\\([^\s\n])/g,"\\$1"),/\\/.test(e))return e}return Ft(e=(e=(e=(e=(e=(e=e.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),t)}function Ft(e,t){if(!e)return"";let i,s=!1;if(s||"^"!==e[0]&&"_"!==e[0]||(i=Dt(e.substr(1),{...t,noWrap:!0}),e=e[0]+"{"+i.match+"}",e+=Ft(i.rest,t),s=!0),s||(i=e.match(/^(sqrt|\u221a)(.*)/),i&&(i=Dt(i[2],{...t,noWrap:!0}),e="\\sqrt{"+i.match+"}",e+=Ft(i.rest,t),s=!0)),s||(i=e.match(/^(\\cbrt|\u221b)(.*)/),i&&(i=Dt(i[2],{...t,noWrap:!0}),e="\\sqrt[3]{"+i.match+"}",e+=Ft(i.rest,t),s=!0)),s||(i=e.match(/^abs(.*)/),i&&(i=Dt(i[1],{...t,noWrap:!0}),e="\\left|"+i.match+"\\right|",e+=Ft(i.rest,t),s=!0)),s||(i=e.match(/^["](.*?)["](.*)/),i&&(e="\\text{"+i[1]+"}",e+=Ft(i[2],t),s=!0)),s||(i=e.match(/^([^a-zA-Z({[_^\\\s"]+)(.*)/),i&&(e=qt(i[1],t),e+=Ft(i[2],t),s=!0)),!s&&/^(f|g|h)[^a-zA-Z]/.test(e)&&(i=Dt(e.substring(1),{...t,noWrap:!0}),e="("===e[1]?e[0]+"\\mleft("+i.match+"\\mright)":e[0]+i.match,e+=Ft(i.rest,t),s=!0),s||(i=e.match(/^([a-zA-Z]+)(.*)/),i&&(e=qt(i[1],t),e+=Ft(i[2],t),s=!0)),!s)if(i=Dt(e,{...t,noWrap:!0}),i.match&&"/"===i.rest[0]){const a=Dt(i.rest.substr(1),{...t,noWrap:!0});a.match&&(e="\\frac{"+i.match+"}{"+a.match+"}"+Ft(a.rest,t)),s=!0}else i.match&&(e="("===e[0]?"\\left("+i.match+"\\right)"+Ft(i.rest,t):i.match+Ft(i.rest,t),s=!0);return s||(i=e.match(/^(\s+)(.*)$/),i&&(e=" "+Ft(i[2],t),s=!0)),e}function Dt(e,t){let i="",s=e=e.trim(),a=e.charAt(0),r={"(":")","{":"}","[":"]"}[a];if(r){let o=1,n=1;for(;n<e.length&&o>0;)e[n]===a&&o++,e[n]===r&&o--,n++;0===o?(t.noWrap&&"("===a?i=Ft(e.substring(1,n-1),t):("{"===a&&"}"===r&&(a="\\{",r="\\}"),i="\\left"+a+Ft(e.substring(1,n-1),t)+"\\right"+r),s=e.substring(n)):(i=e.substring(1,n),s="")}else{let a=e.match(/^([a-zA-Z]+)/);if(a){let i=bt.forString("math",null,e,t);if(i)return i=i.replace("_{#?}",""),i=i.replace("^{#?}",""),{match:i,rest:e.substring(i.length)}}if(a=e.match(/^([a-zA-Z])/),a)return{match:a[1],rest:e.substring(1)};if(a=e.match(/^(-)?\d+(\.\d*)?/),a)return{match:a[0],rest:e.substring(a[0].length)};/^\\(left|right)/.test(e)||(a=e.match(/^(\\[a-zA-Z]+)/),a&&(s=e.substring(a[1].length),i=a[1]))}return{match:i,rest:s}}function qt(e,t){let i=bt.forString("math",null,e,t);return i?(i=i.replace("_{#?}",""),i=i.replace("^{#?}",""),i+=" "):i=e,i}function $t(){return new Xe("","first")}vt.prototype._announce=function(e,t,i){"function"==typeof this.config.onAnnounce&&this.config.onAnnounce(this.target,e,t,i)},vt.prototype.filter=function(e,t){t=t<0?-1:1;const i=[],s=new vt;s.path=ht.clone(this.path),s.extent=this.extent,s.root=this.root,t>=0?s.collapseForward():(s.collapseBackward(),s.move(1));const a=s.anchor();do{e.bind(s)(s.path,s.anchor())&&i.push(s.toString()),t>=0?s.next({iterateAll:!0}):s.previous({iterateAll:!0})}while(a!==s.anchor());return i},vt.prototype.forEach=function(e){this.root.forEach(e)},vt.prototype.forEachSelected=function(e,t){(t=t||{}).recursive=void 0!==t.recursive&&t.recursive;const i=this.siblings(),s=this.startOffset()+1,a=this.endOffset()+1;if(t.recursive)for(let t=s;t<a;t++)i[t]&&"first"!==i[t].type&&i[t].forEach(e);else for(let t=s;t<a;t++)i[t]&&"first"!==i[t].type&&e(i[t])},vt.prototype.toString=function(){return ht.pathToString(this.path,this.extent)},vt.prototype.adjustPlaceholder=function(){const e=this.siblings();if(e&&e.length<=1){let t;const i=this.relation();if("numer"===i?t="numerator":"denom"===i?t="denominator":"surd"===this.parent().type&&"body"===i?t="radicand":"overunder"===this.parent().type&&"body"===i?t="base":"underscript"!==i&&"overscript"!==i||(t="annotation"),t){const t=[new Xe("math","placeholder","",this.anchorStyle())];Array.prototype.splice.apply(e,[1,0].concat(t))}}},vt.prototype.selectionWillChange=function(){"function"!=typeof this.config.onSelectionWillChange||this.suppressChangeNotifications||this.config.onSelectionWillChange(this.target)},vt.prototype.selectionDidChange=function(){"function"!=typeof this.config.onSelectionDidChange||this.suppressChangeNotifications||this.config.onSelectionDidChange(this.target)},vt.prototype.contentWillChange=function(){"function"!=typeof this.config.onContentWillChange||this.suppressChangeNotifications||this.config.onContentWillChange(this.target)},vt.prototype.contentDidChange=function(){"function"!=typeof this.config.onContentDidChange||this.suppressChangeNotifications||this.config.onContentDidChange(this.target)},vt.prototype.setPath=function(e,t){if("string"==typeof e)e=ht.pathFromString(e);else if(Array.isArray(e)){const i=ht.clone(e),s=this.path;this.path=i,0===t&&"placeholder"===this.anchor().type&&(i[i.length-1].offset=this.anchorOffset()-1,t=1),e={path:i,extent:t||0},this.path=s}const i=0!==ht.pathDistance(this.path,e.path),s=e.extent!==this.extent;return(i||s)&&(i&&this.adjustPlaceholder(),this.selectionWillChange(),this.path=ht.clone(e.path),this.siblings().length<this.anchorOffset()?(this.path=[{relation:"body",offset:0}],this.extent=0):this.setExtent(e.extent),this.selectionDidChange()),i||s},vt.prototype.wordBoundary=function(e,t){t=t<0?-1:1;const i=new vt;i.path=ht.clone(e),i.root=this.root;let s=0;for(;i.sibling(s)&&"text"===i.sibling(s).mode&&Ce.test(i.sibling(s).body);)s+=t;return i.sibling(s)||(s-=t),i.path[i.path.length-1].offset+=s,i.path},vt.prototype.wordBoundaryOffset=function(e,t){t=t<0?-1:1;const i=this.siblings();if(!i[e])return e;if("text"!==i[e].mode)return e;let s;if(Ce.test(i[e].body)){let a,r=e;do{a="text"===i[r].mode&&Ce.test(i[r].body),r+=t}while(i[r]&&a);s=i[r]?r-2*t:r-t}else if(/\s/.test(i[e].body)){let a=e;for(;i[a]&&"text"===i[a].mode&&/\s/.test(i[a].body);)a+=t;if(i[a]){let e=!0;do{e="text"===i[a].mode&&!/\s/.test(i[a].body),a+=t}while(i[a]&&e);s=i[a]?a-2*t:a-t}else s=a-t}else{let a=e;for(;i[a]&&"text"===i[a].mode&&!/\s/.test(i[a].body);)a+=t;s=i[a]?a:a-t;let r=!0;for(;i[a]&&r;)r="text"===i[a].mode&&/\s/.test(i[a].body),r&&(s=a),a+=t;s=i[a]?a-2*t:a-t}return s-(t>0?0:1)},vt.prototype.setRange=function(e,t,i){i=i||{};const s=ht.pathDistance(e,t);if(0===s)return i.extendToWordBoundary?(e=this.wordBoundary(e,-1),t=this.wordBoundary(t,1),this.setRange(e,t)):this.setPath(ht.clone(e),0);if(1===s){const s=t[t.length-1].offset-e[e.length-1].offset;return i.extendToWordBoundary?(e=this.wordBoundary(e,s<0?1:-1),t=this.wordBoundary(t,s<0?-1:1),this.setRange(e,t)):this.setPath(ht.clone(e),s)}let a=ht.pathCommonAncestor(e,t);const r=a.length;if(e.length===r||t.length===r||e[r].relation!==t[r].relation)return this.setPath(a,-1);a.push(e[r]),a=ht.clone(a);let o=t[r].offset-e[r].offset+1;return o<=0?t.length>r+1?(a[r].relation=t[r].relation,a[r].offset=t[r].offset,a[a.length-1].offset-=1,o=2-o):(a[r].relation=t[r].relation,a[r].offset=t[r].offset,o=1-o):t.length<=e.length?a[a.length-1].offset-=1:t.length>e.length&&(a[r].offset-=1),this.setPath(a,o)},vt.prototype.ancestor=function(e){if(e>this.path.length)return null;let t=this.root;for(let i=0;i<this.path.length-e;i++){const e=this.path[i];if(t.array)t=wt(t.array,e.relation)[e.offset];else{if(!t[e.relation])return null;{0!==t[e.relation].length&&"first"===t[e.relation][0].type||t[e.relation].unshift($t());const i=Math.min(e.offset,t[e.relation].length-1);t=t[e.relation][i]}}}return t},vt.prototype.anchor=function(){if(this.parent().array)return wt(this.parent().array,this.relation())[this.anchorOffset()];const e=this.siblings();return e[Math.min(e.length-1,this.anchorOffset())]},vt.prototype.parent=function(){return this.ancestor(1)},vt.prototype.relation=function(){return this.path.length>0?this.path[this.path.length-1].relation:""},vt.prototype.anchorOffset=function(){return this.path.length>0?this.path[this.path.length-1].offset:0},vt.prototype.focusOffset=function(){return this.path.length>0?this.path[this.path.length-1].offset+this.extent:0},vt.prototype.startOffset=function(){return Math.min(this.focusOffset(),this.anchorOffset())},vt.prototype.endOffset=function(){return Math.max(this.focusOffset(),this.anchorOffset())},vt.prototype.insertFirstAtom=function(){this.siblings()},vt.prototype.siblings=function(){if(0===this.path.length)return[];let e;return this.parent().array?e=wt(this.parent().array,this.relation()):(e=this.parent()[this.relation()]||[],"string"==typeof e&&(e=[])),0!==e.length&&"first"===e[0].type||e.unshift($t()),e},vt.prototype.sibling=function(e){return this.siblings()[this.startOffset()+e]},vt.prototype.isCollapsed=function(){return 0===this.extent},vt.prototype.setExtent=function(e){this.extent=e},vt.prototype.collapseForward=function(){return 0!==this.extent&&(this.setSelection(this.endOffset()),!0)},vt.prototype.collapseBackward=function(){return 0!==this.extent&&(this.setSelection(this.startOffset()),!0)},vt.prototype.selectGroup_=function(){const e=this.siblings();if("text"===this.anchorMode()){let t=this.startOffset(),i=this.endOffset();for(;e[t]&&"text"===e[t].mode&&Ce.test(e[t].body);)t-=1;for(;e[i]&&"text"===e[i].mode&&Ce.test(e[i].body);)i+=1;if(i-=1,t>=i)return void this.setSelection(this.endOffset()-1,1);this.setSelection(t,i-t)}else if("mord"===this.sibling(0).type&&/[0-9,.]/.test(this.sibling(0).body)){let t=this.startOffset(),i=this.endOffset();for(;Lt(e[t]);)t-=1;for(;Lt(e[i]);)i+=1;i-=1,this.setSelection(t,i-t)}else this.setSelection(0,"end")},vt.prototype.selectAll_=function(){this.path=[{relation:"body",offset:0}],this.setSelection(0,"end")},vt.prototype.deleteAll_=function(){this.selectAll_(),this.delete_()},vt.prototype.contains=function(e){if(this.isCollapsed())return!1;const t=this.siblings(),i=this.startOffset(),s=this.endOffset();for(let a=i;a<s;a++)if(At(t[a],e))return!0;return!1},vt.prototype.getSelectedAtoms=function(){if(this.isCollapsed())return null;const e=[],t=this.siblings(),i=this.startOffset()+1,s=this.endOffset()+1;for(let a=i;a<s;a++)t[a]&&"first"!==t[a].type&&e.push(t[a]);return e},vt.prototype.commandOffsets=function(){const e=this.siblings();if(e.length<=1)return null;let t=Math.min(this.endOffset(),e.length-1);if("command"!==e[t].type)return null;for(;t>0&&"command"===e[t].type;)t-=1;let i=this.startOffset()+1;for(;i<=e.length-1&&"command"===e[i].type;)i+=1;return i>t?{start:t+1,end:i}:null},vt.prototype.extractCommandStringAroundInsertionPoint=function(e){let t="";const i=this.commandOffsets();if(i){const s=e?this.anchorOffset()+1:i.end,a=this.siblings();for(let e=i.start;e<s;e++)t+=a[e].body||""}return t},vt.prototype.decorateCommandStringAroundInsertionPoint=function(e){const t=this.commandOffsets();if(t){const i=this.siblings();for(let s=t.start;s<t.end;s++)i[s].error=e}},vt.prototype.commitCommandStringBeforeInsertionPoint=function(){const e=this.commandOffsets();if(e){const t=this.siblings(),i=this.anchorOffset()+1;for(let s=e.start;s<i;s++)t[s]&&(t[s].suggestion=!1)}},vt.prototype.spliceCommandStringAroundInsertionPoint=function(e){const t=this.commandOffsets();if(t){if(this.contentWillChange(),e){Array.prototype.splice.apply(this.siblings(),[t.start,t.end-t.start].concat(e));let i=[];for(const t of e)i=i.concat(t.filter(e=>"placeholder"===e.type));this.setExtent(0),this.path[this.path.length-1].offset=t.start-1,0!==i.length&&this.leap(1,!1)||this.setSelection(t.start+e.length-1)}else this.siblings().splice(t.start,t.end-t.start),this.setSelection(t.start-1,0);this.contentDidChange()}},vt.prototype.removeCommandString=function(){this.contentWillChange();const e=this.suppressChangeNotifications;this.suppressChangeNotifications=!0,function e(t){if(t)if(Array.isArray(t))for(let i=t.length-1;i>=0;i--)"command"===t[i].type?t.splice(i,1):e(t[i]);else if(e(t.body),e(t.superscript),e(t.subscript),e(t.underscript),e(t.overscript),e(t.numer),e(t.denom),e(t.index),t.array)for(let i=Mt(t.array);i>=0;i--)e(wt(t.array,i))}(this.root.body),this.suppressChangeNotifications=e,this.contentDidChange()},vt.prototype.extractArgBeforeInsertionPoint=function(){const e=this.siblings();if(e.length<=1)return[];const t=[];let i=this.startOffset();if("text"===e[i].mode)for(;i>=1&&"text"===e[i].mode;)t.unshift(e[i]),i--;else for(;i>=1&&/^(mord|surd|msubsup|leftright|mop)$/.test(e[i].type);)t.unshift(e[i]),i--;return t},vt.prototype.setSelection=function(e,t,i){e=e||0,t=t||0;const s=this.path[this.path.length-1].relation;i||(i=s);const a=this.parent();if(!a&&"body"!==i)return!1;const r=i.startsWith("cell");if(!r&&!a[i]||r&&!a.array)return!1;const o=i!==s;this.path[this.path.length-1].relation=i;const n=this.siblings().length;this.path[this.path.length-1].relation=s;const l=this.extent;"end"===t?t=n-e-1:"start"===t&&(t=-e),this.setExtent(t);const c=this.extent!==l;this.setExtent(l),e<0&&(e=n+e),e=Math.max(0,Math.min(e,n-1));const h=this.path[this.path.length-1].offset;return(o||h!==e||c)&&(o&&this.adjustPlaceholder(),this.selectionWillChange(),this.path[this.path.length-1].relation=i,this.path[this.path.length-1].offset=e,this.setExtent(t),this.selectionDidChange()),!0},vt.prototype.next=function(e){e=e||{};const t={body:"numer",numer:"denom",denom:"index",index:"overscript",overscript:"underscript",underscript:"subscript",subscript:"superscript"};if(this.anchorOffset()===this.siblings().length-1){this.adjustPlaceholder();let i=t[this.relation()];const s=this.parent();for(;i&&!s[i];)i=t[i];if(i)return void this.setSelection(0,0,i);if(this.parent().array){const e=Mt(this.parent().array);let t=parseInt(this.relation().match(/cell([0-9]*)$/)[1])+1;for(;t<e;){if(wt(this.parent().array,t)&&this.setSelection(0,0,"cell"+t))return void this.selectionDidChange();t+=1}}if(1===this.path.length)(this.suppressChangeNotifications||!this.config.onMoveOutOf||this.config.onMoveOutOf(this,"forward"))&&(this.path[0].offset=0);else{const t=!e.iterateAll&&this.parent().skipBoundary;this.path.pop(),t&&this.next(e)}return void this.selectionDidChange()}this.setSelection(this.anchorOffset()+1);const i=this.anchor();if(i&&!i.captureSelection){let s;if(i.array){let e=0;s="";const t=Mt(i.array);for(;!s&&e<t;)wt(i.array,e)&&(s="cell"+e.toString()),e+=1;return this.path.push({relation:s,offset:0}),void this.setSelection(0,0,s)}for(s="body";s;){if(Array.isArray(i[s]))return this.path.push({relation:s,offset:0}),this.insertFirstAtom(),void(!e.iterateAll&&i.skipBoundary&&this.next(e));s=t[s]}}},vt.prototype.previous=function(e){const t={numer:"body",denom:"numer",index:"denom",overscript:"index",underscript:"overscript",subscript:"underscript",superscript:"subscript"};if(!(e=e||{}).iterateAll&&1===this.anchorOffset()&&this.parent()&&this.parent().skipBoundary&&this.setSelection(0),this.anchorOffset()<1){let e=t[this.relation()];for(;e&&!this.setSelection(-1,0,e);)e=t[e];const i=this.parent()?this.parent().type:"none";if("body"!==e||"msubsup"!==i&&"mop"!==i||(e=null),e)return;if(this.adjustPlaceholder(),this.selectionWillChange(),this.relation().startsWith("cell")){let e=parseInt(this.relation().match(/cell([0-9]*)$/)[1])-1;for(;e>=0;){if(wt(this.parent().array,e)&&this.setSelection(-1,0,"cell"+e))return void this.selectionDidChange();e-=1}}return 1===this.path.length?(this.suppressChangeNotifications||!this.config.onMoveOutOf||this.config.onMoveOutOf.bind(this)(-1))&&(this.path[0].offset=this.root.body.length-1):(this.path.pop(),this.setSelection(this.anchorOffset()-1)),void this.selectionDidChange()}const i=this.anchor();if(!i.captureSelection){let e;if(i.array){e="";const t=Mt(i.array);let s=t-1;for(;!e&&s<t;)wt(i.array,s)&&(e="cell"+s.toString()),s-=1;return s+=1,this.path.push({relation:e,offset:wt(i.array,s).length-1}),void this.setSelection(-1,0,e)}for(e="superscript";e;){if(Array.isArray(i[e]))return this.path.push({relation:e,offset:i[e].length-1}),void this.setSelection(-1,0,e);e=t[e]}}this.setSelection(this.anchorOffset()-1),!e.iterateAll&&this.sibling(0)&&this.sibling(0).skipBoundary&&this.previous(e)},vt.prototype.move=function(e,t){const i=(t=t||{extend:!1}).extend||!1;if(this.removeSuggestion(),i)this.extend(e,t);else{const t=xt(this);if(e>0)for(this.collapseForward()&&e--;e>0;)this.next(),e--;else if(e<0)for(this.collapseBackward()&&e++;0!==e;)this.previous(),e++;this._announce("move",t)}},vt.prototype.up=function(e){const t=(e=e||{extend:!1}).extend||!1;this.collapseBackward();const i=this.relation();if("denom"===i)t?(this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange()):this.setSelection(this.anchorOffset(),0,"numer"),this._announce("moveUp");else if(this.parent().array){let t=_t(this.parent().array,i);t=St(this.parent().array,t,-1),t&&wt(t)?(this.path[this.path.length-1].relation="cell"+kt(this.parent().array,t),this.setSelection(this.anchorOffset()),this._announce("moveUp")):this.move(-1,e)}else this._announce("line")},vt.prototype.down=function(e){const t=(e=e||{extend:!1}).extend||!1;this.collapseForward();const i=this.relation();if("numer"===i)t?(this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange()):this.setSelection(this.anchorOffset(),0,"denom"),this._announce("moveDown");else if(this.parent().array){let t=_t(this.parent().array,i);t=St(this.parent().array,t,1),t&&wt(t)?(this.path[this.path.length-1].relation="cell"+kt(this.parent().array,t),this.setSelection(this.anchorOffset()),this._announce("moveDown")):this.move(1,e)}else this._announce("line")},vt.prototype.extend=function(e){let t=this.path[this.path.length-1].offset,i=0;const s=xt(this);i=this.extent+e;const a=t+i;if(a<0&&0!==i){if(this.path.length>1)return this.selectionWillChange(),this.path.pop(),this.setExtent(-1),this.selectionDidChange(),void this._announce("move",s);t=this.path[this.path.length-1].offset,i=this.extent}else if(a>=this.siblings().length){if(this.path.length>1)return this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange(),void this._announce("move",s);this.isCollapsed()&&(t-=1),i-=1}this.setSelection(t,i),this._announce("move",s)},vt.prototype.skip=function(e,t){const i=(t=t||{extend:!1}).extend||!1;e=e<0?-1:1;const s=xt(this),a=this.siblings(),r=this.focusOffset();let o=r+e;if(i&&(o=Math.min(Math.max(0,o),a.length-1)),o<0||o>=a.length)this.move(e,t);else{if(a[o]&&"text"===a[o].mode){if(o=this.wordBoundaryOffset(o,e),o<0&&!i)return void this.setSelection(0);if(o>a.length)return this.setSelection(a.length-1),void this.move(e,t)}else{const t=a[o]?a[o].type:"";if("mopen"===t&&e>0||"mclose"===t&&e<0){let i="mopen"===t?1:-1;for(o+=e>0?1:-1;o>=0&&o<a.length&&0!==i;)"mopen"===a[o].type?i+=1:"mclose"===a[o].type&&(i-=1),o+=e;0!==i&&(o=r+e),e>0&&(o-=1)}else{for(;a[o]&&"math"===a[o].mode&&a[o].type===t;)o+=e;o-=e>0?1:0}}if(i){const e=this.anchorOffset();this.setSelection(e,o-e)}else this.setSelection(o);this._announce("move",s)}},vt.prototype.jump=function(e,t){const i=(t=t||{extend:!1}).extend||!1;e=e<0?-1:1;const s=this.siblings();let a=this.focusOffset();e>0&&(a=Math.min(a+1,s.length-1));const r=e<0?0:s.length-1;i?this.extend(r-a):this.move(r-a)},vt.prototype.jumpToMathFieldBoundary=function(e,t){const i=(t=t||{extend:!1}).extend||!1;e=(e=e||1)<0?-1:1;const s=xt(this),a=[{relation:"body",offset:this.path[0].offset}];let r;i?e<0?a[0].offset>0&&(r=-a[0].offset):a[0].offset<this.siblings().length-1&&(r=this.siblings().length-1-a[0].offset):(a[0].offset=e<0?0:this.root.body.length-1,r=0),this.setPath(a,r),this._announce("move",s)},vt.prototype.leap=function(e,t){e=(e=e||1)<0?-1:1,t=t||!0;const i=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;const s=xt(this),a=this.extent;this.move(e),"placeholder"===this.anchor().type&&this.move(e);const r=this.filter((e,t)=>"placeholder"===t.type||e.length>1&&1===this.siblings().length,e);if(0===r.length){if(this.setPath(s,a),t)if(this.config.onTabOutOf)this.config.onTabOutOf(this.target,e>0?"forward":"backward");else if(document.activeElement){const t='a[href]:not([disabled]),\n                    button:not([disabled]),\n                    textarea:not([disabled]),\n                    input[type=text]:not([disabled]),\n                    select:not([disabled]),\n                    [contentEditable="true"],\n                    [tabindex]:not([disabled]):not([tabindex="-1"])',i=Array.prototype.filter.call(document.querySelectorAll(t),e=>(e.offsetWidth>0||e.offsetHeight>0)&&!e.contains(document.activeElement)||e===document.activeElement);let s=i.indexOf(document.activeElement)+e;s<0&&(s=i.length-1),s>=i.length&&(s=0),i[s].focus()}return this.suppressChangeNotifications=i,!1}return this.selectionWillChange(),this.setPath(r[0]),"placeholder"===this.anchor().type&&this.setExtent(-1),this._announce("move",s),this.selectionDidChange(),this.suppressChangeNotifications=i,!0},vt.prototype.anchorMode=function(){const e=this.isCollapsed()?this.anchor():this.sibling(1);let t;if(e){if("commandliteral"===e.type||"command"===e.type)return"command";t=e.mode}let i=1,s=this.ancestor(i);for(;!t&&s;)s&&(t=s.mode),i+=1,s=this.ancestor(i);return t},vt.prototype.anchorStyle=function(){const e=this.isCollapsed()?this.anchor():this.sibling(1);let t;if(e&&"first"!==e.type){if("commandliteral"===e.type||"command"===e.type)return{};t={color:e.color,backgroundColor:e.backgroundColor,fontFamily:e.fontFamily,fontShape:e.fontShape,fontSeries:e.fontSeries,fontSize:e.fontSize}}let i=1,s=this.ancestor(i);for(;!t&&s;)s&&(t={color:s.color,backgroundColor:s.backgroundColor,fontFamily:s.fontFamily,fontShape:s.fontShape,fontSeries:s.fontSeries,fontSize:s.fontSize}),i+=1,s=this.ancestor(i);return t},vt.prototype.simplifyParen=function(e){if(e&&this.config.removeExtraneousParentheses){for(let t=0;e[t];t++)if("leftright"===e[t].type&&"("===e[t].leftDelim&&Array.isArray(e[t].body)){let i=0,s=0,a=0;for(let r=0;e[t].body[r];r++)"genfrac"===e[t].body[r].type&&(i++,s=r),"first"!==e[t].body[r].type&&a++;0===a&&1===i&&(e[t]=e[t].body[s])}e.forEach(e=>{if("genfrac"===e.type&&(this.simplifyParen(e.numer),this.simplifyParen(e.denom),e.numer=Ct(e.numer),e.denom=Ct(e.denom)),e.superscript&&(this.simplifyParen(e.superscript),e.superscript=Ct(e.superscript)),e.subscript&&(this.simplifyParen(e.subscript),e.subscript=Ct(e.subscript)),e.underscript&&(this.simplifyParen(e.underscript),e.underscript=Ct(e.underscript)),e.overscript&&(this.simplifyParen(e.overscript),e.overscript=Ct(e.overscript)),e.index&&(this.simplifyParen(e.index),e.index=Ct(e.index)),"surd"===e.type?(this.simplifyParen(e.body),e.body=Ct(e.body)):e.body&&Array.isArray(e.body)&&this.simplifyParen(e.body),e.array)for(let t=Mt(e.array);t>=0;t--)this.simplifyParen(wt(e.array,t))})}},vt.prototype.insert=function(e,t){if((t=t||{}).smartFence&&this._insertSmartFence(e,t.style))return;const i=this.suppressChangeNotifications;t.suppressChangeNotifications&&(this.suppressChangeNotifications=!0),this.contentWillChange();const s=this.suppressChangeNotifications;this.suppressChangeNotifications=!0,t.insertionMode||(t.insertionMode="replaceSelection"),t.selectionMode||(t.selectionMode="placeholder"),t.format||(t.format="auto"),t.macros=t.macros||this.config.macros;const a=t.mode||this.anchorMode();let r;const n=[this.getSelectedAtoms()];void 0!==t.placeholder&&(n["?"]=t.placeholder),"replaceSelection"!==t.insertionMode||this.isCollapsed()?"replaceAll"===t.insertionMode?(this.root.body.splice(1),this.path=[{relation:"body",offset:0}],this.extent=0):"insertBefore"===t.insertionMode?this.collapseBackward():"insertAfter"===t.insertionMode&&this.collapseForward():this.delete_();const l=this.siblings(),c=this.startOffset();if(c+1<l.length&&l[c+1]&&"placeholder"===l[c+1].type?this.delete_(1):c>0&&l[c]&&"placeholder"===l[c].type&&this.delete_(-1),"math"===a&&"ASCIIMath"===t.format)e=Tt(e,{...this.config,format:"ASCIIMath"}),r=at.parseTokens(o(e),"math",null,t.macros,!1),this.simplifyParen(r);else if("text"!==a&&"auto"===t.format)if("command"===a){r=[];for(const t of e)Le.test(t)&&r.push(new Xe("command","command",t))}else""===e?r=[new Xe("command","command","\\")]:(e=Tt(e,this.config),n[0]?e=e.replace(/(^|[^\\])#@/g,"$1#0"):/(^|[^\\])#@/.test(e)?(e=e.replace(/(^|[^\\])#@/g,"$1#0"),n[0]=this.extractArgBeforeInsertionPoint(),this._deleteAtoms(-n[0].length),Array.isArray(n[0])&&0===n[0].length&&(n[0]=void 0)):e=e.replace(/(^|[^\\])#@/g,"$1#?"),r=at.parseTokens(o(e),a,n,t.macros,t.smartFence),this.simplifyParen(r));else"latex"===t.format?r=at.parseTokens(o(e),a,n,t.macros,t.smartFence):"text"!==a&&"text"!==t.format||(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(//g,"\\textsterling "),r=at.parseTokens(o(e),"text",n,t.macros,!1));!function e(t,i){t&&i&&(Array.isArray(t)?t.forEach(t=>e(t,i)):"object"==typeof t&&(t.color||t.backgroundColor||t.fontFamily||t.fontShape||t.fontSeries||t.fontSize||(t.applyStyle(i),e(t.body,i),e(t.numer,i),e(t.denom,i),e(t.index,i),e(t.overscript,i),e(t.underscript,i),e(t.subscript,i),e(t.superscript,i))))}(r,t.style);const h=this.parent();if(this.config.removeExtraneousParentheses&&h&&"leftright"===h.type&&"("===h.leftDelim&&function(e){return 0===e.length||1===e.length&&"first"===e[0].type}(h.body)&&r&&1===r.length&&"genfrac"===r[0].type?(this.path.pop(),this.siblings()[this.anchorOffset()]=r[0]):Array.prototype.splice.apply(this.siblings(),[this.anchorOffset()+1,0].concat(r)),this.insertFirstAtom(),this.suppressChangeNotifications=s,"placeholder"===t.selectionMode){let e=[];for(const t of r)e=e.concat(t.filter(e=>"placeholder"===e.type));0!==e.length&&this.leap(1,!1)?this._announce("move"):this.setSelection(this.anchorOffset()+r.length)}else"before"===t.selectionMode||("after"===t.selectionMode?this.setSelection(this.anchorOffset()+r.length):"item"===t.selectionMode&&this.setSelection(this.anchorOffset(),r.length));this.contentDidChange(),this.suppressChangeNotifications=i},vt.prototype._insertSmartFence=function(e,t){const i=this.parent();if("leftright"===i.type&&"|"!==i.leftDelim&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(e))return this.insert("\\,\\middle"+e+"\\, ",{mode:"math",format:"latex",style:t}),!0;"{"!==e&&"\\{"!==e||(e="\\lbrace"),"}"!==e&&"\\}"!==e||(e="\\rbrace"),"["!==e&&"\\["!==e||(e="\\lbrack"),"]"!==e&&"\\]"!==e||(e="\\rbrack");const s=ce[e];if(s&&("leftright"!==i.type||"|"!==i.leftDelim)){let i="";const a=this.isCollapsed()||"placeholder"===this.anchor().type;i=this.sibling(0).isFunction?"\\mleft"+e+"\\mright":"\\left"+e+"\\right",i+=a?"?":s;let r=[];return a&&(r=this.siblings().splice(this.anchorOffset()+1,this.siblings().length)),this.insert(i,{mode:"math",format:"latex",style:t}),a&&(this.sibling(0).body=r,this.move(-1)),!0}let a;if(Object.keys(ce).forEach(t=>{e===ce[t]&&(a=t)}),a){if(i&&"leftright"===i.type&&this.endOffset()===this.siblings().length-1)return this.contentWillChange(),i.rightDelim=e,this.move(1),this.contentDidChange(),!0;const s=this.siblings();let a;for(a=this.endOffset();a>=0&&("leftright"!==s[a].type||"?"!==s[a].rightDelim);a--);if(a>=0)return this.contentWillChange(),s[a].rightDelim=e,s[a].body=s[a].body.concat(s.slice(a+1,this.endOffset()+1)),s.splice(a+1,this.endOffset()-a),this.setSelection(a),this.contentDidChange(),!0;if(i&&"leftright"===i.type&&"?"===i.rightDelim){this.contentWillChange(),i.rightDelim=e;const t=s.slice(this.endOffset()+1);return s.splice(this.endOffset()+1),this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.endOffset()+1,0].concat(t)),this.contentDidChange(),!0}const r=this.ancestor(2);return r&&"leftright"===r.type&&"?"===r.rightDelim&&this.endOffset()===s.length-1?(this.move(1),this._insertSmartFence(e,t)):(this.insert(e,{mode:"math",format:"latex",style:t}),!0)}return!1},vt.prototype.positionInsertionPointAfterCommitedCommand=function(){const e=this.siblings(),t=this.commandOffsets();let i=t.start;for(;i<t.end&&!e[i].suggestion;)i++;this.setSelection(i-1)},vt.prototype.removeSuggestion=function(){const e=this.siblings();for(let t=e.length-1;t>=0;t--)e[t].suggestion&&e.splice(t,1)},vt.prototype.insertSuggestion=function(e,t){this.removeSuggestion();const i=[],s=e.substr(t);for(const e of s){const t=new Xe("command","command",e);t.suggestion=!0,i.push(t)}Array.prototype.splice.apply(this.siblings(),[this.anchorOffset()+1,0].concat(i))},vt.prototype._deleteAtoms=function(e){e>0?this.siblings().splice(this.anchorOffset()+1,e):(this.siblings().splice(this.anchorOffset()+e+1,-e),this.setSelection(this.anchorOffset()+e))},vt.prototype.delete=function(e){if(0===(e=e||0))this.delete_(0);else if(e>0)for(;e>0;)this.delete_(1),e--;else for(;e<0;)this.delete_(-1),e++},vt.prototype.delete_=function(e){this.contentWillChange(),this.selectionWillChange();const t=this.suppressChangeNotifications;if(this.suppressChangeNotifications=!0,e=(e=e||0)<0?-1:e>0?1:e,this.removeSuggestion(),this.parent().array&&e<0&&0===this.startOffset()){const e=this.parent().array;if(function(e){const t={col:0,row:0};for(;t.row<e.length&&!wt(e,t);)t.row+=1;return wt(e,t)?"cell"+kt(e,t):""}(e)===this.relation()){const t=function(e,t,i){t||(t=[";",","]);let s,a=[];for(const i of e)s?a.push(s):s=new Xe("math","mpunct",t[0],void 0),a=a.concat(zt(i,t[1]));return a}(e);this.path.pop(),this.siblings().splice(this.anchorOffset(),1,...t),this.setSelection(this.anchorOffset()-1,t.length)}else{const t=_t(e,this.relation());if(0===t.col){const i=St(e,t,-1);i.col=e[i.row].length-1,this.path[this.path.length-1].relation="cell"+kt(e,i);const s=e[i.row][i.col].length,a=zt(e[t.row]);e[i.row][i.col]=e[i.row][i.col].concat(a),this.setSelection(s-1,a.length),function(e,t){e.splice(t,1)}(e,t.row)}else if(0===function(e,t){let i=0;const s={col:t,row:0};for(;s.row<e.length;){const t=wt(e,s);if(t&&t.length>0){let e=t.length;"first"===t[0].type&&(e-=1),e>0&&(i+=1)}s.row+=1}return i}(e,t.col)){!function(e,t){let i=0;for(;i<e.length;)e[i][t]&&e[i].splice(t,1),i+=1}(e,t.col),t.col-=1,this.path[this.path.length-1].relation="cell"+kt(e,t);const i=e[t.row][t.col];this.setSelection(i.length-1,0)}}return this.suppressChangeNotifications=t,this.selectionDidChange(),void this.contentDidChange()}const i=this.siblings();if(this.isCollapsed()){const t=this.anchorOffset();if(e<0)if(0!==t){const e=this.sibling(0);"leftright"===e.type?(e.rightDelim="?",this.move(-1)):!e.captureSelection&&/^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(e.type)?this.move(-1):(this._announce("delete",null,i.slice(t,t+1)),i.splice(t,1),this.setSelection(t-1))}else{const e=this.relation();if("superscript"===e||"subscript"===e){const t=this.parent()[e].filter(e=>"placeholder"!==e.type&&"first"!==e.type);this.parent()[e]=null,this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(t)),this.setSelection(this.anchorOffset()-1),this._announce("deleted: "+e)}else if("denom"===e){const e=this.parent().numer.filter(e=>"placeholder"!==e.type&&"first"!==e.type),t=this.parent().denom.filter(e=>"placeholder"!==e.type&&"first"!==e.type);this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(t)),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(e)),this.setSelection(this.anchorOffset()+e.length-1),this._announce("deleted: denominator")}else if("body"===e){const e=this.siblings().filter(e=>"placeholder"!==e.type);this.path.length>1&&(e.shift(),this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(e)),this.setSelection(this.anchorOffset()-1),this._announce("deleted: root"))}else this.move(-1),this.delete(-1)}else if(e>0)if(t!==i.length-1)/^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(this.sibling(1).type)?this.move(1):(this._announce("delete",null,i.slice(t+1,t+2)),i.splice(t+1,1));else if("numer"===this.relation()){const e=this.parent().numer.filter(e=>"placeholder"!==e.type&&"first"!==e.type),t=this.parent().denom.filter(e=>"placeholder"!==e.type&&"first"!==e.type);this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(t)),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(e)),this.setSelection(this.anchorOffset()+e.length-1),this._announce("deleted: numerator")}else this.move(1),this.delete(-1)}else{const e=this.startOffset()+1,t=this.endOffset()+1;this._announce("deleted",null,i.slice(e,t)),i.splice(e,t-e),this.setSelection(e-1)}this.suppressChangeNotifications=t,this.selectionDidChange(),this.contentDidChange()},vt.prototype.moveToNextPlaceholder_=function(){this.leap(1)},vt.prototype.moveToPreviousPlaceholder_=function(){this.leap(-1)},vt.prototype.moveToNextChar_=function(){this.move(1)},vt.prototype.moveToPreviousChar_=function(){this.move(-1)},vt.prototype.moveUp_=function(){this.up()},vt.prototype.moveDown_=function(){this.down()},vt.prototype.moveToNextWord_=function(){this.skip(1)},vt.prototype.moveToPreviousWord_=function(){this.skip(-1)},vt.prototype.moveToGroupStart_=function(){this.setSelection(0)},vt.prototype.moveToGroupEnd_=function(){this.setSelection(-1)},vt.prototype.moveToMathFieldStart_=function(){this.jumpToMathFieldBoundary(-1)},vt.prototype.moveToMathFieldEnd_=function(){this.jumpToMathFieldBoundary(1)},vt.prototype.deleteNextChar_=function(){this.delete_(1)},vt.prototype.deletePreviousChar_=function(){this.delete_(-1)},vt.prototype.deleteNextWord_=function(){this.extendToNextBoundary(),this.delete_()},vt.prototype.deletePreviousWord_=function(){this.extendToPreviousBoundary(),this.delete_()},vt.prototype.deleteToGroupStart_=function(){this.extendToGroupStart(),this.delete_()},vt.prototype.deleteToGroupEnd_=function(){this.extendToMathFieldStart(),this.delete_()},vt.prototype.deleteToMathFieldEnd_=function(){this.extendToMathFieldEnd(),this.delete_()},vt.prototype.transpose_=function(){},vt.prototype.extendToNextChar_=function(){this.extend(1)},vt.prototype.extendToPreviousChar_=function(){this.extend(-1)},vt.prototype.extendToNextWord_=function(){this.skip(1,{extend:!0})},vt.prototype.extendToPreviousWord_=function(){this.skip(-1,{extend:!0})},vt.prototype.extendUp_=function(){this.up({extend:!0})},vt.prototype.extendDown_=function(){this.down({extend:!0})},vt.prototype.extendToNextBoundary_=function(){this.skip(1,{extend:!0})},vt.prototype.extendToPreviousBoundary_=function(){this.skip(-1,{extend:!0})},vt.prototype.extendToGroupStart_=function(){this.setExtent(-this.anchorOffset())},vt.prototype.extendToGroupEnd_=function(){this.setExtent(this.siblings().length-this.anchorOffset())},vt.prototype.extendToMathFieldStart_=function(){this.jumpToMathFieldBoundary(-1,{extend:!0})},vt.prototype.extendToMathFieldEnd_=function(){this.jumpToMathFieldBoundary(1,{extend:!0})},vt.prototype.moveToSuperscript_=function(){if(this.collapseForward(),!this.anchor().superscript)if(this.anchor().subscript)this.anchor().superscript=[$t()];else{const e=this.sibling(1);e&&e.superscript?this.path[this.path.length-1].offset+=1:e&&e.subscript?(this.path[this.path.length-1].offset+=1,this.anchor().superscript=[$t()]):("limits"!==this.anchor().limits&&(this.siblings().splice(this.anchorOffset()+1,0,new Xe(this.parent().anchorMode,"msubsup","",this.anchorStyle())),this.path[this.path.length-1].offset+=1),this.anchor().superscript=[$t()])}this.path.push({relation:"superscript",offset:0}),this.selectGroup_()},vt.prototype.moveToSubscript_=function(){if(this.collapseForward(),!this.anchor().subscript)if(this.anchor().superscript)this.anchor().subscript=[$t()];else{const e=this.sibling(1);e&&e.subscript?this.path[this.path.length-1].offset+=1:e&&e.superscript?(this.path[this.path.length-1].offset+=1,this.anchor().subscript=[$t()]):("limits"!==this.anchor().limits&&(this.siblings().splice(this.anchorOffset()+1,0,new Xe(this.parent().anchorMode,"msubsup","",this.anchorStyle())),this.path[this.path.length-1].offset+=1),this.anchor().subscript=[$t()])}this.path.push({relation:"subscript",offset:0}),this.selectGroup_()},vt.prototype.moveToOpposite_=function(){const e={superscript:"subscript",subscript:"superscript",denom:"numer",numer:"denom"}[this.relation()];e||this.moveToSuperscript_(),this.parent()[e]||(this.parent()[e]=[$t()]),this.setSelection(0,"end",e)},vt.prototype.moveBeforeParent_=function(){this.path.length>1?(this.path.pop(),this.setSelection(this.anchorOffset()-1)):this._announce("plonk")},vt.prototype.moveAfterParent_=function(){if(this.path.length>1){const e=xt(this);this.path.pop(),this.setExtent(0),this._announce("move",e)}else this._announce("plonk")},vt.prototype._addCell=function(e){const t=this.parent();if(t&&"array"===t.type&&Array.isArray(t.array)){const i=this.relation();if(t.array){const s=_t(t.array,i);"after row"===e||"before row"===e?(s.col=0,s.row=s.row+("after row"===e?1:0),t.array.splice(s.row,0,[[]])):(s.col+="after column"===e?1:0,t.array[s.row].splice(s.col,0,[]));const a=kt(t.array,s);this.path.pop(),this.path.push({relation:"cell"+a.toString(),offset:0}),this.insertFirstAtom()}}},vt.prototype.convertParentToArray=function(){const e=this.parent();if("leftright"===e.type){e.type="array";const t={"(":"pmatrix","\\lbrack":"bmatrix","\\lbrace":"cases"}[e.leftDelim]||"matrix",i=be(t),s=[[e.body]];i.parser&&Object.assign(e,i.parser(t,[],s)),e.tabularMode=i.tabular,e.parseMode=this.anchorMode(),e.env={...i},e.env.name=t,e.array=s,e.rowGaps=[0],delete e.body,this.path[this.path.length-1].relation="cell0"}},vt.prototype.addRowAfter_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("after row"),this.contentDidChange()},vt.prototype.addRowBefore_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("before row"),this.contentDidChange()},vt.prototype.addColumnAfter_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("after column"),this.contentDidChange()},vt.prototype.addColumnBefore_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("before column"),this.contentDidChange()},vt.prototype._applyStyle=function(e){if(this.isCollapsed())return;const t=this;function i(e,i){let s=!0;return t.forEachSelected(t=>{s=s&&t[e]===i},{recursive:!0}),s}e.color&&i("color",e.color)&&(e.color="none"),e.backgroundColor&&i("backgroundColor",e.backgroundColor)&&(e.backgroundColor="none"),e.fontFamily&&i("fontFamily",e.fontFamily)&&(e.fontFamily="none"),e.series&&(e.fontSeries=e.series),e.fontSeries&&i("fontSeries",e.fontSeries)&&(e.fontSeries="auto"),e.shape&&(e.fontShape=e.shape),e.fontShape&&i("fontShape",e.fontShape)&&(e.fontShape="auto"),e.size&&(e.fontSize=e.size),e.fontSize&&i("fontSize",e.fontSize)&&(e.fontSize="size5"),this.contentWillChange(),this.forEachSelected(t=>t.applyStyle(e),{recursive:!0}),this.contentDidChange()};var Pt={EditableMathlist:vt,parseMathString:Tt};const Kt={"#":"#","|":"|","[":"BracketLeft","]":"BracketRight","-":"Minus","+":"Plus","=":"Equal","/":"Slash","\\":"Backslash"},Et={Space:"Spacebar"," ":"Spacebar",Escape:"Esc",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},Ot={q:"KeyQ",w:"KeyW",e:"KeyE",r:"KeyR",t:"KeyT",y:"KeyY",u:"KeyU",i:"KeyI",o:"KeyO",p:"KeyP",a:"KeyA",s:"KeyS",d:"KeyD",f:"KeyF",g:"KeyG",h:"KeyH",j:"KeyJ",k:"KeyK",l:"KeyL",z:"KeyZ",x:"KeyX",c:"KeyC",v:"KeyV",b:"KeyB",n:"KeyN",m:"KeyM",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",0:"Digit0","!":"Shift-Digit1","@":"Shift-Digit2","#":"Shift-Digit3",$:"Shift-Digit4","%":"Shift-Digit5","^":"Shift-Digit6","&":"Shift-Digit7","*":"Shift-Digit8","(":"Shift-Digit9",")":"Shift-Digit0","-":"Minus",_:"Shift-Minus","/":"Slash","\\":"Backslash","|":"Shift-Backslash","?":"Shift-Slash"," ":"Spacebar"};function Bt(e){let t,i=!0;"Unidentified"===e.key&&e.target&&(t=Ot[e.target.value]||e.target.value),t||(Kt[e.key]?(t=Kt[e.key],i=!1):t=Et[e.key],t||(t=Ot[e.key.toLowerCase()])),!t&&e.code&&(t=Et[e.code]||e.code);const s=[];return e.ctrlKey&&s.push("Ctrl"),e.metaKey&&s.push("Meta"),i&&e.altKey&&s.push("Alt"),i&&e.shiftKey&&s.push("Shift"),0===s.length?t:(s.push(t),s.join("-"))}function Rt(e,t){let i,s=null,a=null,r=!1,o=!1;function n(e){clearTimeout(i),i=setTimeout((function(){clearTimeout(i),e()}))}function l(){if(function(e){return e.selectionStart!==e.selectionEnd}(e))return;const i=e.value;e.value="",i.length>0&&t.typedText(i)}const c=e||t.container;c.addEventListener("keydown",(function(i){if("function"==typeof t.allowDeadKey&&t.allowDeadKey()||"Dead"!==i.key&&"Unidentified"!==i.key&&229!==i.keyCode)o=!1;else{o=!0,r=!1;const i=t.blur,s=t.focus;t.blur=null,t.focus=null,e.blur(),e.focus(),t.blur=i,t.focus=s}return!(!r&&"CapsLock"!==i.code&&!/(Control|Meta|Alt|Shift)(Right|Left)/.test(i.code))||(s=i,a=null,t.keystroke(Bt(i),i))}),!0),c.addEventListener("keypress",(function(e){r||(s&&a&&t.keystroke(Bt(s),s),a=e,n(l))}),!0),c.addEventListener("keyup",(function(){r||!s||a||l()}),!0),c.addEventListener("paste",(function(){e.focus();const i=e.value;e.value="",i.length>0&&t.paste(i)}),!0),c.addEventListener("copy",(function(e){t.copy&&t.copy(e)}),!0),c.addEventListener("cut",(function(e){t.cut&&t.cut(e)}),!0),c.addEventListener("blur",(function(){s=null,a=null,t.blur&&t.blur()}),!0),c.addEventListener("focus",(function(){t.focus&&t.focus()}),!0),c.addEventListener("compositionstart",()=>{r=!0},!0),c.addEventListener("compositionend",()=>{r=!1,n(l)},!0),c.addEventListener("input",()=>{if(o){const i=t.blur,s=t.focus;t.blur=null,t.focus=null,e.blur(),e.focus(),t.blur=i,t.focus=s,o=!1,r=!1,n(l)}else r||n(l)})}var It={delegateKeyboardEvents:Rt,select:Rt.select,keyboardEventToString:Bt,eventToChar:function(e){if(!e)return"";let t;return"Unidentified"===e.key&&e.target&&(t=e.target.value),t=t||e.key||e.code,/^(Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(t)&&(t=""),t},charToEvent:function(e){return{key:e,metaKey:!1,ctrlKey:!1,altKey:!1,shiftKey:!1}}};const Nt={"\\text":"roman text","\\textrm":"roman text","\\textnormal":"roman text","\\textit":"italic text","\\textbf":"bold text","\\texttt":"monospaced text","\\textsf":"sans-serif text","\\mathrm":["roman","(upright)"],"\\mathbf":"bold","\\bf":"bold","\\bold":"bold","\\mathit":"italic","\\mathbb":"blackboard","\\Bbb":"blackboard","\\mathscr":"script","\\mathtt":["typewriter","(monospaced)"],"\\mathsf":"sans-serif","\\mathcal":"caligraphic","\\frak":["fraktur","(gothic)"],"\\mathfrak":["fraktur","(gothic)"],"\\textcolor":"text color","\\color":"color","\\forall":"for all","\\exists":"there exists","\\nexists":"there does not exist","\\frac":"fraction","\\dfrac":"display fraction","\\cfrac":"continuous fraction","\\tfrac":"text fraction","\\binom":"binomial coefficient","\\dbinom":"display binomial coefficient","\\tbinom":"text binomial coefficient","\\pdiff":"partial differential","\\vec":"vector","\\check":"caron","\\acute":"acute","\\breve":"breve","\\tilde":"tilde","\\dot":"dot","\\hat":["hat","circumflex"],"\\ddot":"double dot","\\bar":"bar","\\prime":"prime","\\doubleprime":"double prime","\\varnothing":"empty set","\\emptyset":"empty set","\\subseteq":"subset of or <br>equal to","\\supseteq":"superset of or <br>equal to","\\supset":"superset of","\\subset":"subset of","\\partial":"partial derivative","\\bigcup":"union","\\bigcap":"intersection","\\approx":"approximately equal to","\\notin":"not an element of","\\in":["element of","included in"],"\\infty":"infinity","\\land":"logical and","\\sqrt":"square root","\\prod":"product","\\sum":"summation","\\amalg":["amalgamation","coproduct","free product","disjoint union"],"\\cup":"union with","\\cap":"intersection with","\\int":"integral","\\iint":"surface integral","\\oint":"curve integral","\\iiint":"volume integral","\\iff":"if and only if","\\ln":"natural logarithm","\\boldsymbol":"bold","\\setminus":"set subtraction","\\stackrel":"relation with symbol above","\\stackbin":"operator with symbol above","\\underset":"symbol with annotation below","\\overset":"symbol with annotation above","\\hslash":["h-bar","Planck constant"],"\\gtrsim":"greater than or <br>similar to","\\propto":"proportional to","\\equiv":"equivalent to","\\!":["negative thin space","(-3 mu)"],"\\ ":["space","(6 mu)"],"\\,":["thin space","(3 mu)"],"\\:":["medium space","(4 mu)"],"\\;":["thick space","(5 mu)"],"\\quad":["1 em space","(18 mu)"],"\\qquad":["2 em space","(36 mu)"],"\\enskip":["&#189; em space","(9 mu)"],"\\mp":"minus or plus","\\pm":"plus or minus","\\Im":"Imaginary part of","\\Re":"Real part of","\\gothicCapitalR":"Real part of","\\gothicCapitalI":"Imaginary part part of","\\differentialD":"differential d","\\aleph":["aleph","infinite cardinal",'<a target="_blank" href="https://en.wikipedia.org/wiki/Cardinal_number">Wikipedia <big>&#x203A;</big></a>'],"\\beth":["beth","beth number",'<a target="_blank" href="https://en.wikipedia.org/wiki/Beth_number">Wikipedia <big>&#x203A;</big></a>'],"\\gimel":["gimel","gimel function",'<a target="_blank" href="https://en.wikipedia.org/wiki/Gimel_function">Wikipedia <big>&#x203A;</big></a>'],"\\O":"empty set","\\N":"set of <br>natural numbers","\\Z":"set of <br>integers","\\Q":"set of <br>rational numbers","\\C":"set of <br>complex numbers","\\R":"set of <br>real numbers","\\P":"set of <br>prime numbers","\\lesseqqgtr":"less than, equal to or<br> greater than","\\gnapprox":"greater than and <br>not approximately","\\lnapprox":"lesser than and <br>not approximately","\\j":"dotless j","\\i":"dotless i","\\cdot":"centered dot","\\lmoustache":"left moustache","\\rmoustache":"right moustache","\\nabla":["nabla","del","differential vector operator"],"\\square":["square","dAlembert operator",'<a target="_blank" href="https://en.wikipedia.org/wiki/D%27Alembert_operator">Wikipedia <big>&#x203A;</big></a>'],"\\blacksquare":["black square","end of proof","tombstone","Halmos symbol"],"\\Box":"end of proof","\\colon":["such that","ratio"],"\\coloneq":["is defined by","is assigned"],"\\Colon":["is defined by","as"],"\\_":["underbar","underscore"],"\\ll":"much less than","\\gg":"much greater than","\\doteq":"approximately equal to","\\Doteq":"approximately equal to","\\doteqdot":"approximately equal to","\\cong":["isomorphism of","(for algebras, modules...)"],"\\det":["determinant of","(of a matrix)"],"\\dotplus":"Cartesian product algebra","\\otimes":["tensor product","(of algebras)","Kronecker product","(of matrices)"],"\\oplus":["direct sum","(of modules)"],"\\lb":"base-2 logarithm","\\lg":"base-10 logarithm","\\wp":["Weierstrass P",'<a target="_blank" href="https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions">Wikipedia <big>&#x203A;</big></a>'],"\\wr":["wreath product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Wreath_product">Wikipedia <big>&#x203A;</big></a>'],"\\top":["tautology","Proposition P is universally true"],"\\bot":["contradiction","Proposition P is contradictory"],"\\mid":["probability","of event A given B"],"\\mho":["Siemens","electrical conductance in SI unit",'<a target="_blank" href="https://en.wikipedia.org/wiki/Siemens_(unit)">Wikipedia <big>&#x203A;</big></a>'],"\\Longrightarrow":"implies","\\Longleftrightarrow":"if, and only if,","\\prec":"precedes","\\preceq":"precedes or is equal to","\\succ":"succeedes","\\succeq":"succeedes or is equal to","\\perp":["is perpendicular to","is independent of"],"\\models":["entails","double-turnstyle, models","is a semantic consequence of",'<a target="_blank" href="https://en.wikipedia.org/wiki/Double_turnstile">Wikipedia <big>&#x203A;</big></a>'],"\\vdash":["satisfies","turnstyle, assertion sign","syntactic inference",'<a target="_blank" href="https://en.wikipedia.org/wiki/Turnstile_(symbol)">Wikipedia <big>&#x203A;</big></a>'],"\\implies":["implies","logical consequence"],"\\impliedby":["implied by","logical consequence"],"\\surd":["surd","root of","checkmark"],"\\ltimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rtimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\leftthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rightthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\divideontimes":["divide on times"],"\\curlywedge":"nor","\\curlyvee":"nand","\\simeq":"is group isomorphic with","\\vartriangleleft":["is a normal subgroup of","is an ideal ring of"],"\\circ":["circle","ring","function composition"],"\\rlap":["overlap right","\\rlap{x}o"],"\\llap":["overlap left","o\\llap{/}"],"\\colorbox":["color box","\\colorbox{#fbc0bd}{...}"],"\\ast":["asterisk","reflexive closure (as a superscript)"],"\\bullet":"bullet","\\lim":"limit"};function Ht(e,t){e.popover.innerHTML=t;const i=e._getCaretPosition();i&&Wt(e,i),e.popover.classList.add("is-visible")}function Wt(e,t){const i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerWidth-document.documentElement.clientWidth,r=window.innerHeight-document.documentElement.clientHeight,o=e.virtualKeyboardVisible?e.virtualKeyboard.offsetHeight:0;t.x+e.popover.offsetWidth/2>s-a?e.popover.style.left=s-e.popover.offsetWidth-a+"px":t.x-e.popover.offsetWidth/2<0?e.popover.style.left=0:e.popover.style.left=t.x-e.popover.offsetWidth/2+"px",t.y+e.popover.offsetHeight+5>i-r-o?(e.popover.classList.add("reverse-direction"),e.popover.style.top=t.y-t.height-e.popover.offsetHeight-5+"px"):(e.popover.classList.remove("reverse-direction"),e.popover.style.top=t.y+5+"px")}function jt(e){e.popover.classList.remove("is-visible")}var Ut={NOTES:Nt,showPopoverWithLatex:function(e,t,i){if(!t||0===t.length)return void jt(e);const s=t,a=ve(s),r=function(e,t){const i=at.parseTokens(o(e),"math",null,t.config.macros),s=G(P({mathstyle:"displaystyle",macros:t.config.macros},i),"ML__base"),a=G("","ML__strut");a.setStyle("height",s.height,"em");const r=G("","ML__strut--bottom");return r.setStyle("height",s.height+s.depth,"em"),r.setStyle("vertical-align",-s.depth,"em"),G([a,r,s],"ML__mathlive").toMarkup()}(a&&a.template||t,e),n=function(e){let t=Nt[e]||"";return Array.isArray(t)&&(t=t.join("<br>")),t}(s),l=bt.forCommand(s);let c=i?'<div class="ML__popover__prev-shortcut" role="button" aria-label="Previous suggestion"><span><span>&#x25B2;</span></span></div>':"";c+='<span class="ML__popover__content" role="button">',c+='<div class="ML__popover__command">'+r+"</div>",n&&(c+='<div class="ML__popover__note">'+n+"</div>"),l&&(c+='<div class="ML__popover__shortcut">'+l+"</div>"),c+="</span>",c+=i?'<div class="ML__popover__next-shortcut" role="button" aria-label="Next suggestion"><span><span>&#x25BC;</span></span></div>':"",Ht(e,c);let h=e.popover.getElementsByClassName("ML__popover__content");h&&h.length>0&&e._attachButtonHandlers(h[0],["complete",{acceptSuggestion:!0}]),h=e.popover.getElementsByClassName("ML__popover__prev-shortcut"),h&&h.length>0&&e._attachButtonHandlers(h[0],"previousSuggestion"),h=e.popover.getElementsByClassName("ML__popover__next-shortcut"),h&&h.length>0&&e._attachButtonHandlers(h[0],"nextSuggestion")},showPopover:Ht,hidePopover:jt,updatePopoverPosition:function e(t,i){if(t.element&&t.element.mathfield===t&&t.popover.classList.contains("is-visible"))if(i&&i.deferred)window.requestAnimationFrame(()=>e(t));else if(t.mathlist.anchor()&&"command"===t.mathlist.anchor().type){const e=t._getCaretPosition();e&&Wt(t,e)}else jt(t)}};function Vt(e){const t=Vt.locale.substring(0,2);let i="";return Vt.strings[Vt.locale]&&(i=Vt.strings[Vt.locale][e]),!i&&Vt.strings[t]&&(i=Vt.strings[t][e]),i||(i=Vt.strings.en[e]),i||(i=e),i}Xe.prototype.toLatex=function(e){e=void 0!==e&&e;let t,i="",s=0,a=0;const r=this.latex?this.latex.match(/^(\\[^{\s0-9]+)/):null,o=r?r[1]:null,n=(t,i)=>function(e,t,i){let s="";if(Array.isArray(t)&&t.length>0){if("first"===t[0].type&&0===(t=t.slice(1)).length)return"";s=function e(t,i,s,a){if(0===s.length)return"";if(0===i.length)return s.map(e=>e.toLatex(a)).join("");let r="",o="",n="";const l=i[0];let c=s[0][l];"fontFamily"===l&&(c=s[0].fontFamily||s[0].baseFontFamily);const h=function(e,t,i){let s=0;if("fontFamily"===t)for(;e[s]&&("mop"===e[s].type||(e[s].fontFamily||e[s].baseFontFamily)===i);)s++;else if("mode"===t)for(;e[s]&&e[s][t]===i;)s++;else for(;e[s]&&("mop"===e[s].type||e[s][t]===i);)s++;return s}(s,l,c);if("text"===s[0].mode){if("fontShape"===l&&s[0].fontShape)"it"===s[0].fontShape?(o="\\textit{",n="}"):"sl"===s[0].fontShape?(o="\\textsl{",n="}"):"sc"===s[0].fontShape?(o="\\textsc{",n="}"):"n"===s[0].fontShape?(o="\\textup{",n="}"):(o="\\text{\\fontshape{"+s[0].fontShape+"}",n="}");else if("fontSeries"===l&&s[0].fontSeries)"b"===s[0].fontSeries?(o="\\textbf{",n="}"):"l"===s[0].fontSeries?(o="\\textlf{",n="}"):"m"===s[0].fontSeries?(o="\\textmd{",n="}"):(o="\\text{\\fontseries{"+s[0].fontSeries+"}",n="}");else if("mode"===l){let e=!0;for(let t=0;t<h;t++)if(!(s[t].fontSeries||s[t].fontShape||s[t].fontFamily||s[t].baseFontFamily)){e=!1;break}e||(o="\\text{",n="}")}else if("fontSize"===l&&s[0].fontSize)o="{\\"+({size1:"tiny",size2:"scriptsize",size3:"footnotesize",size4:"small",size5:"normalsize",size6:"large",size7:"Large",size8:"LARGE",size9:"huge",size10:"Huge"}[s[0].fontSize]||"")+" ",n="}";else if("fontFamily"===l&&(s[0].fontFamily||s[0].baseFontFamily)){const e={cmr:"textrm",cmtt:"texttt",cmss:"textsf"}[s[0].fontFamily||s[0].baseFontFamily]||"";e?(o="\\"+e+"{",n="}"):(o+="{\\fontfamily{"+(s[0].fontFamily||s[0].baseFontFamily)+"}",n="}")}}else if("math"===s[0].mode)if("fontSeries"===l)"b"===s[0].fontSeries?(o="\\mathbf{",n="}"):s[0].fontSeries&&"n"!==s[0].fontSeries&&(o="{\\fontSeries{"+s[0].fontSeries+"}",n="}");else if("fontShape"===l)"it"===s[0].fontShape?(o="\\mathit{",n="}"):"n"===s[0].fontShape?(o="{\\upshape ",n="}"):s[0].fontShape&&"n"!==s[0].fontShape&&(o="{\\fontShape{"+s[0].fontShape+"}",n="}");else if("fontSize"===l&&s[0].fontSize)o="{\\"+({size1:"tiny",size2:"scriptsize",size3:"footnotesize",size4:"small",size5:"normalsize",size6:"large",size7:"Large",size8:"LARGE",size9:"huge",size10:"Huge"}[s[0].fontSize]||"")+" ",n="}";else if("fontFamily"===l&&s[0].fontFamily){if(!/^(math|main)$/.test(s[0].fontFamily)){const r={cal:"mathcal",frak:"mathfrak",bb:"mathbb",scr:"mathscr",cmr:"mathrm",cmtt:"mathtt",cmss:"mathsf"}[s[0].fontFamily]||"";if(r){if(/^\\operatorname{/.test(s[0].latex))return s[0].latex+e(t,i,s.slice(h),a);s[0].isFunction||(o="\\"+r+"{",n="}"),i=[]}else o+="{\\fontfamily{"+s[0].fontFamily+"}",n="}"}}else if("fontFamily"===l&&s[0].baseFontFamily)if(s[0].latex&&s[0].latex.startsWith("\\"))o="",n="";else{const e={cal:"mathcal",frak:"mathfrak",bb:"mathbb",scr:"mathscr",cmr:"mathrm",cmtt:"mathtt",cmss:"mathsf"}[s[0].baseFontFamily]||"";e&&(o="\\"+e+"{",n="}")}return"color"!==l||!s[0].color||"none"===s[0].color||t&&t.color===s[0].color||(o="\\textcolor{"+Qe(s[0].color)+"}{",n="}"),"backgroundColor"!==l||!s[0].backgroundColor||"none"===s[0].backgroundColor||t&&t.backgroundColor===s[0].backgroundColor||(o="\\colorbox{"+Qe(s[0].backgroundColor)+"}{",n="}"),r+=o,r+=e(t,i.slice(1),s.slice(0,h),a),r+=n,r+=e(t,i,s.slice(h),a),r}(e,["mode","color","backgroundColor","fontSize","fontFamily","fontShape","fontSeries"],t,i)}else"number"==typeof t||"boolean"==typeof t?s=t.toString():"string"==typeof t?s=t.replace(/\s/g,"~"):t&&"function"==typeof t.toLatex&&(s=t.toLatex(i));return s}(t,i,e);switch(this.type){case"group":i+=this.latexOpen||(this.cssId||this.cssClass?"":"{"),this.cssId&&(i+="\\cssId{"+this.cssId+"}{"),"ML__emph"===this.cssClass?i+="\\emph{"+n(this,this.body):(this.cssClass&&(i+="\\class{"+this.cssClass+"}{"),i+=e?n(this,this.body):this.latex||n(this,this.body),this.cssClass&&(i+="}")),this.cssId&&(i+="}"),i+=this.latexClose||(this.cssId||this.cssClass?"":"}");break;case"array":if(i+="\\begin{"+this.env.name+"}","array"===this.env.name){if(i+="{",this.colFormat)for(a=0;a<this.colFormat.length;a++)this.colFormat[a].align?i+=this.colFormat[a].align:this.colFormat[a].rule&&(i+="|");i+="}"}for(s=0;s<this.array.length;s++){for(t=0;t<this.array[s].length;t++)t>0&&(i+=" & "),i+=n(this,this.array[s][t]);s<this.array.length-1&&(i+=" \\\\ ")}i+="\\end{"+this.env.name+"}";break;case"root":i=n(this,this.body);break;case"genfrac":/^(choose|atop|over)$/.test(this.body)?(i+="{",i+=n(this,this.numer),i+="\\"+this.body+" ",i+=n(this,this.denom),i+="}"):(i+=o,i+=`{${n(this,this.numer)}}{${n(this,this.denom)}}`);break;case"surd":i+="\\sqrt",this.index&&(i+=`[${n(this,this.index)}]`),i+=`{${n(this,this.body)}}`;break;case"leftright":this.inner?(i+="\\left"+(this.leftDelim||"."),this.leftDelim&&this.leftDelim.length>1&&(i+=" "),i+=n(this,this.body),i+="\\right"+(this.rightDelim||"."),this.rightDelim&&this.rightDelim.length>1&&(i+=" ")):e&&"("===this.leftDelim&&")"===this.rightDelim?i+=`(${n(this,this.body)})`:(i+="\\mleft"+(this.leftDelim||"."),this.leftDelim&&this.leftDelim.length>1&&(i+=" "),i+=n(this,this.body),i+="\\mright"+(this.rightDelim||"."),this.rightDelim&&this.rightDelim.length>1&&(i+=" "));break;case"delim":case"sizeddelim":i+=o+"{"+this.delim+"}";break;case"rule":i+=o,this.shift&&(i+=`[${n(this,this.shift)}em]`),i+=`{${n(this,this.width)}em}{${n(this,this.height)}em}`;break;case"line":case"overlap":case"accent":i+=`${o}{${n(this,this.body)}}`;break;case"overunder":i+=function(e,t,i,s){return oe[e]&&oe[e].emit?oe[e].emit(e,t,i,s):""}(o,parent,this,n)||`${o}{${n(this,this.overscript||this.underscript)}}{${n(parent,this.body)}}`;break;case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":case"":/^\\(mathbin|mathrel|mathopen|mathclose|mathpunct|mathord|mathinner)/.test(o)?i+=`${o}{${n(this,this.body)}}`:'\\char"'===o?i+=this.latex+" ":"\\unicode"===o?(i+='\\unicode{"',i+=("000000"+this.body.charCodeAt(0).toString(16)).toUpperCase().substr(-6),i+="}"):(this.latex||"string"==typeof this.body)&&(this.latex&&"\\"===this.latex[0]?(i+=this.latex,/[a-zA-Z0-9]$/.test(this.latex)&&(i+=" ")):i+=o||(""!==this.body?this.latex||this.body:""));break;case"mop":""!==this.body&&("\\mathop"===o||"\\operatorname"===o?i+=o+"{"+n(this,this.body)+"}":this.latex&&"\\"===this.latex[0]?(i+=this.latex,/[a-zA-Z0-9]$/.test(this.latex)&&(i+=" ")):i+=o||(""!==this.body?this.latex||this.body:"")),this.explicitLimits&&("limits"===this.limits&&(i+="\\limits "),"nolimits"===this.limits&&(i+="\\nolimits "));break;case"box":if("\\bbox"===o){if(i+=o,isFinite(this.padding)||void 0!==this.border||void 0!==this.backgroundcolor){const e=[];isFinite(this.padding)&&e.push(Math.floor(100*this.padding)/100+"em"),this.border&&e.push("border:"+this.border),this.backgroundcolor&&e.push(Qe(this.backgroundcolor)),i+=`[${e.join(",")}]`}i+=`{${n(this,this.body)}}`}else"\\boxed"===o?i+=`\\boxed{${n(this,this.body)}}`:(i+=o,this.framecolor&&(i+=`{${Qe(this.framecolor)}}`),this.backgroundcolor&&(i+=`{${Qe(this.backgroundcolor)}}`),i+=`{${n(this,this.body)}}`);break;case"spacing":i+=o,"\\hspace"===o||"\\hspace*"===o?(i+="{",this.width?i+=this.width+"em":i+="0em",i+="}"):(i+=" ",this.width&&(i+=this.width+"em "));break;case"enclose":if(i+=o,"\\enclose"===o){i+="{";let e="";for(const t in this.notation)Object.prototype.hasOwnProperty.call(this.notation,t)&&this.notation[t]&&(i+=e+t,e=" ");i+="}";let t="";e="",this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(t+=e+'mathbackground="'+Qe(this.backgroundcolor)+'"',e=","),this.shadow&&"auto"!==this.shadow&&(t+=e+'shadow="'+this.shadow+'"',e=","),1!==this.strokeWidth||"solid"!==this.strokeStyle?(t+=e+this.borderStyle,e=","):this.strokeColor&&"currentColor"!==this.strokeColor&&(t+=e+'mathcolor="'+Qe(this.strokeColor)+'"',e=","),t&&(i+=`[${t}]`)}i+=`{${n(this,this.body)}}`;break;case"mathstyle":i+="\\"+this.mathstyle+" ";break;case"space":i+=this.latex;break;case"placeholder":i+="\\placeholder{"+(this.value||"")+"}";break;case"first":case"command":case"msubsup":break;case"error":i+=this.latex}if(this.superscript){let e=n(this,this.superscript);1===e.length?(""===e?e="\\prime ":""===e&&(e="\\doubleprime "),i+="^"+e):i+="^{"+e+"}"}if(this.subscript){const e=n(this,this.subscript);1===e.length?i+="_"+e:i+="_{"+e+"}"}return i},Vt.plural=function(e,t,i){(i=i||{}).type=i.type||"cardinal";const s=Vt.locale.substring(0,2),a="ordinal"===i.type?Vt.ordinal:Vt.cardinal;let r,o="ordinal"===i.type?Vt._ordinalPluralCategories.indexOf(a.select(e)):Vt._cardinalPluralCategories.indexOf(a.select(e));return Vt.strings[Vt.locale]&&(r=Vt.strings[Vt.locale][t]),!r&&Vt.strings[s]&&(r=Vt.strings[s][t]),r||(r=Vt.strings.en[t],r||(r=t),o="ordinal"===i.type?Vt._ordinalPluralCategories.indexOf(Vt._ordinalEnglish.select(e)):Vt._cardinalPluralCategories.indexOf(Vt._cardinalEnglish.select(e))),r.split(";")[o]||r.split(";")[0]},Vt.merge=function(e,t){if(e&&t){const i=Vt._locale;Vt.locale=e,Vt.strings[e]={...Vt.strings[e],...t},Vt.locale=i}else e&&!t&&(t=e,Object.keys(t).forEach(e=>Vt.merge(e,t[e])))},Object.defineProperty(Vt,"locale",{set(e){Vt._locale=e,Vt._ordinal=null,Vt._cardinal=null},get:()=>(Vt._locale||(Vt._locale="undefined"==typeof navigator?"en":navigator.language.slice(0,5)),Vt._locale)}),Object.defineProperty(Vt,"ordinal",{get:()=>(Vt._ordinal||(Vt._ordinalEnglish=new Intl.PluralRules("en",{type:"ordinal"}),Vt._ordinalEnglishPluralCategories=Vt._ordinalEnglish.resolvedOptions().pluralCategories,Vt._ordinal=new Intl.PluralRules(Vt.locale,{type:"ordinal"}),Vt._ordinalPluralCategories=Vt._ordinal.resolvedOptions().pluralCategories),Vt._ordinal)}),Object.defineProperty(Vt,"cardinal",{get:()=>(Vt._cardinal||(Vt._cardinalEnglish=new Intl.PluralRules("en",{type:"cardinal"}),Vt._cardinalEnglishPluralCategories=Vt._cardinalEnglish.resolvedOptions().pluralCategories,Vt._cardinal=new Intl.PluralRules(Vt.locale,{type:"cardinal"}),Vt._cardinaPluralCategories=Vt._ordinal.resolvedOptions().pluralCategories),Vt._cardinal)}),Vt.strings={en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Symbols and Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo"},ar:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"  ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":""},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Symbole und rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen"},el:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"   ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":""},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.roman":"Smbolos y letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer"},fa:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"   ","tooltip.copy to clipboard":"  ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"/  ","tooltip.undo":"  "},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.roman":"Lettres et symboles romains","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalit di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Simboli e lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare"},ja:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":""},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb polece LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Symbole i litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij"},ru:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"   ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":""}};const Xt={numeric:{tooltip:"keyboard.tooltip.numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman","symbols"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},command:{tooltip:"keyboard.tooltip.command",command:"enterCommandMode",label:"<svg><use xlink:href='#svg-command' /></svg>",layers:["lower-command","upper-command","symbols-command"]},style:{tooltip:"keyboard.tooltip.style",layer:"style",label:"<b>b</b><i>i</i>"}},Gt={"\\varphi ":{label:"&Phi;",insert:"\\Phi "},"\\varsigma ":{label:"&Sigma;",insert:"\\Sigma "},"\\epsilon ":{label:"&#x0190;",insert:'{\\char"0190}'},"\\rho ":{label:"&#x3A1",insert:'{\\char"3A1}'},"\\tau ":{label:"&#x3A4;",insert:'{\\char"3A4}'},"\\upsilon ":{label:"&Upsilon;",insert:"\\Upsilon "},"\\theta ":{label:"&Theta;",insert:"\\Theta "},"\\iota ":{label:"&Iota;",insert:'{\\char"399}'},"\\omicron ":{label:"&#x039F;",insert:'{\\char"39F}'},"\\pi ":{label:"&Pi;",insert:"\\Pi "},"\\alpha ":{label:"&Alpha;",insert:'{\\char"391}'},"\\sigma ":{label:"&Sigma;",insert:"\\Sigma "},"\\delta ":{label:"&Delta;",insert:"\\Delta "},"\\phi ":{label:"&#x03a6;",insert:"\\Phi "},"\\gamma ":{label:"&Gamma;",insert:"\\Gamma "},"\\eta ":{label:"&Eta;",insert:'{\\char"397}'},"\\xi ":{label:"&Xi;",insert:"\\Xi "},"\\kappa ":{label:"&Kappa;",insert:'{\\char"39A}'},"\\lambda ":{label:"&Lambda;",insert:"\\Lambda "},"\\zeta ":{label:"&Zeta;",insert:'{\\char"396}'},"\\chi ":{label:"&Chi;",insert:'{\\char"3A7}'},"\\psi ":{label:"&Psi;",insert:"\\Psi "},"\\omega ":{label:"&Omega;",insert:"\\Omega "},"\\beta ":{label:"&Beta;",insert:'{\\char"392}'},"\\nu ":{label:"&Nu;",insert:'{\\char"39D}'},"\\mu ":{label:"&Mu;",insert:'{\\char"39C}'}},Zt={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",classes:"box"},{latex:"\\cdots",aside:"center ellipsis",classes:"box"},{latex:"\\ldotp",aside:"low dot",classes:"box"},{latex:"\\ldots",aside:"low ellipsis",classes:"box"},{latex:"\\vdots",aside:"",classes:"box"},{latex:"\\ddots",aside:"",classes:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",classes:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",classes:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\nless","\\nleq","\\precsim","\\lesssim","\\lessgtr","\\prec","\\preccurlyeq","\\lessdot","\\nprec"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\ngtr","\\ngeq","\\succsim","\\gtrsim","\\gtrless","\\succ","\\succcurlyeq","\\gtrdot","\\nsucc"],set:["\\in","\\owns","\\subset","\\nsubset","\\supset","\\nsupset"],"!set":["\\notin","\\backepsilon"],subset:[],supset:[],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",classes:"small"},{latex:"\\int",classes:"small"},{latex:"\\smallint",classes:"small"},{latex:"\\iint",classes:"small"},{latex:"\\iiint",classes:"small"},{latex:"\\oint",classes:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",classes:"small"},{latex:"\\frac{\\partial}{\\partial x}",classes:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\N",aside:"set of natural numbers"}],p:[{latex:"\\P",aside:"set of primes"}],q:[{latex:"\\Q",aside:"set of rational numbers"}],r:[{latex:"\\R",aside:"set of real numbers"}],z:[{latex:"\\Z",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",classes:"small"},{latex:"g(#?)",classes:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br> em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br> em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br> em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br> em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:" em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:" em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>',command:'"deleteAll"'}],"->|":[]};let Yt={};const Jt={math:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>\n                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>\n                <li class='separator w5'></li>\n                <row name='numpad-1'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='$$\\exponentialE$$' data-alt-keys='ee'>e</li>\n                <li class='keycap tex' data-insert='$$\\imaginaryI$$' data-alt-keys='ii'>i</li>\n                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>\n                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>\n                <li class='separator w5'></li>\n                <row name='numpad-2'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='x2' data-insert='$$#@^{2}$$'><span><i>x</i>&thinsp;</span></li>\n                <li class='keycap tex' data-alt-keys='^' data-insert='$$#@^{#?}$$'><span><i>x</i><sup>&thinsp;<small>&#x2b1a;</small></sup></span></li>\n                <li class='keycap tex' data-alt-keys='sqrt' data-insert='$$\\sqrt{#0}$$' data-latex='\\sqrt{#0}'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-alt-keys='(' >(</li>\n                <li class='keycap tex' data-alt-keys=')' >)</li>\n                <li class='separator w5'></li>\n                <row name='numpad-3'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex small' data-alt-keys='int' data-latex='\\int_0^\\infty'><span></span></li>\n                <li class='keycap tex' data-latex='\\forall' data-alt-keys='logic' ></li>\n                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            </ul>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>\n                <li class='separator w5'></li>\n                <row name='numpad-4'/>\n                <li class='separator w5'></li>\n                <arrows/>\n            </ul>\n        </div>\n    ","lower-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='lower-1' shift-layer='upper-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='lower-2'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='lower-3'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;</li>\n                <li class='keycap' data-alt-keys=','>,</li>\n                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='upper-1'  shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='upper-2' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='upper-3' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;</li>\n                <li class='keycap' data-alt-keys='.'>;</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",symbols:"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='set' data-insert='\\in '>&#x2208;</li>\n                <li class='keycap tex' data-alt-keys='!set' data-insert='\\notin '>&#x2209;</li>\n                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>\n                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>\n                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>\n                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>\n                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>\n\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>\n                <li class='keycap tex' data-alt-keys='supset' data-insert='\\supset '>&#x2283;</li>\n                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>\n                <li class='keycap' data-insert='$$^{\\prime} $$'><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>\n                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>\n                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>\n                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>\n\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='\\subseteq '>&#x2286;</li>\n                <li class='keycap tex' data-insert='\\supseteq '>&#x2287;</li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='$$\\vec{#@}$$' data-latex='\\vec{#?}' data-aside='vector'></li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='$$\\bar{#@}$$' data-latex='\\bar{#?}' data-aside='bar'></li>\n                <li class='keycap tex' data-alt-keys='absnorm' data-insert='$$\\lvert #@ \\rvert $$' data-latex='\\lvert #? \\rvert' data-aside='abs'></li>\n                <li class='keycap tex' data-insert='\\ast '>&#x2217;<aside>asterisk</aside></li>\n\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-roman'>abc</li>\n                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>\n                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>\n                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>\n                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>\n                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>\n                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>\n                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>\n                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>\n                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>\n                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>\n                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>\n                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>\n                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>\n                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>\n                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>\n            </ul>\n            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='[\"insert\",\"{\\\\char\\\"391}\"]'><i>&alpha;</i></li>\n                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>\n                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>\n                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>\n                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>\n                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>\n                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>\n                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>\n                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>\n            </ul>\n            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>\n                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>\n                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>\n                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>\n                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>\n                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>\n                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='keycap ' data-key=' '>&nbsp;</li>\n                <li class='keycap'>,</li>\n                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>\n                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>\n                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>\n                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>\n                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>\n                <arrows/>\n            </ul>\n        </div>","upper-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"0190}'>&#x0190;<aside>epsilon</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A1}'>&#x3A1;<aside>rho</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A4}'>&#x3A4;<aside>tau</aside></li>\n                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>\n                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"399}'>&Iota;<aside>iota</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39F}'>&#x039F;<aside>omicron</aside></li>\n                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>\n            <ul><li class='keycap tex' data-insert='{\\char\"391}'>&#x391;<aside>alpha</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>\n                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"397}'>&Eta;<aside>eta</aside></li>\n                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39A}'>&Kappa;<aside>kappa</aside></li>\n                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>\n            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='{\\char\"396}'>&Zeta;<aside>zeta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A7}'>&Chi;<aside>chi</aside></li>\n                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>\n                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"392}'>&Beta;<aside>beta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39D}'>&Nu;<aside>nu</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39C}'>&Mu;<aside>mu</aside></li>\n                <li class='action font-glyph bottom right w15' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul>\n                <li class='separator w10'>&nbsp;</li>\n                <li class='keycap'>.</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-command":"\n        <div class='rows'>\n            <ul><row name='lower-1' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-2' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-3' class='tt' shift-layer='upper-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'>01#</li>\n                <li class='keycap tt' data-shifted='[' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"[\"]'>{</li>\n                <li class='keycap tt' data-shifted=']' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"]\"]'>}</li>\n                <li class='keycap tt' data-shifted='(' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"(\"]'>^</li>\n                <li class='keycap tt' data-shifted=')' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \")\"]'>_</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-command":"\n        <div class='rows'>\n            <ul><row name='upper-1' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-2' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-3' class='tt' shift-layer='lower-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'01#</li>\n                <li class='keycap tt'>[</li>\n                <li class='keycap tt'>]</li>\n                <li class='keycap tt'>(</li>\n                <li class='keycap tt'>)</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","symbols-command":"\n        <div class='rows'>\n            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>\n            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>\n            <ul>\n                <li class='keycap tt'>\\</li>\n                <li class='keycap tt'>|</li>\n                <li class='keycap tt'>/</li>\n                <li class='keycap tt'>`</li>\n                <li class='keycap tt'>;</li>\n                <li class='keycap tt'>:</li>\n                <li class='keycap tt'>?</li>\n                <li class='keycap tt'>'</li>\n                <li class='keycap tt'>\"</li>\n                <li class='action font-glyph bottom right'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-command'>abc</li>\n                <li class='keycap tt'>&lt;</li>\n                <li class='keycap tt'>&gt;</li>\n                <li class='keycap tt'>~</li>\n                <li class='keycap tt'>,</li>\n                <li class='keycap tt'>.</li>\n                <li class='keycap' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",functions:"\n        <div class='rows'>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\sin'></li>\n                <li class='fnbutton' data-insert='\\sin^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln'></li>\n                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{lcm}(#?)$$' data-latex='\\operatorname{lcm}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{ceil}(#?)$$' data-latex='\\operatorname{ceil}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\lim_{n\\to\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\int$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{abs}(#?)$$' data-latex='\\operatorname{abs}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\cos'></li>\n                <li class='fnbutton' data-insert='\\cos^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln_{10}'></li>\n                <li class='fnbutton' data-insert='$$10^{#?}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{gcd}(#?)$$' data-latex='\\operatorname{gcd}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{floor}(#?)$$' data-latex='\\operatorname{floor}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\sum_{n\\mathop=0}^{\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\int_{0}^{\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{sign}(#?)$$' data-latex='\\operatorname{sign}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\tan'></li>\n                <li class='fnbutton' data-insert='\\tan^{-1}'></li>\n                <li class='fnbutton' data-insert='$$\\log_{#?}$$'></li>\n                <li class='fnbutton' data-insert='$$\\sqrt[#?]{#0}$$'></li>\n                <li class='bigfnbutton' data-insert='$$#0 \\mod$$' data-latex='\\mod'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{round}(#?) $$' data-latex='\\operatorname{round}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\prod_{n\\mathop=0}^{\\infty}$$' data-latex='{\\tiny \\prod_{n=0}^{\\infty}}'></li>\n                <li class='bigfnbutton' data-insert='$$\\frac{\\differentialD #0}{\\differentialD x}$$'></li>\n                <li class='action font-glyph bottom right' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton'>(</li>\n                <li class='fnbutton'>)</li>\n                <li class='fnbutton' data-insert='$$^{#?} $$' data-latex='x^{#?} '></li>\n                <li class='fnbutton' data-insert='$$_{#?} $$' data-latex='x_{#?} '></li>\n                <li class='keycap w20 ' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",style:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size3\"}]' data-latex='\\scriptsize\\text{small}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size5\"}]' data-latex='\\scriptsize\\text{normal}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size9\"}]' data-latex='\\huge\\text{big}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-latex='\\langle' data-command='[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"l\"}]' data-latex='\\fontseries{l}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"m\"}]' data-latex='\\fontseries{m}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"b\"}]' data-latex='\\fontseries{b}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"bx\"}]' data-latex='\\fontseries{bx}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"sb\"}]' data-latex='\\fontseries{sb}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"c\"}]' data-latex='\\fontseries{c}\\text{Ab}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"up\"}]' data-latex='\\textup{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"it\"}]' data-latex='\\textit{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex='\\textsl{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex='\\textsc{Ab}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-insert='$$\\emph{#?} $$' data-latex='\\text{\\emph{emph}}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex='\\textrm{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex='\\texttt{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex='\\textsf{Az}'></li>\n\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex='\\mathbb{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex='\\mathscr{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex='\\mathcal{A1}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex='\\mathfrak{Az}'></li>\n            </ul>\n        </div>"};function Qt(e,t,i){e=e.replace(/(^|[^\\])#@/g,"$1#?");const s=at.parseTokens(o(e),"math",t,i.config.macros),a=G(P({mathstyle:"displaystyle",macros:i.config.macros},s),"ML__base"),r=G("","ML__strut");r.setStyle("height",a.height,"em");const n=G("","ML__strut--bottom");return n.setStyle("height",a.height+a.depth,"em"),n.setStyle("vertical-align",-a.depth,"em"),G([r,n,a],"ML__mathlive").toMarkup()}function ei(e,t,i){let s="<div class='left'>";const a=t.replace(/\s+/g," ").split(" ");if(a.length>1){const t=Object.assign({},Xt,e.config.customVirtualKeyboards||{});for(const e of a){if(!t[e])break;s+="<div class='",e===i?s+="selected ":t[e].command?s+="action ":s+="layer-switch ",s+=(t[e].classes||"")+"'",t[e].tooltip&&(s+="data-tooltip='"+Vt(t[e].tooltip)+"' ",s+="data-placement='top' data-delay='1s'"),e!==i&&(t[e].command&&(s+="data-command='\""+t[e].command+"\"'"),t[e].layer&&(s+="data-layer='"+t[e].layer+"'")),s+=">"+t[e].label+"</div>"}}return s+="</div>",s+=`\n        <div class='right'>\n            <div class='action'\n                data-command='"copyToClipboard"'\n                data-tooltip='${Vt("tooltip.copy to clipboard")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='"undo"'\n                data-tooltip='${Vt("tooltip.undo")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='"redo"'\n                data-tooltip='${Vt("tooltip.redo")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        </div>\n    `,"<div class='keyboard-toolbar' role='toolbar'>"+s+"</div>"}function ti(e,t,i){for(let s=0;s<t.length;++s){const a=t[s];a.getAttribute("data-latex")?a.innerHTML=Qt(a.getAttribute("data-latex").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\tiny \\char"2B1A}}'},e):""===a.innerHTML&&a.getAttribute("data-insert")?a.innerHTML=Qt(a.getAttribute("data-insert").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\tiny \\char"2B1A}}'},e):a.getAttribute("data-content")&&(a.innerHTML=a.getAttribute("data-content").replace(/&quot;/g,'"')),a.getAttribute("data-aside")&&(a.innerHTML+="<aside>"+a.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),a.getAttribute("data-classes")&&a.classList.add(a.getAttribute("data-classes"));let r,o=a.getAttribute("data-insert");if(o&&(o=o.replace(/&quot;/g,'"')),o&&Gt[o]&&(a.setAttribute("data-shifted",Gt[o].label),a.setAttribute("data-shifted-command",JSON.stringify(["insertAndUnshiftKeyboardLayer",Gt[o].insert]))),r=a.getAttribute("data-command")?JSON.parse(a.getAttribute("data-command")):a.getAttribute("data-insert")?["insert",a.getAttribute("data-insert"),{focus:!0,feedback:!0,mode:"math",format:"auto",resetStyle:!0}]:a.getAttribute("data-latex")?["insert",a.getAttribute("data-latex"),{focus:!0,feedback:!0,mode:"math",format:"auto",resetStyle:!0}]:["typedText",a.getAttribute("data-key")||a.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}],i&&(r=[i,r]),a.getAttribute("data-alt-keys")){const e=Yt[a.getAttribute("data-alt-keys")];e&&(r={default:r,pressAndHoldStart:["showAlternateKeys",a.getAttribute("data-alt-keys"),e],pressAndHoldEnd:"hideAlternateKeys"})}e._attachButtonHandlers(a,r)}}function ii(e,t){const i={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}},s=i[e.config.virtualKeyboardLayout]?i[e.config.virtualKeyboardLayout]:i.qwerty;let a,r=t;r=r.replace(/<arrows\/>/g,"\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToPreviousChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-left\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToPreviousChar\"]'>\n            <svg><use xlink:href='#svg-arrow-left' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-right\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToNextChar\"]'>\n            <svg><use xlink:href='#svg-arrow-right' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextPlaceholder\"]'>\n        <svg><use xlink:href='#svg-tab' /></svg></li>");let o=r.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);for(;o;){a="";const e=o[2].match(/[a-zA-Z][a-zA-Z0-9-]*=(['"])(.*?)\1/g),t={};for(const i of e){const e=i.match(/([a-zA-Z][a-zA-Z0-9-]*)=(['"])(.*?)\2/);t[e[1]]=e[3]}let n=s[t.name];if(n||(n=i.qwerty[t.name]),n)for(const e of n){let i=t.class||"";i&&(i=" "+i),"~"===e?(a+="<li class='action font-glyph bottom right ",a+=n.length-(n.match(/ /g)||[]).length/2==10?"w10":"w15",a+='\' data-shifted=\'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>\'\n                        data-shifted-command=\'"deleteAll"\'\n                        data-alt-keys=\'delete\' data-command=\'["performWithFeedback","deletePreviousChar"]\'\n                        >&#x232b;</li>'):" "===e?a+="<li class='separator w5'></li>":"^"===e?a+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+t["shift-layer"]+"'>&#x21e7;</li>":"/"===e?a+="<li class='keycap"+i+"' data-alt-keys='/' data-insert='\\frac{#0}{#?}'>&divide;</li>":"*"===e?a+="<li class='keycap"+i+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":"-"===e?a+="<li class='keycap"+i+"' data-alt-keys='-' data-key='-' data-alt-keys='-'>&#x2212;</li>":/tt/.test(i)?a+="<li class='keycap"+i+"' data-alt-keys='"+e+'\' data-command=\'["typedText","'+e+'",{"commandMode":true, "focus":true, "feedback":true}]\'>'+e+"</li>":a+="<li class='keycap"+i+"' data-alt-keys='"+e+"'>"+e+"</li>"}r=r.replace(new RegExp(o[1]+o[2]+o[3]),a),o=r.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return r}var si={make:function(e,t){let i='<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n\n            <symbol id="svg-command" viewBox="0 0 640 512">\n                <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>\n            </symbol>\n\n            <symbol id="svg-undo" viewBox="0 0 512 512">\n                <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>\n            </symbol>\n            <symbol id="svg-redo" viewBox="0 0 512 512">\n                <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-arrow-left" viewBox="0 0 192 512">\n                <path d="M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z"/>\n            </symbol>\n            <symbol id="svg-arrow-right" viewBox="0 0 192 512">\n                    <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"/>\n            </symbol>\n            <symbol id="svg-tab" viewBox="0 0 448 512">\n                    <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-copy" viewBox="0 0 448 512">\n                <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>\n            </symbol>\n            <symbol id="svg-angle-double-right" viewBox="0 0 320 512">\n                <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>\n            </symbol>\n            <symbol id="svg-angle-double-left" viewBox="0 0 320 512">\n                <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>\n            </symbol>\n            <symbol id="svg-trash" viewBox="0 0 448 512">\n                <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>\n            </symbol>\n        </svg>\n        ';Zt["foreground-color"]=[];for(const e of tt)Zt["foreground-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+e+'"></span>',command:'["applyStyle",{"color":"'+e+'"}]'});Zt["background-color"]=[];for(const e of et)Zt["background-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+e+'"></span>',command:'["applyStyle",{"backgroundColor":"'+e+'"}]'});Yt={...Zt},Object.keys(Yt).forEach(e=>{Yt[e]=Yt[e].slice()});const s="abcdefghijklmnopqrstuvwxyz";for(let e=0;e<26;e++){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e];Yt[t]||(Yt[t]=[]),Yt[t].unshift({latex:"\\mathbb{"+t+"}",aside:"blackboard",insert:"\\mathbb{"+t+"}"}),Yt[t].unshift({latex:"\\mathbf{"+t+"}",aside:"bold",insert:"\\mathbf{"+t+"}"}),Yt[t].unshift({latex:"\\mathsf{"+t+"}",aside:"sans",insert:"\\mathsf{"+t+"}"}),Yt[t].unshift({latex:"\\mathtt{"+t+"}",aside:"monospace",insert:"\\mathtt{"+t+"}"}),Yt[t].unshift({latex:"\\mathcal{"+t+"}",aside:"script",insert:"\\mathcal{"+t+"}"}),Yt[t].unshift({latex:"\\mathfrak{"+t+"}",aside:"fraktur",insert:"\\mathfrak{"+t+"}"}),Yt[t].unshift({latex:"\\mathbb{"+s[e]+"}",aside:"blackboard",insert:"\\mathbb{"+s[e]+"}"}),Yt[t].unshift({latex:"\\mathbf{"+s[e]+"}",aside:"bold",insert:"\\mathbf{"+s[e]+"}"}),Yt[t].unshift({latex:"\\mathsf{"+s[e]+"}",aside:"sans",insert:"\\mathsf{"+s[e]+"}"}),Yt[t].unshift({latex:"\\mathcal{"+s[e]+"}",aside:"script",insert:"\\mathcal{"+s[e]+"}"}),Yt[t].unshift({latex:"\\mathfrak{"+s[e]+"}",aside:"fraktur",insert:"\\mathfrak{"+s[e]+"}"})}for(let e=0;e<=26;e++){const t=s[e];Yt[t]||(Yt[t]=[]),Yt[t].unshift({latex:"\\mathsf{"+t+"}",aside:"sans",insert:"\\mathbb{"+t+"}"}),Yt[t].unshift({latex:"\\mathbf{"+t+"}",aside:"bold",insert:"\\mathbf{"+t+"}"}),Yt[t].unshift({latex:"\\mathtt{"+t+"}",aside:"monospace",insert:"\\mathtt{"+t+"}"}),Yt[t].unshift({latex:"\\mathfrak{"+t+"}",aside:"fraktur",insert:"\\mathfrak{"+t+"}"})}for(let e=0;e<10;e++){const t="0123456789"[e];Yt[t]||(Yt[t]=[]),Yt[t].unshift({latex:"\\mathbf{"+t+"}",aside:"bold",insert:"\\mathbf{"+t+"}"}),Yt[t].unshift({latex:"\\mathsf{"+t+"}",aside:"sans",insert:"\\mathsf{"+t+"}"}),Yt[t].unshift({latex:"\\mathtt{"+t+"}",aside:"monospace",insert:"\\mathtt{"+t+"}"}),Yt[t].unshift({latex:"\\mathcal{"+t+"}",aside:"script",insert:"\\mathcal{"+t+"}"}),Yt[t].unshift({latex:"\\mathfrak{"+t+"}",aside:"fraktur",insert:"\\mathfrak{"+t+"}"})}let a=e.config.virtualKeyboards;a||(a="all"),a=a.replace(/\ball\b/i,"numeric roman greek functions command");const r=Object.assign({},Jt,e.config.customVirtualKeyboardLayers||{}),o=Object.assign({},Xt,e.config.customVirtualKeyboards||{}),n=a.replace(/\s+/g," ").split(" ");for(const t of n){if(!o[t])break;let s=o[t].layers||[];o[t].layer&&s.push(o[t].layer),s=Array.from(new Set(s));for(const o of s){if(!r[o])break;if("object"==typeof r[o]){let e="";if(r[o].styles&&(e+=`<style>${r[o].styles}</style>`),r[o].backdrop&&(e+=`<div class='${r[o].backdrop}'>`),r[o].container&&(e+=`<div class='${r[o].container}'>`),r[o].rows){e+="<div class='rows'>";for(const t of r[o].rows){e+="<ul>";for(const i of t)e+="<li",i.class&&(e+=` class="${i.class}"`),i.key&&(e+=` data-key="${i.key}"`),i.command&&("string"==typeof i.command?e+=` data-command='"${i.command}"'`:(e+=" data-command='",e+=JSON.stringify(i.command),e+="'")),i.insert&&(e+=` data-insert="${i.insert}"`),i.latex&&(e+=` data-latex="${i.latex}"`),i.aside&&(e+=` data-aside="${i.aside}"`),i.altKeys&&(e+=` data-alt-keys="${i.altKeys}"`),i.shifted&&(e+=` data-shifted="${i.shifted}"`),i.shiftedCommand&&(e+=` data-shifted-command="${i.shiftedCommand}"`),e+=`>${i.label?i.label:""}</li>`;e+="</ul>"}e+="</div>",r[o].container&&(e+="</div'>"),r[o].backdrop&&(e+="</div'>")}r[o]=e}i+="<div tabindex=\"-1\" class='keyboard-layer' data-layer='"+o+"'>",i+=ei(e,a,t);const s="function"==typeof r[o]?r[o]():r[o];i+=ii(e,s),i+="</div>"}}const l=document.createElement("div");l.className="ML__keyboard",t?l.classList.add(t):e.config.virtualKeyboardTheme?l.classList.add(e.config.virtualKeyboardTheme):/android|cros/i.test(navigator.userAgent)&&l.classList.add("material"),l.innerHTML=i,ti(e,l.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton"));const c=l.getElementsByClassName("layer-switch");for(let t=0;t<c.length;++t)c[t].classList.contains("shift")?e._attachButtonHandlers(c[t],{pressed:["shiftKeyboardLayer","shift"],default:["switchKeyboardLayer",c[t].getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):e._attachButtonHandlers(c[t],{default:["switchKeyboardLayer",c[t].getAttribute("data-layer")]});const h=l.getElementsByClassName("keyboard-layer");return Array.from(h).forEach(e=>{e.addEventListener("mousedown",e=>{e.preventDefault(),e.stopPropagation()}),e.addEventListener("touchstart",e=>{e.preventDefault(),e.stopPropagation()})}),h[0].classList.add("is-visible"),window.addEventListener("mouseup",(function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()})),window.addEventListener("blur",(function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()})),window.addEventListener("touchend",(function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()})),window.addEventListener("touchcancel",(function(){e.hideAlternateKeys_(),e.unshiftKeyboardLayer_()})),l},makeKeycap:ti};const ai={"":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega"},ri={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\langle":"(:","\\rangle":":)"},oi={"\\pm":"&PlusMinus;","\\times":"&times;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\lbrace":"{","\\rbrace":"}","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":"","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};function ni(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function li(e,t){return e&&t.generateID?' extid="'+e+'"':""}function ci(e,t,i){let s=!1;t=t||e.atoms.length;let a="",r="",o=-1,n=-1;const l=e.atoms[e.index];if(e.index<t&&("mord"===l.type||"textord"===l.type)&&"0123456789,.".indexOf(l.body)<0&&(r=l.toMathML(i),l.superscript&&(o=e.index),l.subscript&&(n=e.index),e.index+=1),r.length>0){if(s=!0,hi(e)&&(o=e.index,e.index+=1),di(e)&&(n=e.index,e.index+=1),o>=0&&n>=0)a="<msubsup>"+r,a+=yi(e.atoms[n].subscript,0,0,i).mathML,a+=yi(e.atoms[o].superscript,0,0,i).mathML,a+="</msubsup>";else if(o>=0){if(a="<msup>"+r,hi(e)){const t=yi(e.atoms[o].superscript,0,0,i).mathML,s=yi(e.atoms[o+1].superscript,0,0,i).mathML;a+="<mi></mi>"!==t&&"<mi>&#x2032;</mi>"!==t||"<mi></mi>"!==s&&"<mi>&#x2032;</mi>"!==s?"<mi></mi>"===t||"<mi>&#x2032;</mi>"===t?"<mi>&#x2032;</mi>":t:"<mi>&#x2033;</mi>"}else a+=yi(e.atoms[o].superscript,0,0,i).mathML;a+="</msup>"}else n>=0?(a="<msub>"+r,a+=yi(e.atoms[n].subscript,0,0,i).mathML,a+="</msub>"):a=r;"mi"!==e.lastType&&"mn"!==e.lastType&&"mtext"!==e.lastType&&"fence"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(a)||(a="<mo>&InvisibleTimes;</mo>"+a),r.endsWith(">f</mi>")||r.endsWith(">g</mi>")?(a+="<mo> &ApplyFunction; </mo>",e.lastType="applyfunction"):e.lastType=/^<mo>(.*)<\/mo>$/.test(a)?"mo":"mi",e.mathML+=a}return s}function hi(e){return e.index<e.atoms.length&&e.atoms[e.index].superscript&&"msubsup"===e.atoms[e.index].type}function di(e){return e.index<e.atoms.length&&e.atoms[e.index].subscript&&"msubsup"===e.atoms[e.index].type}function mi(e,t,i){let s=!1,a="",r=t.atoms[t.index-1];return!!r&&(r.superscript||r.subscript||(hi(t)||di(t))&&(r=t.atoms[t.index],t.index+=1),!!r&&(r.superscript&&r.subscript?(a="<msubsup>"+e,a+=yi(r.subscript,0,0,i).mathML,a+=yi(r.superscript,0,0,i).mathML,a+="</msubsup>"):r.superscript?(a="<msup>"+e,a+=yi(r.superscript,0,0,i).mathML,a+="</msup>"):r.subscript&&(a="<msub>"+e,a+=yi(r.subscript,0,0,i).mathML,a+="</msub>"),a.length>0&&(s=!0,t.mathML+=a,t.lastType=""),s))}function pi(e,t,i){let s=!1;t=t||e.atoms.length;const a=e.index;let r="";for(;e.index<t&&"text"===e.atoms[e.index].mode;)r+=e.atoms[e.index].body?e.atoms[e.index].body:" ",e.index+=1;return r.length>0&&(s=!0,r="<mtext"+li(e.atoms[a].id,i)+">"+r+"</mtext>",e.mathML+=r,e.lastType="mtext"),s}function ui(e,t,i){let s=!1;t=t||e.atoms.length;const a=e.index;let r="",o=function(e){let t=-1,i=e.index,s=!1,a=!1;for(;i<e.atoms.length&&!s&&!a;)s="mord"!==e.atoms[i].type||"0123456789,.".indexOf(e.atoms[i].body)<0,a=!s&&e.atoms[i].superscript,i++;return a&&(t=i-1),t}(e);for(o>=0&&o<t&&(t=o);e.index<t&&"mord"===e.atoms[e.index].type&&"0123456789,.".indexOf(e.atoms[e.index].body)>=0;)r+=e.atoms[e.index].body,e.index+=1;return r.length>0&&(s=!0,r="<mn"+li(e.atoms[a].id,i)+">"+r+"</mn>",o<0&&hi(e)&&(o=e.index,e.index+=1),o>=0&&(r="<msup>"+r,r+=yi(e.atoms[o].superscript,0,0,i).mathML,r+="</msup>"),e.mathML+=r,e.lastType="mn"),s}function fi(e,t,i){let s=!1;t=t||e.atoms.length;let a="",r="";if(e.index<t&&"mopen"===e.atoms[e.index].type){let o=!1,n=0;const l=e.index;let c=-1,h=l+1;for(;h<t&&!o;)"mopen"===e.atoms[h].type?n+=1:"mclose"===e.atoms[h].type&&(n-=1),-1===n&&(o=!0,c=h),h+=1;o&&(a="<mrow>",a+=bi(e.atoms[l],i),a+=yi(e.atoms,l+1,c,i).mathML,a+=bi(e.atoms[c],i),a+="</mrow>","mi"!==e.lastType&&"mn"!==e.lastType&&"mfrac"!==e.lastType&&"fence"!==e.lastType||(a="<mo>&InvisibleTimes;</mo>"+a),e.index=c+1,mi(a,e,i)&&(s=!0,e.lastType="",a=""),r="fence")}return a.length>0&&(s=!0,e.mathML+=a,e.lastType=r),s}function gi(e,t,i){let s=!1;t=t||e.atoms.length;let a="",r="";const o=e.atoms[e.index];if(e.index<t&&("mbin"===o.type||"mrel"===o.type))a+=e.atoms[e.index].toMathML(i),e.index+=1,r="mo";else if(e.index<t&&"mop"===o.type){if("limits"===o.limits&&(o.superscript||o.subscript)){const e=bi(o,i);o.superscript&&o.subscript?(a+=("nolimits"!==o.limits?"<munderover>":"<msubsup>")+e,a+=yi(o.subscript,0,0,i).mathML,a+=yi(o.superscript,0,0,i).mathML,a+="nolimits"!==o.limits?"</munderover>":"</msubsup>"):o.superscript?(a+=("nolimits"!==o.limits?"<mover>":"<msup>")+e,a+=yi(o.superscript,0,0,i).mathML,a+="nolimits"!==o.limits?"</mover>":"</msup>"):(a+=("nolimits"!==o.limits?"<munder>":"<msub>")+e,a+=yi(o.subscript,0,0,i).mathML,a+="nolimits"!==o.limits?"</munder>":"</msub>"),r="mo"}else{const t=e.atoms[e.index],o=0===t.latex.indexOf("\\operatorname"),n=o?'<mi class="MathML-Unit"'+li(t.id,i)+">"+vi(t.body)+"</mi>":bi(t,i);a+=n,e.index+=1,mi(a,e,i)&&(s=!0,e.lastType="",a=""),e.index-=1,o||/^<mo>(.*)<\/mo>$/.test(n)?r=o?"mi":"mo":(a+="<mo>&#x2061;</mo>",r="applyfunction")}"mi"!==e.lastType&&"mn"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(a)||(a="<mo>&InvisibleTimes;</mo>"+a),e.index+=1}return a.length>0&&(s=!0,e.mathML+=a,e.lastType=r),s}function yi(e,t,i,s){const a={atoms:e,index:t||0,mathML:"",lastType:""};if(i=i||(e?e.length:0),"number"==typeof e||"boolean"==typeof e)a.mathML=e.toString();else if("string"==typeof e)a.mathML=e;else if(e&&"function"==typeof e.toMathML)a.mathML=e.toMathML(s);else if(Array.isArray(e)){let e=0;for(;a.index<i;)if(pi(a,i,s)||ui(a,i,s)||ci(a,i,s)||gi(a,i,s)||fi(a,i,s))e+=1;else if(a.index<i){let t=a.atoms[a.index].toMathML(s);"mn"===a.lastType&&t.length>0&&"genfrac"===a.atoms[a.index].type&&(t="<mo>&#x2064;</mo>"+t),"genfrac"===a.atoms[a.index].type?a.lastType="mfrac":a.lastType="",t.length>0&&(a.mathML+=t,e+=1),a.index+=1}e>1&&(a.mathML="<mrow>"+a.mathML+"</mrow>")}return a}function bi(e,t){let i="";const s=vi(e.body);return s&&(i="<mo"+li(e.id,t)+">"+s+"</mo>"),i}function vi(e){if(!e)return"";if("string"==typeof e)return ni(e);if(!Array.isArray(e)&&"string"==typeof e.body)return ni(e.body);let t="";for(const i of e)"string"==typeof i.body&&(t+=i.body);return ni(t)}Xe.prototype.toMathML=function(e){const t={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:""},i={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."},s={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};let a,r,o,n,l,c,h="",d="",m={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"}[this.fontFamily||this.font]||"";m&&(m=' mathvariant="'+m+'"');const p=this.latex?this.latex.trim():null;if("text"===this.mode)h="<mi"+li(this.id,e)+">"+this.body+"</mi>";else switch(this.type){case"first":break;case"group":case"root":h=yi(this.body,0,0,e).mathML;break;case"array":if((this.lFence&&"."!==this.lFence||this.rFence&&"."!==this.rFence)&&(h+="<mrow>",this.lFence&&"."!==this.lFence&&(h+="<mo>"+(oi[this.lFence]||this.lFence)+"</mo>")),h+="<mtable",this.colFormat){for(h+=' columnalign="',o=0;o<this.colFormat.length;o++)this.colFormat[o].align&&(h+={l:"left",c:"center",r:"right"}[this.colFormat[o].align]+" ");h+='"'}for(h+=">",r=0;r<this.array.length;r++){for(h+="<mtr>",a=0;a<this.array[r].length;a++)h+="<mtd>"+yi(this.array[r][a],0,0,e).mathML+"</mtd>";h+="</mtr>"}h+="</mtable>",(this.lFence&&"."!==this.lFence||this.rFence&&"."!==this.rFence)&&(this.rFence&&"."!==this.rFence&&(h+="<mo>"+(oi[this.lFence]||this.rFence)+"</mo>"),h+="</mrow>");break;case"genfrac":(this.leftDelim||this.rightDelim)&&(h+="<mrow>"),this.leftDelim&&"."!==this.leftDelim&&(h+="<mo"+li(this.id,e)+">"+(oi[this.leftDelim]||this.leftDelim)+"</mo>"),this.hasBarLine?(h+="<mfrac>",h+=yi(this.numer,0,0,e).mathML||"<mi>&nbsp;</mi>",h+=yi(this.denom,0,0,e).mathML||"<mi>&nbsp;</mi>",h+="</mfrac>"):(h+="<mtable"+li(this.id,e)+">",h+="<mtr>"+yi(this.numer,0,0,e).mathML+"</mtr>",h+="<mtr>"+yi(this.denom,0,0,e).mathML+"</mtr>",h+="</mtable>"),this.rightDelim&&"."!==this.rightDelim&&(h+="<mo"+li(this.id,e)+">"+(oi[this.rightDelim]||this.rightDelim)+"</mo>"),(this.leftDelim||this.rightDelim)&&(h+="</mrow>");break;case"surd":this.index?(h+="<mroot"+li(this.id,e)+">",h+=yi(this.body,0,0,e).mathML,h+=yi(this.index,0,0,e).mathML,h+="</mroot>"):(h+="<msqrt"+li(this.id,e)+">",h+=yi(this.body,0,0,e).mathML,h+="</msqrt>");break;case"leftright":h="<mrow>",this.leftDelim&&"."!==this.leftDelim&&(h+="<mo"+li(this.id,e)+">"+(oi[this.leftDelim]||this.leftDelim)+"</mo>"),this.body&&(h+=yi(this.body,0,0,e).mathML),this.rightDelim&&"."!==this.rightDelim&&(h+="<mo"+li(this.id,e)+">"+(oi[this.rightDelim]||this.rightDelim)+"</mo>"),h+="</mrow>";break;case"sizeddelim":case"delim":h+='<mo separator="true"'+li(this.id,e)+">"+(oi[this.delim]||this.delim)+"</mo>";break;case"accent":h+='<mover accent="true"'+li(this.id,e)+">",h+=yi(this.body,0,0,e).mathML,h+="<mo>"+(oi[p]||this.accent)+"</mo>",h+="</mover>";break;case"line":case"overlap":break;case"overunder":l=this.overscript,n=this.underscript,(this.svgAbove||l)&&(this.svgBelow||n)?c=this.body:l?(c=this.body,this.body[0]&&this.body[0].underscript?(n=this.body[0].underscript,c=this.body[0].body):this.body[0]&&"first"===this.body[0].type&&this.body[1]&&this.body[1].underscript&&(n=this.body[1].underscript,c=this.body[1].body)):n&&(c=this.body,this.body[0]&&this.body[0].overscript?(l=this.body[0].overscript,c=this.body[0].body):this.body[0]&&"first"===this.body[0].type&&this.body[1]&&this.body[1].overscript&&(l=this.body[1].overscript,c=this.body[1].body)),(this.svgAbove||l)&&(this.svgBelow||n)?(h+=`<munderover ${m} ${li(this.id,e)}>`,h+=t[this.svgBody]||yi(c,0,0,e).mathML,h+=t[this.svgBelow]||yi(n,0,0,e).mathML,h+=t[this.svgAbove]||yi(l,0,0,e).mathML,h+="</munderover>"):this.svgAbove||l?(h+=`<mover ${m} ${li(this.id,e)}>`+(t[this.svgBody]||yi(c,0,0,e).mathML),h+=t[this.svgAbove]||yi(l,0,0,e).mathML,h+="</mover>"):(this.svgBelow||n)&&(h+=`<munder ${m} ${li(this.id,e)}>`+(t[this.svgBody]||yi(c,0,0,e).mathML),h+=t[this.svgBelow]||yi(n,0,0,e).mathML,h+="</munder>");break;case"placeholder":case"mord":{h=i[p]||p||("string"==typeof this.body?this.body:"");const t=p?p.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null;t?h="&#x"+t[1]+";":h.length>0&&"\\"===h.charAt(0)&&(h="string"==typeof this.body&&this.body.charCodeAt(0)>255?"&#x"+("000000"+this.body.charCodeAt(0).toString(16)).substr(-4)+";":"string"==typeof this.body?this.body.charAt(0):this.body);const s=/\d/.test(h)?"mn":"mi";h="<"+s+m+li(this.id,e)+">"+ni(h)+"</"+s+">";break}case"mbin":case"mrel":case"textord":case"minner":h=p&&i[p]?"<mi"+li(this.id,e)+">"+i[p]+"</mi>":p&&oi[p]?"<mo"+li(this.id,e)+">"+oi[p]+"</mo>":bi(this,e);break;case"mpunct":h='<mo separator="true"'+li(this.id,e)+">"+(oi[p]||p)+"</mo>";break;case"mop":""!==this.body&&(h="<mo"+li(this.id,e)+">",h+="\\operatorname"===p?this.body:p||this.body,h+="</mo>");break;case"mathstyle":break;case"box":h='<menclose notation="box"',this.backgroundcolor&&(h+=' mathbackground="'+Je(this.backgroundcolor)+'"'),h+=li(this.id,e)+">"+yi(this.body,0,0,e).mathML+"</menclose>";break;case"spacing":h+='<mspace width="'+(s[p]||0)+'em"/>';break;case"enclose":h='<menclose notation="';for(const e in this.notation)Object.prototype.hasOwnProperty.call(this.notation,e)&&this.notation[e]&&(h+=d+e,d=" ");h+=li(this.id,e)+'">'+yi(this.body,0,0,e).mathML+"</menclose>";break;case"space":h+="&nbsp;"}return h},Xe.toMathML=function(e,t){return yi(e,0,0,t).mathML};const xi={"\\imaginaryI":"","\\imaginaryJ":"","\\pi":"","\\exponentialE":"","":"+","":"+","":"-","-":"-","":"-","":"-","\\times":"*","\\cdot":"*","":"*","":"*","":"*",".":"*","":"/","":"/","":"/","!":"factorial","\\mp":"minusplus","\\ne":"!=","\\coloneq":":=","\\questeq":"?=","\\approx":"approx","\\cong":"congruent","\\sim":"similar","\\equiv":"equiv","\\pm":"plusminus","\\land":"and","\\wedge":"and","\\lor":"or","\\vee":"or","\\oplus":"xor","\\veebar":"xor","\\lnot":"not","\\neg":"not","\\exists":"exists","\\nexists":"!exists","\\forall":"forAll","\\backepsilon":"suchThat","\\therefore":"therefore","\\because":"because","\\nabla":"nabla","\\circ":"circle","\\ominus":"ominus","\\odot":"odot","\\otimes":"otimes","\\zeta":"Zeta","\\Gamma":"Gamma","\\min":"min","\\max":"max","\\mod":"mod","\\lim":"lim","\\sum":"sum","\\prod":"prod","\\int":"integral","\\iint":"integral2","\\iiint":"integral3","\\Re":"Re","\\gothicCapitalR":"Re","\\Im":"Im","\\gothicCapitalI":"Im","\\binom":"nCr","\\partial":"partial","\\differentialD":"differentialD","\\capitalDifferentialD":"capitalDifferentialD","\\Finv":"Finv","\\Game":"Game","\\wp":"wp","\\ast":"ast","\\star":"star","\\asymp":"asymp","\\to":"to","\\gets":"gets","\\in":"elementof","\\notin":"!elementof","\\ni":"ownedby","\\owns":"ownedby","\\subset":"subset","\\supset":"superset","\\complement":"complement","\\rightarrow":"shortLogicalImplies","\\leftarrow":"shortLogicalImpliedBy","\\leftrightarrow":"shortLogicalEquivalent","\\longrightarrow":"logicalImplies","\\longleftarrow":"logicalImpliedBy","\\longleftrightarrow":"logicalEquivalent","\\Rightarrow":"shortImplies","\\Leftarrow":"shortImpliedBy","\\Leftrightarrow":"shortEquivalent","\\implies":"implies","\\Longrightarrow":"implies","\\impliedby":"impliedBy","\\Longleftarrow":"impliedBy","\\iff":"equivalent","\\Longleftrightarrow":"equivalent"},ki={"+":"add","*":"multiply","-":"subtract","/":"divide","=":"equal",":=":"assign","!=":"ne","?=":"questeq",approx:"approx",congruent:"congruent",similar:"similar",equiv:"equiv","<":"lt",">":"gt","<=":"le",">=":"ge","":"le","":"ge",">>":"gg","<<":"ll","**":"pow","++":"increment","--":"decrement"},_i={equal:"%0 = %1",ne:"%0 \\ne %1",questeq:"%0 \\questeq %1",approx:"%0 \\approx %1",congruent:"%0 \\cong %1",similar:"%0 \\sim %1",equiv:"%0 \\equiv %1",assign:"%0 := %1",lt:"%0 < %1",gt:"%0 > %1",le:"%0 \\le %1",ge:"%0 \\ge %1",sin:"\\sin%_%^ %0",cos:"\\cos%_%^ %0",tan:"\\tan%_%^ %0",cot:"\\cot%_%^ %0",sec:"\\sec%_%^ %0",csc:"\\csc%_%^ %0",sinh:"\\sinh %0",cosh:"\\cosh %0",tanh:"\\tanh %0",csch:"\\csch %0",sech:"\\sech %0",coth:"\\coth %0",arcsin:"\\arcsin %0",arccos:"\\arccos %0",arctan:"\\arctan %0",arccot:"\\arcctg %0",arcsec:"\\arcsec %0",arccsc:"\\arccsc %0",arsinh:"\\arsinh %0",arcosh:"\\arcosh %0",artanh:"\\artanh %0",arcsch:"\\arcsch %0",arsech:"\\arsech %0",arcoth:"\\arcoth %0",ln:"\\ln%_%^ %",log:"\\log%_%^ %",lg:"\\lg %",lb:"\\lb %",sum:"\\sum%_%^ %0",prod:"\\prod%_%^ %0",Zeta:"\\zeta%_%^ %",Gamma:"\\Gamma %",min:"\\min%_%^ %",max:"\\max%_%^ %",mod:"\\mod%_%^ %",lim:"\\lim%_%^ %",binom:"\\binom %",nabla:"\\nabla %",curl:"\\nabla\\times %0",div:"\\nabla\\cdot %0",floor:"\\lfloor %0 \\rfloor%_%^",ceil:"\\lceil %0 \\rceil%_%^",abs:"\\left| %0 \\right|%_%^",norm:"\\lVert %0 \\rVert%_%^",ucorner:"\\ulcorner %0 \\urcorner%_%^",lcorner:"\\llcorner %0 \\lrcorner%_%^",angle:"\\langle %0 \\rangle%_%^",group:"\\lgroup %0 \\rgroup%_%^",moustache:"\\lmoustache %0 \\rmoustache%_%^",brace:"\\lbrace %0 \\rbrace%_%^","sqrt[]":"\\sqrt[%^]{%0}",sqrt:"\\sqrt{%0}",lcm:"\\operatorname{lcm}%",gcd:"\\operatorname{gcd}%",erf:"\\operatorname{erf}%",erfc:"\\operatorname{erfc}%",randomReal:"\\operatorname{randomReal}%",randomInteger:"\\operatorname{randomInteger}%",and:"%0 \\land %1",or:"%0 \\lor %1",xor:"%0 \\oplus %1",not:"%0 \\lnot %1",circle:"%0 \\circ %1",ast:"%0 \\ast %1",star:"%0 \\star %1",asymp:"%0 \\asymp %1","/":"\\frac{%0}{%1}",Re:"\\Re{%0}",Im:"\\Im{%0}",factorial:"%0!",factorial2:"%0!!"},wi={degree:880,nabla:740,curl:740,partial:740,differentialD:740,capitalDifferentialD:740,"**":720,odot:710,not:680,div:660,solidus:660,"/":660,setminus:650,"%":640,otimes:410,union:350,intersection:350,"*":390,ast:390,".":390,oplus:300,ominus:300,"+":275,"-":275,"+-":275,"-+":275,circle:265,circledast:265,circledcirc:265,star:265,"..":263,to:262,in:262,"|":261,congruent:265,equiv:260,"=":260,"!=":255,"?=":255,similar:250,approx:247,"<":245,">":243,">=":242,"":242,"<=":241,complement:240,subset:240,superset:240,elementof:240,"!elementof":240,exists:230,"!exists":230,forall:230,and:200,xor:195,or:190,suchThat:110,":":100,assign:80,":=":80,therefore:70,because:70,shortLogicalImplies:52,shortImplies:51,logicalImplies:50,implies:49,shortLogicalImpliedBy:48,shortImpliedBy:47,logicalImpliedBy:46,impliedBy:45,shortLogicalEquivalent:44,shortEquivalent:43,logicalEquivalent:42,equivalent:41,",":40,";":30};function Mi(e,t){return Array.isArray(e.arg)?e.arg[t]:void 0}function zi(e){return e&&wi[e]||-1}function Si(e){return/=|=>/.test(e)?"right":"left"}function Li(e){if("f"===e||"g"===e)return!0;const t=_i[e];return!!t&&!!/%[^01_^]?/.test(t)}function Ai(e){e=(e||"").trim();let t=xi[e];if(!t)if(/^\\[^{}]+$/.test(e)){const i=ve(e,"math",{});t=i&&i.value||e.slice(1)}else t=e;return t}function Ci(e){if(!e)return null;const t=Ai(Pi(e)),i=[zi(t),Si(t)];return i[0]<=0?null:i}function Ti(e){return null!==Ci(e)}const Fi={"\\lfloor\\rfloor":"floor","\\lceil\\rceil":"ceil","\\vert\\vert":"abs","\\lvert\\rvert":"abs","||":"abs","\\Vert\\Vert":"norm","\\lVert\\rVert":"norm","\\ulcorner\\urcorner":"ucorner","\\llcorner\\lrcorner":"lcorner","\\langle\\rangle":"angle","\\lgroup\\rgroup":"group","\\lmoustache\\rmoustache":"moustache","\\lbrace\\rbrace":"brace"},Di={"!":"factorial","\\dag":"dagger","\\dagger":"dagger","\\ddagger":"dagger2","\\maltese":"maltese","\\backprime":"backprime","\\backdoubleprime":"backprime2","\\prime":"prime","\\doubleprime":"prime2","\\$":"$","\\%":"%","\\_":"_","\\degree":"degree"},qi={"+":"add","-":"add","*":"multiply","=":"equal",",":"list",";":"list2",and:"and",or:"or",xor:"xor",union:"union",shortLogicalEquivalent:"logicalEquivalent",logicalEquivalent:"logicalEquivalent",shortEquivalent:"equivalent",equivalent:"equivalent"},$i={",":"list",";":"list2"};function Pi(e){if("string"==typeof e)return e;if(Array.isArray(e)){let t="";for(const i of e)t+=Pi(i);return t}if(e.latex&&!/^\\math(op|bin|rel|open|punct|ord|inner)/.test(e.latex))return e.latex.trim();if("leftright"===e.type)return"";if("string"==typeof e.body)return e.body;if(Array.isArray(e.body)){let t="";for(const i of e.body)t+=Pi(i);return t}return""}function Ki(e){return"string"==typeof e.sym?function(e){let t=_i[e];if(t)return t.replace("%1","").replace("%0","").replace("%","");if(e.length>1){const i=ve("\\"+e,"math");!i||i.fontFamily&&"cmr"!==i.fontFamily&&"ams"!==i.fontFamily||(t="\\"+e)}return t||(t=function(e,t){let i="";for(const e of t)i+=ge("math",e.codePointAt(0));return i}(0,e)),t}(e.sym)||e.sym:""}function Ei(e){return parseFloat(e.num)}function Oi(e){return"object"==typeof e&&void 0!==e.num}function Bi(e){let t=0;return Oi(e)&&(t="object"==typeof e.num?void 0!==e.num.re?as(e.num.re):0:parseFloat(e.num)),t}function Ri(e){let t=0;return Oi(e)&&"object"==typeof e.num&&(t=void 0!==e.num.im?as(e.num.im):0),t}function Ii(e){return e&&void 0!==e.sup}function Ni(e){return e&&void 0!==e.sub}function Hi(e,t,i){let s=!1;const a=e.atoms[e.index];return a&&a.type===t&&(s=void 0===i||Pi(a)===i),s}function Wi(e,...t){const i={fn:e};if(t){const e=[];for(const i of t)i&&e.push(i);e.length>0&&(i.arg=e)}return i}function ji(e){return"number"==typeof e?{num:e.toString()}:"string"==typeof e||"object"==typeof e?{num:e}:void 0}function Ui(e){if(Oi(e)){const t=Bi(e),i=Ri(e);return 0!==i?(0!==t&&(e.num.re=(-t).toString()),e.num.im=(-i).toString()):e.num=(-t).toString(),e}return Wi("negate",e)}function Vi(e){const t=e.atoms[e.index+1];return t&&"msubsup"===t.type}function Xi(e,t){let i=e.atoms[e.index];return!i||void 0===i.superscript&&void 0===i.subscript?i=null:e.index+=1,i||(i=e.atoms[e.index+1],i&&"msubsup"===i.type&&(i.superscript||i.subscript)?e.index+=2:i=null),i?(void 0!==i.subscript&&(e.ast.sub=ts(i.subscript,t)),void 0!==i.superscript&&("msubsup"===i.type?/['\u2032]|\\prime/.test(Pi(i.superscript))?(e.index+=1,i=e.atoms[e.index+1],i&&"msubsup"===i.type&&/['\u2032]|\\prime/.test(Pi(i.superscript))?e.ast.sup={sym:""}:(e.ast.sup={sym:""},e.index-=1)):/['\u2033]|\\doubleprime/.test(Pi(i.superscript))?e.ast.sup={sym:""}:e.ast&&(e.ast.sup=ts(i.superscript,t)):e.ast.sup=ts(i.superscript,t))):e.index+=1,e}function Gi(e,t){const i=e.ast;if(Yi(e,"!!"))return e.index+=1,e.ast=Wi("factorial2",i),Gi(e=Xi(e,t),t);if(Yi(e,"++"))return e.index+=1,e.ast=Wi("increment",i),Gi(e=Xi(e,t),t);if(Yi(e,"--"))return e.index+=1,e.ast=Wi("decrement",i),Gi(e=Xi(e,t),t);const s=e.atoms[e.index];return s&&s.latex&&Di[s.latex.trim()]&&(e.ast=Wi(Di[s.latex.trim()],i),e=Gi(e=Xi(e,t),t)),e}function Zi(e,t,i,s){if(e.index=e.index||0,0===e.atoms.length||e.index>=e.atoms.length)return e.ast=void 0,e;const a=e.minPrec;e.minPrec=0;let r=e.atoms[e.index];if(t){if("mopen"===r.type&&Pi(r)===t)e.index+=1,r=(e=Qi(e,s)).atoms[e.index],r&&"mclose"===r.type&&Pi(r)===i&&(Vi(e)&&(e.ast={group:e.ast}),e=Gi(e=Xi(e,s),s));else if("textord"===r.type&&Pi(r)===t)e.index+=1,r=(e=Qi(e,s)).atoms[e.index],r&&"textord"===r.type&&Pi(r)===i&&(e.index+=1,e=Gi(e=Xi(e,s),s));else if("\\lVert"===t&&"textord"===r.type&&"|"===r.latex){if(r=e.atoms[e.index+1],r&&"textord"===r.type&&"|"===r.latex){e.index+=2,r=(e=Qi(e,s)).atoms[e.index];const t=e.atoms[e.index+1];r&&"textord"===r.type&&"|"===r.latex&&t&&"textord"===t.type&&"|"===t.latex&&(e.index+=2,e=Gi(e=Xi(e,s),s))}}else if("sizeddelim"===r.type&&r.delim===t)e.index+=1,r=(e=Qi(e,s)).atoms[e.index],r&&"sizeddelim"===r.type&&r.delim===i&&(e.index+=1,e=Gi(e=Xi(e,s),s));else{if("leftright"!==r.type||r.leftDelim!==t||"?"!==r.rightDelim&&r.rightDelim!==i)return;e.ast=ts(r.body,s),Vi(e)&&(e.ast={group:e.ast}),e=Gi(e=Xi(e,s),s)}return e.minPrec=a,e}{let s=!0;if("mopen"===r.type?(t=r.latex.trim(),i=ce[t]):"sizeddelim"===r.type?(t=r.delim,i=ce[t]):"leftright"===r.type?(s=!1,t=r.leftDelim,"?"===(i=r.rightDelim)&&(i=ce[t])):"textord"===r.type&&(t=r.latex.trim(),i=ce[t]),t&&i){if("|"===t&&"|"===i){const s=e.atoms[e.index+1];s&&"textord"===s.type&&"|"===s.latex&&(t="\\lVert",i="\\rVert")}if(e=Zi(e,t,i))return s&&(e.index+=1),e.ast={fn:Fi[t+i]||t+i,arg:[e.ast]},e.minPrec=a,e}}}function Yi(e,t){return e.index=e.index||0,!(e.atoms.length<=1||e.index>=e.atoms.length-1)&&t===Pi(e.atoms[e.index])+Pi(e.atoms[e.index+1])}function Ji(e){if(e.index=e.index||0,!(e.atoms.length<=1||e.index>=e.atoms.length-1)){if(!Hi(e,"textord","\\nabla")){const t=e.atoms[e.index].latex+e.atoms[e.index+1].latex,i=/^(>=|<=|>>|<<|:=|!=)$/.test(t)?t:"";return i&&(e.index+=1),i}return e.index+=1,Hi(e,"mbin","\\times")?(e.index+=1,e.ast="curl",e):Hi(e,"mbin","\\cdot")?(e.index+=1,e.ast="div",e):void(e.index-=1)}}function Qi(e,t){if(e.index=e.index||0,e.ast=void 0,0===e.atoms.length||e.index>=e.atoms.length)return e;e.minPrec=e.minPrec||0;let i=function e(t,i){if(t.index=t.index||0,t.ast=void 0,0===t.atoms.length||t.index>=t.atoms.length)return t;let s=t.atoms[t.index];if("text"===s.mode){let e="";for(;t.atoms[t.index]&&"text"===t.atoms[t.index].mode;)e+=t.atoms[t.index].body,t.index+=1;return t.ast={text:e},t}const a=Ai(Pi(s));if(Ji(t))t.ast=Wi(t.ast,e(t,i).ast);else{if("root"===s.type)return t.index=0,t.atoms=s.body,e(t,i);if("mbin"===s.type&&"-"===a)t.index+=1,(t=e(t,i)).ast=Ui(t.ast);else if("mbin"===s.type&&"+"===a)t.index+=1,(t=e(t,i)).ast=Wi("add",t.ast);else if("mord"===s.type&&/^[0-9.]$/.test(s.latex)){let a="",r=!1,o=/^[0-9.eEdD]$/;for(;t.index<t.atoms.length&&!r&&(Hi(t,"spacing")||(Hi(t,"mord")||Hi(t,"mpunct",",")||Hi(t,"mbin"))&&o.test(t.atoms[t.index].latex));)if("spacing"===t.atoms[t.index].type)t.index+=1;else if(void 0!==t.atoms[t.index].superscript||void 0!==t.atoms[t.index].subscript)r=!0;else{let e=t.atoms[t.index].latex;"d"===e||"D"===e?(e="e",o=/^[0-9+-.]$/):"e"===e||"E"===e?Vi(t)?(e="",t.index-=1,r=!0):(e="E",o=/^[0-9+-.]$/):o===/^[0-9+-.]$/&&(o=/^[0-9]$/),a+=","===e?"":e,t.index+=1}if(t.ast=a?ji(a):void 0,s=t.atoms[t.index],s&&"genfrac"===s.type&&!isNaN(t.ast.num)){const s=t.ast;(t=e(t,i)).ast=Wi("add",s,t.ast)}if(s&&"group"===s.type&&s.latex&&s.latex.startsWith("\\nicefrac")){const s=t.ast;(t=e(t,i)).ast=Wi("add",s,t.ast)}s&&"msubsup"===s.type&&(t=Xi(t,i)),t=Gi(t,i)}else if("genfrac"===s.type||"surd"===s.type)t.ast=s.toAST(i),t=Gi(t=Xi(t,i),i);else if("mord"===s.type||"mbin"===s.type){if(Li(a)&&!Ti(s)){t.ast={fn:a};const s=(t=Xi(t,i)).ast,r=e(t,i).ast;r&&/^(list0|list|list2)$/.test(r.fn)?s.arg=r.arg:r&&(s.arg=[r]),t.ast=s}else t.ast=s.toAST(i),""===t.ast.sym&&(t.ast=ji({im:"1"})),t=Xi(t);t=Gi(t,i)}else if("textord"===s.type){if(!Ti(s)&&!ce[s.latex?s.latex.trim():s.body])if(Li(a)){t.ast={fn:a};const s=(t=Xi(t,i)).ast;t.index+=1,s.arg=[e(t,i).ast],t.ast=s,t=Gi(t,i)}else t.ast=s.toAST(i),void 0===s.superscript&&(t.index+=1),t=Gi(t=Xi(t,i),i)}else if("mop"===s.type){if((/^\\(mathop|operatorname|operatorname\*)/.test(s.latex)||Li(a))&&!Ti(s))if(t.ast={fn:/^\\(mathop|operatorname|operatorname\*)/.test(s.latex)?Pi(s.body):a},Ii((t=Xi(t,i)).ast)){const s={sin:"arcsin",cos:"arccos",tan:"arctan",cot:"arccot",sec:"arcsec",csc:"arccsc",sinh:"arsinh",cosh:"arcosh",tanh:"artanh",csch:"arcsch",sech:"arsech",coth:"arcoth"};if(-1===Ei(t.ast.sup)&&s[a])t.ast=Wi(s[a],e(t,i).ast);else{const s=t.ast;s.arg=[e(t,i).ast],t.ast=s}}else{const s=t.ast,a=e(t,i).ast;a&&/^(list0|list|list2)$/.test(a.fn)?s.arg=a.arg:a&&(s.arg=[a]),t.ast=s}}else if("array"===s.type)t.index+=1,t.ast=s.toAST(i);else if("group"===s.type)t.index+=1,t.ast=s.toAST(i);else{if("mclose"===s.type)return t;if("error"===s.type)return t.index+=1,t.ast={error:s.latex},t}}if(void 0===t.ast){const e=Zi(t,"(",")",i)||Zi(t,null,null,i);e?t=e:Ti(s)||("placeholder"===s.type?t.ast=ji(0):(t.ast={text:"?"},t.ast.error="Unexpected token '"+s.type+"'",s.latex?t.ast.latex=s.latex:s.body&&s.toLatex&&(t.ast.latex=s.toLatex())),t.index+=1)}if(s=t.atoms[t.index],s&&("mord"===s.type||"surd"===s.type||"mop"===s.type||"mopen"===s.type||"sizeddelim"===s.type||"leftright"===s.type)){if("sizeddelim"===s.type)for(const e in ce)if(s.delim===ce[e])return t.index+=1,t;if(("mord"===s.type||"textord"===s.type||"mop"===s.type)&&Ti(s))return t;const a=t.ast;t.ast={},(t=e(t,i))&&t.ast&&a?Li(a.fn)&&void 0===a.arg||Array.isArray(a.arg)&&0===a.arg.length?"list2"===t.ast.fn||"list"===t.ast.fn?t.ast=Wi(a.fn,t.ast.arg):t.ast=Wi("multiply",a,t.ast):"multiply"===t.ast.fn?t.ast.arg.unshift(a):0===Ri(a)&&0!==Bi(a)&&1===Ri(t.ast)&&0===Bi(t.ast)?t.ast=ji({im:Bi(a).toString()}):t.ast=Wi("multiply",a,t.ast):t.ast=a}return t}(e,t).ast,s=!1;const a=e.minPrec;for(;!s;){const r=e.atoms[e.index],o=Ji(e);let n,l;if(s=!r||"text"===r.mode||!o&&!Ti(r),s||([n,l]=o?[zi(o),Si(o)]:Ci(r),s=n<a),!s){const a=o||Ai(Pi(r));if(e.minPrec="left"===l?n+1:n,e.index+=1,"|"===a)if(void 0!==r.subscript||e.atoms[e.index]&&void 0!==e.atoms[e.index].subscript&&"msubsup"===e.atoms[e.index].type){e.ast={};const s=Xi(e,t).ast.sub;if(i=Wi("bind",i),s&&"equal"===s.fn&&i.arg)i.arg.push(Mi(s,0)),i.arg.push(Mi(s,1));else if(s&&i.arg&&("list"===s.fn||"list2"===s.fn)){let e={sym:"x"};for(let t=0;t<s.arg.length;t++)"equal"===s.arg[t].fn?(e=Mi(s.arg[t],0),i.arg.push(e),i.arg.push(Mi(s.arg[t],1))):(i.arg.push(e),i.arg.push(s.arg[t]))}else s&&(i.arg.push({sym:"x"}),i.arg.push(s))}else s=!0;else{const s=Qi(e,t).ast;let r=$i[a];r&&i&&i.fn!==r&&(i=Wi(r,i)),"-"===a?i&&i.arg&&"add"===i.fn?void 0!==s&&i.arg.push(Ui(s)):i=i&&"subtract"===i.fn?Wi("add",Mi(i,0),Ui(Mi(i,1)),Ui(s)):!Oi(i)||Ii(i)||!Oi(s)||Ii(s)||void 0!==s.num.re&&"0"!==s.num.re||void 0===s.num.im?Wi("subtract",i,s):{num:{re:i.num,im:(-parseFloat(s.num.im)).toString()}}:(r=qi[a],"add"===r&&i&&"subtract"===i.fn?i=Wi("add",Mi(i,0),Ui(Mi(i,1)),s):r&&i&&i.fn===r&&!Ii(i)?void 0!==s&&(s.fn===r&&!Ii(s)&&s.arg?i.arg=[...i.arg,...s.arg]:i.arg&&i.arg.push(s)):r&&s&&s.arg&&s.fn===r?(s.arg.unshift(i),i=s):i="multiply"===r&&Oi(i)&&!Ii(i)&&s&&10===Ei(s)&&Oi(s.sup)?ji(Ei(i)*Math.pow(10,Ei(s.sup))):"add"===r&&Oi(i)&&!Ii(i)&&s&&0!==Ri(s)&&!Ii(s)?{num:{re:i.num,im:s.num.im}}:Wi(r||ki[a]||a,i,s))}}}return e.ast=i,e}function es(e){if(!e)return[];let t;if(Array.isArray(e)){t=[];for(const i of e){const e=es(i);t=t.concat(e)}}else{if("spacing"===e.type)return[];"first"===e.type||"box"===e.type?t=es(e.body):(e.body&&Array.isArray(e.body)&&(e.body=es(e.body)),e.superscript&&Array.isArray(e.superscript)&&(e.superscript=es(e.superscript)),e.subscript&&Array.isArray(e.subscript)&&(e.subscript=es(e.subscript)),e.index&&Array.isArray(e.index)&&(e.index=es(e.index)),e.denom&&Array.isArray(e.denom)&&(e.denom=es(e.denom)),e.numer&&Array.isArray(e.numer)&&(e.numer=es(e.numer)),e.array&&Array.isArray(e.array)&&(e.array=e.array.map(e=>e.map(e=>es(e)))),t=[e])}return t}function ts(e,t){return function(e,t){e.index=e.index||0,e.ast=void 0;const i=[];for(;e.atoms[e.index];)if("text"===e.atoms[e.index].mode){let t="";for(;e.atoms[e.index]&&"text"===e.atoms[e.index].mode;)t+=e.atoms[e.index].body,e.index+=1;i.push(t)}else{const s=Qi(e,t).ast;if(!s)return;i.push(s)}return i.length>1?Wi("text",...i):i[0]||void 0}({atoms:es(e)},t)}function is(e){const t=Array.prototype.slice.call(arguments);t.shift(),e=e||".. ";let i="";if(t.length>0){"."!==e[0]&&(i+=e[0]);let s="";for(const a of t)i+=s+a,s=e[2];"."!==e[1]&&(i+=e[1])}return i}function ss(e,t){const i=e.length;e=e.substr(0,t.precision-2);for(let i=0;i<e.length-16;i++){const s=e.substr(0,i);for(let a=0;a<17;a++){const r=e.substr(i,a+1),o=Math.floor((e.length-s.length)/r.length);if(o>1&&(s+r.repeat(o+1)).startsWith(e))return"0"===r?s.replace(/(\d{3})/g,"$1"+t.groupSeparator):s.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.beginRepeatingDigits+r.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.endRepeatingDigits}}return i!==e.length&&(e+="\\ldots"),e.replace(/(\d{3})/g,"$1"+t.groupSeparator)}function as(e){return parseFloat(parseFloat(e).toPrecision(15))}function rs(e,t){let i="";if("number"==typeof t.precision){if("number"!=typeof e){let i="",s="";if("-"===e[0]?(i="-",e=e.substr(1)):"+"===e[0]&&(e=e.substr(1)),e.indexOf(".")>=0){const a=e.match(/(\d*).(\d*)([e|E]([-+]?[0-9]*))?/),r=a[1],o=a[2].substring(0,Math.min(t.precision-r.length,a[2].length));if(s=a[4]||"","0"===r){let s=0;for(;"0"===o[s]&&s<o.length;)s+=1;let a="";if(s<=4)a="0"+t.decimalMarker,a+=o.substr(0,s),a+=ss(e.substr(a.length),t);else if(s+1>=t.precision)a="0",i="";else{a=e[s];const i=ss(e.substr(s+1),t);i&&(a+=t.decimalMarker+i)}"0"!==a&&(e.length-1>t.precision&&!a.endsWith("}")&&!a.endsWith("\\ldots")&&(a+="\\ldots"),s>4&&(a+=t.exponentProduct,t.exponentMarker?a+=t.exponentMarker+(1-s).toString():a+="10^{"+(1-s).toString()+"}")),e=a}else{e=r.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);const i=ss(o,t);i&&(e+=t.decimalMarker+i)}}else if(e.length>t.precision){const i=e.length;let s=e[0];const a=ss(e.substr(2),t);a&&(s+=t.decimalMarker+a,"}"!==s[s.length-1]&&(s+="\\ldots")),"1"!==s?s+=t.exponentProduct:s="",t.exponentMarker?s+=t.exponentMarker+(i-2).toString():s+="10^{"+(i-2).toString()+"}",e=s}else e=e.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);return s&&(s=t.exponentMarker?t.exponentMarker+s:t.exponentProduct+" 10^{"+s+"}"),i+e+s}e=as(e)}if("engineering"===t.scientificNotation)if(0===e)i="0";else{const s=Math.abs(e);let a=Math.round(Math.log10(s));a-=a%3,s<1e3&&(a=0);let r=s/Math.pow(10,a);const o=r.toString().match(/^(.*)\.(.*)$/);o&&o[1]&&o[2]&&(r=o[1]+t.decimalMarker+o[2]),t.groupSeparator&&(r=ss(r.toExponential(),t)),a=0===a?"":t.exponentMarker?t.exponentMarker+a:t.exponentProduct+" 10^{"+a+"}",i=(e<0?"-":"")+r+a}else{const s="string"==typeof e?e:e.toString();let a,r,o,n=s.match(/^(.*)[e|E]([-+]?[0-9]*)$/i);a=s,o="",n&&n[1]&&n[2]&&(a=n[1],r=t.exponentMarker?t.exponentMarker+n[2]:t.exponentProduct+" 10^{"+n[2]+"}"),n=a.match(/^(.*)\.(.*)$/),n&&n[1]&&n[2]&&(a=n[1],o=n[2]),t.groupSeparator&&(a=a.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator),o=ss(o,t)),o&&(o=t.decimalMarker+o),i=a+o+(r||"")}return i}Xe.prototype.toAST=function(e){let t,i,s,a,r={},n="",l={bb:"double-struck",cal:"script",scr:"script",frak:"fraktur",cmrss:"sans-serif",cmrtt:"monospace"}[this.baseFontFamily||this.fontFamily],c="";"b"===this.fontSeries&&(c+="bold"),"it"===this.fontShape&&(c+="italic");const h=this.latex?this.latex.trim():null;switch(this.type){case"root":case"group":this.latex&&this.latex.startsWith("\\nicefrac")?(t=this.latex.slice(9).match(/({.*}|[^}])({.*}|[^}])/),t?(i=1===t[1].length?t[1]:t[1].substr(1,t[1].length-2),i=at.parseTokens(o(i),"math",null,e.macros),s=1===t[2].length?t[2]:t[2].substr(1,t[2].length-2),s=at.parseTokens(o(s),"math",null,e.macros),r=Wi("divide",ts(i,e),ts(s,e))):r.fn="divide"):r.group=ts(this.body,e);break;case"genfrac":r=Wi("divide",ts(this.numer,e),this.denom&&this.denom[0]&&"placeholder"===this.denom[0].type?ji(1):ts(this.denom,e));break;case"surd":r=this.index?Wi("pow",ts(this.body,e),Wi("divide",ji(1),ts(this.index,e))):Wi("sqrt",ts(this.body,e));break;case"rule":break;case"line":case"overlap":case"accent":case"overunder":break;case"mord":case"textord":case"mbin":t=h?h.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):void 0,t?n=String.fromCodePoint(parseInt(t[1],16)):(n=Ai(Pi(this)),n.length>0&&"\\"===n.charAt(0)&&"string"==typeof this.body&&(n=this.body)),a=function(e,t,i){if(!/[A-Za-z0-9]/.test(e))return e;if(!t&&!i)return e;const s=e.codePointAt(0);for(let e=0;e<fe.length;e++)if((!t||fe[e].variant===t)&&(!i||fe[e].style===i)&&s>=fe[e].offset&&s<fe[e].offset+fe[e].len){const t=fe[e].start+s-fe[e].offset;return String.fromCodePoint(ue[t]||t)}return e}(n,l,c).replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"),a!==n?(r={sym:a},l="normal"):r={sym:n};break;case"minner":case"mop":break;case"box":r=ts(this.body,e);break;case"enclose":break;case"array":if("cardinality"===this.env.name)r=Wi("card",ts(this.array,e));else if(/array|matrix|pmatrix|bmatrix/.test(this.env.name)){r={fn:"array",args:[]};for(const t of this.array)r.args.push(t.map(t=>ts(t,e)))}else if("cases"===this.env.name){r={fn:"cases",args:[]};for(const t of this.array)if(t[0]){const i=[];i.push(ts(t[0],e));let s=ts(t[1],e);s&&"text"===s.fn&&s.arg&&/^(if|when|for)$/i.test(s.arg[0].trim())&&(s=s.arg.filter(e=>"string"!=typeof e)),i.push(s||{}),r.args.push(i)}}break;case"spacing":case"space":case"mathstyle":break;default:r=void 0}return r&&l&&"normal"!==l&&(r.variant=l),r&&"string"==typeof this.cssClass&&(r.class=this.cssClass),r&&"string"==typeof this.cssId&&(r.id=this.cssId),r},Xe.toAST=function(e,t){return ts(e,t)};const os={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'<phoneme alphabet="ipa" ph="e">a</phoneme>',A:'capital <phoneme alphabet="ipa" ph="e">A</phoneme>',"+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"};function ns(e){let t=0;if(e&&Array.isArray(e))for(const i of e)"first"!==i.type&&(t+=1);return 1===t}function ls(e){let t="";if(e&&Array.isArray(e))for(const i of e)"first"!==i.type&&"string"==typeof i.body&&(t+=i.body);return t}function cs(e,t,i,s){t=t.split(" ");for(const a of t){const t=a.match(/(.*):(.*)/);if(t){const a=s||{};"active"===t[2]?a.passive=!1:a[t[2]]=!0,e.addEventListener(t[1],i,a)}else e.addEventListener(a,i,s)}}function hs(e,t,i,s){t=t.split(" ");for(const a of t){const t=a.match(/(.*):(.*)/);if(t){const a=s||{};"active"===t[2]?a.passive=!1:a[t[2]]=!0,e.removeEventListener(t[1],i,a)}else e.removeEventListener(a,i,s)}}function ds(e,t){let i=document.getElementById(e);return i?i.setAttribute("data-refcount",parseInt(i.getAttribute("data-refcount"))+1):(i=document.createElement("div"),i.setAttribute("aria-hidden","true"),i.setAttribute("data-refcount","1"),i.className=t,i.id=e,document.body.appendChild(i)),i}function ms(e){if(!e)return null;const t=parseInt(e.getAttribute("data-refcount"));return t&&1!==t?e.setAttribute("data-refcount",t-1):e.remove(),e}function ps(e){return e.element&&e.element.mathfield===e}Xe.toSpeakableFragment=function(e,t){function i(e){return"<emphasis>"+e+"</emphasis>"}if(!e)return"";let s="";if(e.id&&"math"===t.speechMode&&(s+='<mark name="'+e.id.toString()+'"/>'),Array.isArray(e)){let a=!1,r=!1;for(let o=0;o<e.length;o++)"text"!==e[o].mode&&(r=!1),o<e.length-2&&"mopen"===e[o].type&&"mclose"===e[o+2].type&&"mord"===e[o+1].type?(s+=" of ",s+=i(Xe.toSpeakableFragment(e[o+1],t)),o+=2):"text"===e[o].mode?r?s+=e[o].body?e[o].body:" ":(r=!0,s+=Xe.toSpeakableFragment(e[o],t)):"mord"===e[o].type&&/[0123456789,.]/.test(e[o].body)?a?s+=e[o].body:(a=!0,s+=Xe.toSpeakableFragment(e[o],t)):(a=!1,s+=Xe.toSpeakableFragment(e[o],t))}else if("text"===e.mode)s+=e.body;else{let a="",r="",o="",n=!1;switch(e.type){case"group":case"root":s+=Xe.toSpeakableFragment(e.body,t);break;case"genfrac":if(a=Xe.toSpeakableFragment(e.numer,t),r=Xe.toSpeakableFragment(e.denom,t),ns(e.numer)&&ns(e.denom)){const t={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[ls(e.numer)+"/"+ls(e.denom)];t?s=t:s+=a+" over "+r}else s+=' the fraction <break time="150ms"/>'+a+', over <break time="150ms"/>'+r+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(o=Xe.toSpeakableFragment(e.body,t),e.index){let i=Xe.toSpeakableFragment(e.index,t);i=i.trim();const a=i.replace(/<mark([^/]*)\/>/g,"");s+="3"===a?' the cube root of <break time="200ms"/>'+o+'. <break time="200ms"/> End cube root':"n"===a?' the nth root of <break time="200ms"/>'+o+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+i+', of <break time="200ms"/>'+o+'. <break time="200ms"/> End root'}else ns(e.body)?s+=" the square root of "+o+" , ":s+=' the square root of <break time="200ms"/>'+o+'. <break time="200ms"/> End square root';break;case"accent":break;case"leftright":s+=os[e.leftDelim]||e.leftDelim,s+=Xe.toSpeakableFragment(e.body,t),s+=os[e.rightDelim]||e.rightDelim;break;case"line":case"rule":case"overunder":case"overlap":break;case"placeholder":s+="placeholder "+e.body;break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":{const i=e.latex?e.latex.trim():"";if("\\mathbin"===i||"\\mathrel"===i||"\\mathopen"===i||"\\mathclose"===i||"\\mathpunct"===i||"\\mathord"===i||"\\mathinner"===i){s=Xe.toSpeakableFragment(e.body,t);break}let a=e.body,r=e.latex;if("delim"!==e.type&&"sizeddelim"!==e.type||(a=r=e.delim),"text"===t.speechMode)s+=a;else{if("mbin"===e.type&&(s+='<break time="150ms"/>'),a){const e=os[a]||(r?os[r.trim()]:"");if(e)s+=" "+e;else{s+=(r?function(e){let t=Ut.NOTES[e];return t||"\\"!==e.charAt(0)||(t=" "+e.replace("\\","")+" "),Array.isArray(t)&&(t=t[0]),t}(r.trim()):"")||function(e){let i="";return t.textToSpeechMarkup?/[a-z]/.test(e)?i+=' <say-as interpret-as="character">'+e+"</say-as>":/[A-Z]/.test(e)?i+="capital "+e.toLowerCase():i+=e:/[a-z]/.test(e)?i+=" '"+e.toUpperCase()+"'":/[A-Z]/.test(e)?i+=" 'capital "+e.toUpperCase()+"'":i+=e,i}(a)}}else s+=Xe.toSpeakableFragment(e.body,t);"mbin"===e.type&&(s+='<break time="150ms"/>')}break}case"mop":if(""!==e.body){const a=e.latex?e.latex.trim():"";if("\\sum"===a)if(e.superscript&&e.subscript){let i=Xe.toSpeakableFragment(e.superscript,t);i=i.trim();let a=Xe.toSpeakableFragment(e.subscript,t);a=a.trim(),s+=' the summation from <break time="200ms"/>'+a+'<break time="200ms"/> to  <break time="200ms"/>'+i+'<break time="200ms"/> of <break time="150ms"/>',n=!0}else if(e.subscript){let i=Xe.toSpeakableFragment(e.subscript,t);i=i.trim(),s+=' the summation from <break time="200ms"/>'+i+'<break time="200ms"/> of <break time="150ms"/>',n=!0}else s+=" the summation of";else if("\\prod"===a)if(e.superscript&&e.subscript){let i=Xe.toSpeakableFragment(e.superscript,t);i=i.trim();let a=Xe.toSpeakableFragment(e.subscript,t);a=a.trim(),s+=' the product from <break time="200ms"/>'+a+'<break time="200ms"/> to <break time="200ms"/>'+i+'<break time="200ms"/> of <break time="150ms"/>',n=!0}else if(e.subscript){let i=Xe.toSpeakableFragment(e.subscript,t);i=i.trim(),s+=' the product from <break time="200ms"/>'+i+'<break time="200ms"/> of <break time="150ms"/>',n=!0}else s+=" the product  of ";else if("\\int"===a)if(e.superscript&&e.subscript){let a=Xe.toSpeakableFragment(e.superscript,t);a=a.trim();let r=Xe.toSpeakableFragment(e.subscript,t);r=r.trim(),s+=' the integral from <break time="200ms"/>'+i(r)+'<break time="200ms"/> to <break time="200ms"/>'+i(a)+' <break time="200ms"/> of ',n=!0}else s+=' the integral of <break time="200ms"/> ';else"string"==typeof e.body?s+=os[e.body]||os[e.latex.trim()]||" "+e.body:e.latex&&e.latex.length>0&&("\\"===e.latex[0]?s+=" "+e.latex.substr(1):s+=" "+e.latex)}break;case"enclose":o=Xe.toSpeakableFragment(e.body,t),ns(e.body)?s+=" crossed out "+o+" , ":s+=" crossed out "+o+". End cross out"}if(!n&&e.superscript){let i=Xe.toSpeakableFragment(e.superscript,t);i=i.trim();const a=i.replace(/<[^>]*>/g,"");if(ns(e.superscript)){if("math"===t.speechMode){const t=function(e){if(e&&Array.isArray(e))for(const t of e)if("first"!==t.type&&t.id)return t.id.toString();return""}(e.superscript);t&&(s+='<mark name="'+t+'"/>')}""===a?s+=" prime ":"2"===a?s+=" squared ":"3"===a?s+=" cubed ":isNaN(parseInt(a))?s+=" to the "+i+"; ":s+=' to the <say-as interpret-as="ordinal">'+a+"</say-as> power; "}else isNaN(parseInt(a))?s+=" raised to the "+i+"; ":s+=' raised to the <say-as interpret-as="ordinal">'+a+"</say-as> power; "}if(!n&&e.subscript){let i=Xe.toSpeakableFragment(e.subscript,t);i=i.trim(),ns(e.subscript)?s+=" sub "+i:s+=" subscript "+i+". End subscript. "}}return s},Xe.toSpeakableText=function(e,t){const i=t?JSON.parse(JSON.stringify(t)):{textToSpeechMarkup:"",textToSpeechRules:"mathlive"};if(i.speechMode="math",window.sre&&"sre"===i.textToSpeechRules){i.generateID=!0;const t=Xe.toMathML(e,i);return t?(i.textToSpeechMarkup&&(i.textToSpeechRulesOptions=i.textToSpeechRulesOptions||{},i.textToSpeechRulesOptions.markup=i.textToSpeechMarkup,"ssml"===i.textToSpeechRulesOptions.markup&&(i.textToSpeechRulesOptions.markup="ssml_step"),i.textToSpeechRulesOptions.rate=i.speechEngineRate),i.textToSpeechRulesOptions&&window.sre.System.getInstance().setupEngine(i.textToSpeechRulesOptions),window.sre.System.getInstance().toSpeech(t)):""}let s=Xe.toSpeakableFragment(e,i);if("ssml"===i.textToSpeechMarkup){let e="";i.speechEngineRate&&(e='<prosody rate="'+i.speechEngineRate+'">'),s='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+e+"<p><s>"+s+"</s></p>"+(e?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else s="mac"===i.textToSpeechMarkup&&"mac"===function(e){let t="other";return navigator&&navigator.platform&&navigator.userAgent&&(/^(mac)/i.test(navigator.platform)?t="mac":/^(win)/i.test(navigator.platform)?t="win":/(android)/i.test(navigator.userAgent)?t="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?t="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(t="chromeos")),t===e?e:"!mac"}("mac")?s.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="([0-9]*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):s.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return s};class us{constructor(e,t){this.$setConfig(t||{}),this.element=e,e.mathfield=this,this.originalContent=e.innerHTML;let i=this.element.textContent;i&&(i=i.trim());let s="";this.config.substituteTextArea?"string"==typeof this.config.substituteTextArea?s+=this.config.substituteTextArea:s+="<span></span>":/android|ipad|ipod|iphone/i.test(navigator.userAgent)?s+="<span class='ML__textarea'>\n                <span class='ML__textarea__textarea'\n                    tabindex=\"0\" role=\"textbox\"\n                    style='display:inline-block;height:1px;width:1px' >\n                </span>\n            </span>":s+='<span class="ML__textarea"><textarea class="ML__textarea__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" aria-hidden="true" tabindex="0"></textarea></span>',s+='<span class="ML__fieldcontainer"><span class="ML__fieldcontainer__field"></span>',this.config.virtualKeyboardMode||(this.config.virtualKeyboardMode=window.matchMedia&&window.matchMedia("(any-pointer: coarse)").matches?"onfocus":"off"),"manual"===this.config.virtualKeyboardMode?(s+=`<button class="ML__virtual-keyboard-toggle" data-tooltip="${Vt("tooltip.toggle virtual keyboard")}">`,this.config.virtualKeyboardToggleGlyph?s+=this.config.virtualKeyboardToggleGlyph:s+='<span style="width: 21px; margin-top: 4px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>',s+="</button>"):s+="<span ></span>",s+="</span>",s+='\n        <div class="sr-only">\n            <span aria-live="assertive" aria-atomic="true"></span>\n            <span></span>\n        </div>\n    ',this.element.innerHTML=s;let a=0;"function"==typeof this.config.substituteTextArea?this.textarea=this.config.substituteTextArea():this.textarea=this.element.children[a++].firstElementChild,this.field=this.element.children[a].children[0],this.field.addEventListener("wheel",e=>{e.preventDefault(),e.stopPropagation();let t=void 0===e.deltaX?e.detail:-e.deltaX;isFinite(t)||(t=e.wheelDelta/10),this.field.scroll({top:0,left:this.field.scrollLeft-5*t})},{passive:!1}),this.virtualKeyboardToggleDOMNode=this.element.children[a++].children[1],this._attachButtonHandlers(this.virtualKeyboardToggleDOMNode,{default:"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.ariaLiveText=this.element.children[a].children[0],this.accessibleNode=this.element.children[a++].children[1],this.popover=ds("mathlive-popover-panel","ML__popover"),this.keystrokeCaption=ds("mathlive-keystroke-caption-panel","ML__keystroke-caption"),this.keystrokeCaptionVisible=!1,this.virtualKeyboardVisible=!1,this.keystrokeBuffer="",this.keystrokeBufferStates=[],this.keystrokeBufferResetTimer=null,this.suggestionIndex=0,this.mode=t.defaultMode||"math",this.smartModeSuppressed=!1,this.style={},this.blurred=!0,cs(this.element,"focus",this),cs(this.element,"blur",this),cs(this.textarea,"cut",this),cs(this.textarea,"copy",this),cs(this.textarea,"paste",this),It.delegateKeyboardEvents(this.textarea,{container:this.element,allowDeadKey:()=>"text"===this.mode,typedText:this._onTypedText.bind(this),paste:this._onPaste.bind(this),keystroke:this._onKeystroke.bind(this),focus:this._onFocus.bind(this),blur:this._onBlur.bind(this)}),window.PointerEvent?cs(this.field,"pointerdown",this):cs(this.field,"touchstart:active mousedown",this),cs(window,"resize",this);const r={...t};r.onSelectionDidChange=us.prototype._onSelectionDidChange.bind(this),r.onContentDidChange=us.prototype._onContentDidChange.bind(this),r.onAnnounce=this.config.onAnnounce,r.macros=this.config.macros,r.removeExtraneousParentheses=this.config.removeExtraneousParentheses,this.mathlist=new Pt.EditableMathlist(r,this),this.undoManager=new class{constructor(e){this.mathlist=e,this.maximumDepth=1e3,this.record=!1,this.canCoalesce=!1,this.reset()}reset(){this.stack=[],this.index=-1}startRecording(){this.record=!0}canUndo(){return this.index>0}canRedo(){return this.index!==this.stack.length-1}undo(e){this.canUndo()&&(e&&"function"==typeof e.onUndoStateWillChange&&e.onUndoStateWillChange(this.mathlist.target,"undo"),this.restore(this.stack[this.index-1],e),this.index-=1,e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.mathlist.target,"undo"),this.canCoalesce=!1)}redo(e){this.canRedo()&&(e&&"function"===e.onUndoStateWillChange&&e.onUndoStateWillChange(this.mathlist.target,"redo"),this.index+=1,this.restore(this.stack[this.index],e),e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.mathlist.target,"redo"),this.canCoalesce=!1)}pop(){this.canUndo()&&(this.index-=1,this.stack.pop())}snapshot(e){this.record&&(e&&"function"===e.onUndoStateWillChange&&e.onUndoStateWillChange(this.mathlist.target,"snapshot"),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push({latex:this.mathlist.root.toLatex(),selection:this.mathlist.toString()}),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.mathlist.target,"snapshot"),this.canCoalesce=!1)}snapshotAndCoalesce(e){this.canCoalesce&&this.pop(),this.snapshot(e),this.canCoalesce=!0}save(){return{latex:this.mathlist.root.toLatex(),selection:this.mathlist.toString()}}restore(e,t){const i=this.mathlist.suppressChangeNotifications;void 0!==t.suppressChangeNotifications&&(this.mathlist.suppressChangeNotifications=t.suppressChangeNotifications),this.mathlist.insert(e?e.latex:"",{mode:"math",insertionMode:"replaceAll",selectionMode:"after",format:"latex",...t}),this.mathlist.setPath(e?e.selection:[{relation:"body",offset:0}]),this.mathlist.suppressChangeNotifications=i}}(this.mathlist),i.length>0&&this.$latex(i),this.undoManager.startRecording(),this.undoManager.snapshot(this.config)}handleEvent(e){switch(e.type){case"focus":this._onFocus(e);break;case"blur":this._onBlur(e);break;case"touchstart":case"mousedown":case"pointerdown":this._onPointerDown(e);break;case"resize":this._resizeTimer&&window.cancelAnimationFrame(this._resizeTimer),this._resizeTimer=window.requestAnimationFrame(()=>ps(this)&&this._onResize());break;case"cut":this._onCut(e);break;case"copy":this._onCopy(e);break;case"paste":this._onPaste(e)}}$revertToOriginalContent(){this.element.innerHTML=this.originalContent,this.element.mathfield=null,delete this.accessibleNode,delete this.ariaLiveText,delete this.field,hs(this.textarea,"cut",this),hs(this.textarea,"copy",this),hs(this.textarea,"paste",this),this.textarea.remove(),delete this.textarea,this.virtualKeyboardToggleDOMNode.remove(),delete this.virtualKeyboardToggleDOMNode,ms(this.popover),ms(this.keystrokeCaption),ms(this.virtualKeyboard),ms(document.getElementById("mathlive-alternate-keys-panel")),hs(this.element,"pointerdown",this),hs(this.element,"touchstart:active mousedown",this),hs(this.element,"focus",this),hs(this.element,"blur",this),hs(window,"resize",this),delete this.element}_resetKeystrokeBuffer(){this.keystrokeBuffer="",this.keystrokeBufferStates=[],clearTimeout(this.keystrokeBufferResetTimer)}_getCaretPosition(){const e=function e(t){if(t.classList.contains("ML__caret")||t.classList.contains("ML__text-caret")||t.classList.contains("ML__command-caret"))return t;let i;return Array.from(t.children).forEach((function(t){i=i||e(t)})),i}(this.field);if(e){const t=e.getBoundingClientRect();return{x:t.right,y:t.bottom,height:t.height}}return null}_getSelectionBounds(){const e=this.field.querySelectorAll(".ML__selected");if(e&&e.length>0){const t={top:1/0,bottom:-1/0,left:1/0,right:-1/0};e.forEach(e=>{const i=e.getBoundingClientRect();i.left<t.left&&(t.left=i.left),i.right>t.right&&(t.right=i.right),i.bottom>t.bottom&&(t.bottom=i.bottom),i.top<t.top&&(t.top=i.top)});const i=this.field.getBoundingClientRect(),s=t.right-t.left,a=t.bottom-t.top;return t.left=Math.ceil(t.left-i.left+this.field.scrollLeft),t.right=t.left+s,t.top=Math.ceil(t.top-i.top),t.bottom=t.top+a,t}return null}_pathFromPoint(e,t,i){let s;(i=i||{}).bias=i.bias||0;const a=function e(t,i,s){let a={element:null,distance:Number.POSITIVE_INFINITY},r=!0;if(t.getAttribute("data-atom-id")){a.element=t;const e=t.getBoundingClientRect(),o=i-(e.left+e.right)/2,n=s-(e.top+e.bottom)/2;a.distance=o*o+n*n,r=i>=e.left&&i<=e.right}return r&&t.children&&Array.from(t.children).forEach((function(t){const r=e(t,i,s);r.element&&r.distance<=a.distance&&(a=r)})),a}(this.field,e,t).element,r=a?a.getAttribute("data-atom-id"):null;if(r){const t=this.mathlist.filter((function(e,t){return t.captureSelection?t.filter(e=>e.id===r).length>0:t.id===r}));if(t&&t.length>0)if(s=ht.pathFromString(t[0]).path,0===i.bias){const t=a.getBoundingClientRect();e<t.left+t.width/2&&!a.classList.contains("ML__placeholder")&&(s[s.length-1].offset=Math.max(0,s[s.length-1].offset-1))}else i.bias<0&&(s[s.length-1].offset=Math.min(this.mathlist.siblings().length-1,Math.max(0,s[s.length-1].offset+i.bias)))}return s}_onPointerDown(e){const t=this;let i,s=!1,a=!1,r=!1;if(1!==e.buttons)return;function o(e){window.PointerEvent?(hs(t.field,"pointermove",h),hs(t.field,"pointerend pointerleave pointercancel",o),t.field.releasePointerCapture(e.pointerId)):(hs(t.field,"touchmove",h),hs(t.field,"touchend touchleave",o),hs(window,"mousemove",h),hs(window,"mouseup blur",o)),s=!1,clearInterval(c),t.element.querySelectorAll(".ML__scroller").forEach(e=>e.parentNode.removeChild(e)),e.preventDefault(),e.stopPropagation()}let n=!1,l=!1;const c=setInterval(()=>{n?t.field.scroll({top:0,left:t.field.scrollLeft-16}):l&&t.field.scroll({top:0,left:t.field.scrollLeft+16})},32);function h(e){const s=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY,o="touch"===e.pointerType?20:5;if(Date.now()<p+500&&Math.abs(d-s)<o&&Math.abs(m-r)<o)return e.preventDefault(),void e.stopPropagation();const c=t.field.getBoundingClientRect();l=s>c.right,n=s<c.left;let h=i;window.PointerEvent?e.isPrimary||(h=t._pathFromPoint(e.clientX,e.clientY,{bias:0})):e.touches&&2===e.touches.length&&(h=t._pathFromPoint(e.touches[1].clientX,e.touches[1].clientY,{bias:0}));const u=t._pathFromPoint(s,r,{bias:s<=d?s===d?0:-1:1});u&&t.mathlist.setRange(h,u,{extendToWordBoundary:a})&&t._requestUpdate(),e.preventDefault(),e.stopPropagation()}const d=e.touches?e.touches[0].clientX:e.clientX,m=e.touches?e.touches[0].clientY:e.clientY,p=Date.now();fs&&Math.abs(fs.x-d)<5&&Math.abs(fs.y-m)<5&&Date.now()<fs.time+500?(gs+=1,fs.time=p):(fs={x:d,y:m,time:p},gs=1);const u=this.field.getBoundingClientRect();if(d>=u.left&&d<=u.right&&m>=u.top&&m<=u.bottom){this.$hasFocus()||(r=!0,this.textarea.focus&&this.textarea.focus()),this._resetKeystrokeBuffer(),this.smartModeSuppressed=!1;const n=this.field.querySelector(".ML__mathlive").getBoundingClientRect();if(i=d>n.right?[{relation:"body",offset:this.mathlist.root.body.length-1}]:this._pathFromPoint(d,m,{bias:0}),i){let n=document.createElement("div");n.className="ML__scroller",this.element.appendChild(n),n.style.left=u.left-200+"px",n=document.createElement("div"),n.className="ML__scroller",this.element.appendChild(n),n.style.left=u.right+"px",e.shiftKey?(this.mathlist.setRange(this.mathlist.path,i),i=ht.clone(this.mathlist.path),i[i.length-1].offset-=1):this.mathlist.setPath(i,0),r=!0,this.style={},3===e.detail||gs>2?(o(e),3!==e.detail&&3!==gs||this.mathlist.selectAll_()):s||(s=!0,window.PointerEvent?(cs(t.field,"pointermove",h),cs(t.field,"pointerend pointercancel pointerup",o),t.field.setPointerCapture(e.pointerId)):(cs(window,"blur",o),e.touches?(cs(e.target,"touchmove",h),cs(e.target,"touchend",o)):(cs(window,"mousemove",h),cs(window,"mouseup",o))),2!==e.detail&&2!==gs||(a=!0,this.mathlist.selectGroup_()))}}else fs=null;r&&this._requestUpdate(),e.preventDefault()}_onSelectionDidChange(){this.mathlist.commitCommandStringBeforeInsertionPoint();let e="";this.mathlist.forEachSelected(t=>{e+=t.toLatex()}),e?(this.textarea.value=e,this.$hasFocus()&&this.textarea.select&&this.textarea.select()):(this.textarea.value="",this.textarea.setAttribute("aria-label",""));{const e=this.mode;this.mode=this.mathlist.anchorMode()||this.config.defaultMode,this.mode!==e&&"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode),"command"===e&&"command"!==this.mode&&(Ut.hidePopover(this),this.mathlist.removeCommandString())}Ut.updatePopoverPosition(this,{deferred:!0}),"function"==typeof this.config.onSelectionDidChange&&this.config.onSelectionDidChange(this)}_onContentDidChange(){this.undoManager.canRedo()?this.element.classList.add("can-redo"):this.element.classList.remove("can-redo"),this.undoManager.canUndo()?this.element.classList.add("can-undo"):this.element.classList.remove("can-undo"),"function"==typeof this.config.onContentDidChange&&this.config.onContentDidChange(this)}_nextAtomSpeechText(e){function t(e,t){return"body"===t.relation?{enclose:"cross out",leftright:"fence",surd:"square root",root:"math field"}[e.type]:{numer:"numerator",denom:"denominator",index:"index",body:"parent",subscript:"subscript",superscript:"superscript"}[t.relation]}const i=e?e.path:[],s=this.mathlist.path,a=s[s.length-1];let r="";for(;i.length>s.length;)r+="out of "+t(e.parent(),i[i.length-1])+"; ",i.pop();if(!this.mathlist.isCollapsed())return ys(this,"",this.mathlist.getSelectedAtoms());const o=t(this.mathlist.parent(),a);0===a.offset&&(r+=(o?"start of "+o:"unknown")+": ");const n=this.mathlist.sibling(Math.max(1,this.mathlist.extent));return n?r+=ys(this,"",n):0!==a.offset&&(r+=o?"end of "+o:"unknown"),r}_announce(e,t,i){"function"==typeof this.config.onAnnounce&&this.config.onAnnounce(this,e,t,i)}_onFocus(){this.config.readOnly||this.blurred&&(this.blurred=!1,this.textarea.focus&&this.textarea.focus(),"onfocus"===this.config.virtualKeyboardMode&&this.showVirtualKeyboard_(),Ut.updatePopoverPosition(this),this.config.onFocus&&this.config.onFocus(this),this._requestUpdate())}_onBlur(){this.blurred||(this.blurred=!0,this.ariaLiveText.textContent="","onfocus"===this.config.virtualKeyboardMode&&this.hideVirtualKeyboard_(),this.complete_({discard:!0}),this._requestUpdate(),this.config.onBlur&&this.config.onBlur(this))}_onResize(){this.element.classList.remove("ML__isNarrowWidth","ML__isWideWidth","ML__isExtendedWidth"),window.innerWidth>=1024?this.element.classList.add("ML__isExtendedWidth"):window.innerWidth>=768?this.element.classList.add("ML__isWideWidth"):this.element.classList.add("ML__isNarrowWidth"),Ut.updatePopoverPosition(this)}toggleKeystrokeCaption_(){this.keystrokeCaptionVisible=!this.keystrokeCaptionVisible,this.keystrokeCaption.innerHTML="",this.keystrokeCaptionVisible||(this.keystrokeCaption.style.visibility="hidden")}_showKeystroke(e){const t=this.keystrokeCaption;if(t&&this.keystrokeCaptionVisible){const i=this.element.getBoundingClientRect();t.style.left=i.left+"px",t.style.top=i.top-64+"px",t.innerHTML="<span>"+(bt.stringify(e)||e)+"</span>"+t.innerHTML,t.style.visibility="visible",setTimeout((function(){t.childNodes.length>0&&t.removeChild(t.childNodes[t.childNodes.length-1]),0===t.childNodes.length&&(t.style.visibility="hidden")}),3e3)}}$perform(e){if(!e)return!1;let t,i=!1,s=[],a=!1;if(Array.isArray(e)?(t=e[0],s=e.slice(1)):t=e,t=t.replace(/-\w/g,e=>e[1].toUpperCase()),t+="_","function"==typeof this.mathlist[t]){if(/^(delete|transpose|add)/.test(t)&&this._resetKeystrokeBuffer(),/^(delete|transpose|add)/.test(t)&&"command"!==this.mode&&(this.undoManager.pop(),this.undoManager.snapshot(this.config)),this.mathlist[t](...s),/^(delete|transpose|add)/.test(t)&&"command"!==this.mode&&this.undoManager.snapshot(this.config),/^(delete)/.test(t)&&"command"===this.mode){const e=xe(this.mathlist.extractCommandStringAroundInsertionPoint());0===e.length?Ut.hidePopover(this):Ut.showPopoverWithLatex(this,e[0].match,e.length>1)}a=!0,i=!0}else"function"==typeof this[t]&&(a=this[t](...s),i=!0);return this.mathlist.isCollapsed()&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(t)||(this._resetKeystrokeBuffer(),this.style={}),a&&this._requestUpdate(),i}performWithFeedback_(e){return this.$focus(),this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(3),"moveToNextPlaceholder"===(e=e.replace(/-\w/g,e=>e[1].toUpperCase()))||"moveToPreviousPlaceholder"===e||"complete"===e?this.returnKeypressSound?(this.returnKeypressSound.load(),this.returnKeypressSound.play().catch(e=>{})):this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play().catch(e=>{})):"deletePreviousChar"!==e&&"deleteNextChar"!==e&&"deletePreviousWord"!==e&&"deleteNextWord"!==e&&"deleteToGroupStart"!==e&&"deleteToGroupEnd"!==e&&"deleteToMathFieldStart"!==e&&"deleteToMathFieldEnd"!==e||!this.deleteKeypressSound?this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play().catch(e=>{})):(this.deleteKeypressSound.load(),this.deleteKeypressSound.play().catch(e=>{})),this.$perform(e)}convertLastAtomsToText_(e,t){"function"==typeof e&&(t=e,e=1/0),void 0===e&&(e=1/0);let i=0,s=!1;for(this.mathlist.contentWillChange();!s;){const a=this.mathlist.sibling(i);s=0===e||!a||"math"!==a.mode||!(/mord|textord|mpunct/.test(a.type)||"mop"===a.type&&/[a-zA-Z]+/.test(a.body))||a.superscript||a.subscript||t&&!t(a),s||(a.applyStyle({mode:"text"}),a.latex=a.body),i-=1,e-=1}this.mathlist.contentDidChange()}convertLastAtomsToMath_(e,t){"function"==typeof e&&(t=e,e=1/0),void 0===e&&(e=1/0),this.mathlist.contentWillChange();let i=0,s=!1;for(;!s;){const a=this.mathlist.sibling(i);s=0===e||!a||"text"!==a.mode||" "===a.body||t&&!t(a),s||a.applyStyle({mode:"math",type:"mord"}),i-=1,e-=1}this.removeIsolatedSpace_(),this.mathlist.contentDidChange()}removeIsolatedSpace_(){let e=0;for(;this.mathlist.sibling(e)&&"math"===this.mathlist.sibling(e).mode;)e-=1;if(this.mathlist.sibling(e)&&"text"===this.mathlist.sibling(e).mode&&" "===this.mathlist.sibling(e).body&&(!this.mathlist.sibling(e-1)||"math"===this.mathlist.sibling(e-1).mode)){this.mathlist.contentWillChange(),this.mathlist.siblings().splice(e-1,1),this.mathlist.contentDidChange();const t=this.mathlist.suppressChangeNotifications;this.mathlist.suppressChangeNotifications=!0,this.mathlist.setSelection(this.mathlist.anchorOffset()-1),this.mathlist.suppressChangeNotifications=t}}getTextBeforeAnchor_(){let e="",t=0,i=!1;for(;!i;){const s=this.mathlist.sibling(t);i=!(s&&("text"===s.mode&&!s.type||"math"===s.mode&&/mord|textord|mpunct/.test(s.type))),i||(e=s.body+e),t-=1}return e}smartMode_(e,t){if(this.smartModeSuppressed)return!1;if(this.mathlist.endOffset()<this.mathlist.siblings().length-1)return!1;if(!t||t.ctrlKey||t.metaKey)return!1;const i=It.eventToChar(t);if(i.length>1)return!1;if(!this.mathlist.isCollapsed())return!("text"!==this.mode||!/[/_^]/.test(i));const s=this.getTextBeforeAnchor_()+i;if("text"===this.mode){if("Esc"===e||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(s)&&this.convertLastAtomsToMath_(1),!0;const t={")":"(","}":"{","]":"["}[i];if(t&&this.mathlist.parent()&&"leftright"===this.mathlist.parent().type&&this.mathlist.parent().leftDelim===t)return!0;if(/(^|[^a-zA-Z])(a|I)[ ]$/.test(s))return!1;if(/[$]/u.test(i))return!0;if(/(^|[^a-zA-Z'])[a-zA-Z][ ]$/.test(s))return this.convertLastAtomsToMath_(1),!1;if(/[^0-9]\.[^0-9\s]$/.test(s)){this.convertLastAtomsToMath_(1);const e=this.mathlist.sibling(0);return e.body="",e.autoFontFamily="cmr",e.latex="\\cdot",!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(s))return this.convertLastAtomsToMath_(1),!0;if(/\.[0-9]$/.test(s))return this.convertLastAtomsToMath_(1),!0;if(/[(][0-9+\-.]$/.test(s))return this.convertLastAtomsToMath_(1),!0;if(/[(][a-z][,;]$/.test(s))return this.convertLastAtomsToMath_(2),!0;if(/[0-9+\-=><*|]$/.test(i))return this.removeIsolatedSpace_(),!0}else{if("Spacebar"===e)return this.convertLastAtomsToText_(e=>/[a-z][:,;.]$/.test(e.body)),!0;if(/[a-zA-Z]{3,}$/.test(s)&&!/(dxd|abc|xyz|uvw)$/.test(s))return this.convertLastAtomsToText_(e=>/[a-zA-Z:,;.]/.test(e.body)),!0;if(/(^|\W)(if|If)$/i.test(s))return this.convertLastAtomsToText_(1),!0;if(/(\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5){3,}$/u.test(s)&&!/()$/.test(s))return this.convertLastAtomsToText_(e=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5)/u.test(e.body)),!0;if(/\?|\./.test(i))return!0}return!1}_onKeystroke(e,t){if(this._showKeystroke(e),clearTimeout(this.keystrokeBufferResetTimer),this.config.onKeystroke&&!this.config.onKeystroke(this,e,t))return t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!1;let i,s,a,r=!1;if("command"!==this.mode&&(!t||!t.ctrlKey&&!t.metaKey)){const e=It.eventToChar(t);if("Backspace"!==e)if(!e||e.length>1)this._resetKeystrokeBuffer();else{const t=this.keystrokeBuffer+e;let a=0;for(;!i&&a<t.length;){let e;if(this.keystrokeBufferStates[a]){const t=new Pt.EditableMathlist;t.root=Ge("math",at.parseTokens(o(this.keystrokeBufferStates[a].latex),this.config.default,null,this.config.macros)),t.setPath(this.keystrokeBufferStates[a].selection),e=t.siblings()}else e=this.mathlist.siblings();i=bt.forString(this.mode,e,t.slice(a),this.config),a+=1}s=a-1,this.keystrokeBuffer+=e,this.keystrokeBufferStates.push(this.undoManager.save()),bt.startsWithString(t,this.config).length<=1?r=!0:this.config.inlineShortcutTimeout&&(this.keystrokeBufferResetTimer=setTimeout(()=>{this._resetKeystrokeBuffer()},this.config.inlineShortcutTimeout))}}if(this.config.smartMode){const s=this.mode;i?this.mode="math":this.smartMode_(e,t)&&(this.mode={math:"text",text:"math"}[this.mode],a=""),this.mode!==s&&"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode)}if(i||a||(a=bt.selectorForKeystroke(this.mode,e)),!i&&!a)return!0;if(this.config.readOnly&&"insert"===a[0])return!0;this.mathlist.decorateCommandStringAroundInsertionPoint(!1);const n=this.mathlist.parent();if("moveAfterParent"===a&&n&&"leftright"===n.type&&this.mathlist.endOffset()===this.mathlist.siblings().length-1&&this.config.smartFence&&this.mathlist._insertSmartFence(".")&&(a="",this._requestUpdate()),"math"===this.mode&&"Spacebar"===e&&!i){const e=this.mathlist.sibling(1),t=this.mathlist.sibling(-1);(e&&"text"===e.mode||t&&"text"===t.mode)&&this.mathlist.insert(" ",{mode:"text"})}if((a&&!this.$perform(a)||i)&&i){if(!/^(\\{|\\}|\\[|\\]|\\@|\\#|\\$|\\%|\\^|\\_|\\backslash)$/.test(i)){const e={...this.mathlist.anchorStyle(),...this.style};this.mathlist.insert(It.eventToChar(t),{suppressChangeNotifications:!0,mode:this.mode,style:e});const i=this.mode;this.undoManager.snapshotAndCoalesce(this.config),this.undoManager.restore(this.keystrokeBufferStates[s],{...this.config,suppressChangeNotifications:!0}),this.mode=i}this.mathlist.contentWillChange();const e=this.mathlist.suppressChangeNotifications;this.mathlist.suppressChangeNotifications=!0;const a={...this.mathlist.anchorStyle(),...this.style};this.mathlist.insert(i,{format:"latex",mode:this.mode,style:a,smartFence:!0}),this.removeIsolatedSpace_(),i.endsWith(" ")&&(this.mode="text",this.mathlist.insert(" ",{mode:"text",style:a})),this.mathlist.suppressChangeNotifications=e,this.mathlist.contentDidChange(),this.undoManager.snapshot(this.config),this._requestUpdate(),this._announce("replacement"),r&&this._resetKeystrokeBuffer()}return this.scrollIntoView(),t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!1}_onTypedText(e,t){if(this.config.readOnly)return void this._announce("plonk");if((t=t||{}).focus&&this.$focus(),t.feedback&&(this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(3),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play().catch(e=>{}))),t.commandMode&&"command"!==this.mode&&this.switchMode_("command"),this.mathlist.decorateCommandStringAroundInsertionPoint(!1),t.simulateKeystroke){const t=e.charAt(0),i=It.charToEvent(t);if(!this.$keystroke(It.keyboardEventToString(i),i))return}let i="",a=!1;if(this.pasteInProgress)this.pasteInProgress=!1,this.mathlist.insert(e,{smartFence:this.config.smartFence,mode:"math"});else{const t={...this.mathlist.anchorStyle(),...this.style},r=s(e);for(const e of r)if("command"===this.mode){this.mathlist.removeSuggestion(),this.suggestionIndex=0;const t=this.mathlist.extractCommandStringAroundInsertionPoint(),s=xe(t+e);a=s.length>1,0===s.length?(this.mathlist.insert(e,{mode:"command"}),/^\\[a-zA-Z\\*]+$/.test(t+e)&&this.mathlist.decorateCommandStringAroundInsertionPoint(!0),Ut.hidePopover(this)):(this.mathlist.insert(e,{mode:"command"}),s[0].match!==t+e&&this.mathlist.insertSuggestion(s[0].match,-s[0].match.length+t.length+1),i=s[0].match)}else if("math"===this.mode){const i={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[e];if(i){if("moveToSuperscript"===i){if(this._superscriptDepth()>=this.config.scriptDepth[1])return void this._announce("plonk")}else if("moveToSubscript"===i&&this._subscriptDepth()>=this.config.scriptDepth[0])return void this._announce("plonk");this.$perform(i)}else this.config.smartSuperscript&&"superscript"===this.mathlist.relation()&&/[0-9]/.test(e)&&0===this.mathlist.siblings().filter(e=>"first"!==e.type).length?(this.mathlist.insert(e,{mode:"math",style:t}),this.mathlist.moveAfterParent_()):this.mathlist.insert(e,{mode:"math",style:t,smartFence:this.config.smartFence})}else"text"===this.mode&&this.mathlist.insert(e,{mode:"text",style:t})}"command"!==this.mode&&this.undoManager.snapshotAndCoalesce(this.config),this._requestUpdate(),this.scrollIntoView(),Ut.showPopoverWithLatex(this,i,a)}_hash(){let e=0;const t=this.mathlist.root.toLatex(!1);for(let i=0;i<t.length;i++)e=31*e+t.charCodeAt(i),e|=0;return Math.abs(e)}_requestUpdate(){this.dirty||(this.dirty=!0,requestAnimationFrame(e=>ps(this)&&this._render()))}_render(e){e=e||{},this.dirty=!1,window.mathlive||(window.mathlive={}),this.mathlist.anchor()||(this.mathlist.path=[{relation:"body",offset:0}]),this.mathlist.forEach(e=>{e.caret="",e.isSelected=!1,e.containsCaret=!1});const t=this.$hasFocus();if(this.mathlist.isCollapsed()?this.mathlist.anchor().caret=t&&!this.config.readOnly?this.mode:"":this.mathlist.forEachSelected(e=>{e.isSelected=!0}),t&&!this.config.readOnly){let e=this.mathlist.ancestor(1),t=1,i=!1;for(;e&&!i;)"surd"!==e.type&&"leftright"!==e.type||(e.containsCaret=!0,i=!0),t+=1,e=this.mathlist.ancestor(t)}const i=G(P({mathstyle:"displaystyle",generateID:{seed:this._hash(),groupNumbers:e.forHighlighting},macros:this.config.macros},this.mathlist.root),"ML__base");i.attributes={translate:"no","aria-hidden":"true"};const s=G("","ML__strut");s.setStyle("height",i.height,"em");const a=[s];if(0!==i.depth){const e=G("","ML__strut--bottom");e.setStyle("height",i.height+i.depth,"em"),e.setStyle("vertical-align",-i.depth,"em"),a.push(e)}a.push(i);const r=G(a,"ML__mathlive");this.field.innerHTML=r.toMarkup(0,this.config.horizontalSpacingScale),this.field.classList.toggle("ML__focused",t&&!this.config.readOnly),this.accessibleNode.innerHTML="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+Xe.toMathML(this.mathlist.root,this.config)+"</math>";const o=this._getSelectionBounds();if(o){const e=document.createElement("div");e.classList.add("ML__selection"),e.style.position="absolute",e.style.left=o.left+"px",e.style.top=o.top+"px",e.style.width=Math.ceil(o.right-o.left)+"px",e.style.height=Math.ceil(o.bottom-o.top-1)+"px",this.field.insertBefore(e,this.field.childNodes[0])}}_onPaste(){return this.pasteInProgress=!0,!0}_onCut(){return setTimeout(function(){this.$clearSelection(),this._requestUpdate()}.bind(this),0),!0}_onCopy(e){this.mathlist.isCollapsed()?(e.clipboardData.setData("text/plain","$$"+this.$text("latex-expanded")+"$$"),e.clipboardData.setData("application/json",this.$text("json")),e.clipboardData.setData("application/xml",this.$text("mathML"))):(e.clipboardData.setData("text/plain","$$"+this.$selectedText("latex-expanded")+"$$"),e.clipboardData.setData("application/json",this.$selectedText("json")),e.clipboardData.setData("application/xml",this.$selectedText("mathML"))),e.preventDefault()}formatMathlist(e,t){let i="";if("latex"===(t=t||"latex")||"latex-expanded"===t)i=e.toLatex("latex-expanded"===t);else if("mathML"===t)i=e.toMathML(this.config);else if("spoken"===t)i=Xe.toSpeakableText(e,this.config);else if("spoken-text"===t){const t=this.config.textToSpeechMarkup;this.config.textToSpeechMarkup="",i=Xe.toSpeakableText(e,this.config),this.config.textToSpeechMarkup=t}else if("spoken-ssml"===t||"spoken-ssml-withHighlighting"===t){const s=this.config.textToSpeechMarkup,a=this.config.generateID;this.config.textToSpeechMarkup="ssml","spoken-ssml-withHighlighting"===t&&(this.config.generateID=!0),i=Xe.toSpeakableText(e,this.config),this.config.textToSpeechMarkup=s,this.config.generateID=a}else if("json"===t){const t=Xe.toAST(e,this.config);i=JSON.stringify(t)}else"ASCIIMath"===t&&(i=function e(t,i){if(!t)return"";if(Array.isArray(t)){let i="";if(0===t.length)return"";if("first"===t[0].type&&t.shift(),"text"===t[0].mode){let s=0;for(i='"';t[s]&&"text"===t[s].mode;)i+=t[s].body,s++;i+='"'+e(t.slice(s))}else{let s=0;for(;t[s]&&"math"===t[s].mode;)i+=e(t[s]),s++;i+=e(t.slice(s))}return i.trim()}if("text"===t.mode)return'"'+t.body+'"';let s="";const a=t.latex?t.latex.trim():null;let r;switch(t.type){case"group":case"root":s=e(t.body);break;case"array":break;case"genfrac":(t.leftDelim||t.rightDelim)&&(s+="."!==t.leftDelim&&t.leftDelim?t.leftDelim:"{:"),t.hasBarLine?(s+="(",s+=e(t.numer),s+=")/(",s+=e(t.denom),s+=")"):(s+="("+e(t.numer)+"),",s+="("+e(t.denom)+")"),(t.leftDelim||t.rightDelim)&&(s+="."!==t.rightDelim&&t.rightDelim?t.rightDelim:"{:");break;case"surd":t.index?s+="root("+e(t.index)+")("+e(t.body)+")":s+="sqrt("+e(t.body)+")";break;case"leftright":s+="."!==t.leftDelim&&t.leftDelim?t.leftDelim:"{:",s+=e(t.body),s+="."!==t.rightDelim&&t.rightDelim?t.rightDelim:"{:";break;case"sizeddelim":case"delim":case"accent":break;case"line":case"overlap":case"overunder":break;case"mord":s=ai[a]||a||("string"==typeof t.body?t.body:""),"\\"===s[0]&&(s+=""),r=a?a.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null,r?s=String.fromCharCode(parseInt("0x"+r[1])):s.length>0&&"\\"===s.charAt(0)&&(s="string"==typeof t.body?t.body.charAt(0):t.latex);break;case"mbin":case"mrel":case"textord":case"minner":s=a&&ai[a]?ai[a]:a&&ri[a]?ri[a]:t.body;break;case"mopen":case"mclose":s+=t.body;break;case"mpunct":s=ri[a]||a;break;case"mop":""!==t.body&&(s="",s+="\\operatorname"===a?e(t.body):t.body||a,s+=" ");break;case"mathstyle":case"box":case"spacing":case"enclose":break;case"space":s=" "}if(t.subscript){s+="_";const i=e(t.subscript);i.length>1&&!/^(-)?\d+(\.\d*)?$/.test(i)?s+="("+i+")":s+=i}if(t.superscript){s+="^";const i=e(t.superscript);i.length>1&&!/^(-)?\d+(\.\d*)?$/.test(i)?s+="("+i+")":s+=i}return s}(e,this.config));return i}$text(e){return this.formatMathlist(this.mathlist.root,e)}$selectedText(e){const t=this.mathlist.getSelectedAtoms();if(!t)return"";const i=Ge("math",t);return this.formatMathlist(i,e)}$selectionIsCollapsed(){return this.mathlist.isCollapsed()}$selectionDepth(){return this.mathlist.path.length}_superscriptDepth(){let e=0,t=0,i=this.mathlist.ancestor(t),s=!1;for(;i;)(i.superscript||i.subscript)&&(e+=1),i.superscript?s=!0:i.subscript&&(s=!1),t+=1,i=this.mathlist.ancestor(t);return s?e:0}_subscriptDepth(){let e=0,t=0,i=this.mathlist.ancestor(t),s=!1;for(;i;)(i.superscript||i.subscript)&&(e+=1),i.superscript?s=!1:i.subscript&&(s=!0),t+=1,i=this.mathlist.ancestor(t);return s?e:0}$selectionAtStart(){return 0===this.mathlist.startOffset()}$selectionAtEnd(){return this.mathlist.endOffset()>=this.mathlist.siblings().length-1}groupIsSelected(){return 0===this.mathlist.startOffset()&&this.mathlist.endOffset()>=this.mathlist.siblings().length-1}$latex(e,t){return e?(e!==this.mathlist.root.toLatex()&&(t=t||{},this.mathlist.insert(e,Object.assign({},this.config,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",mode:"math",suppressChangeNotifications:t.suppressChangeNotifications})),this.undoManager.snapshot(this.config),this._requestUpdate()),e):this.mathlist.root.toLatex()}$el(){return this.element}undo(){return this.complete_(),this.undoManager.undo(this.config),!0}redo(){return this.complete_(),this.undoManager.redo(this.config),!0}scrollIntoView(){this.dirty&&this._render();let e=this._getCaretPosition();const t=this.field.getBoundingClientRect();if(!e){const i=this._getSelectionBounds();i&&(e={x:i.right+t.left-this.field.scrollLeft,y:i.top+t.top-this.field.scrollTop})}if(e){const i=e.x-window.scrollX;i<t.left?this.field.scroll({top:0,left:i-t.left+this.field.scrollLeft-20,behavior:"smooth"}):i>t.right&&this.field.scroll({top:0,left:i-t.right+this.field.scrollLeft+20,behavior:"smooth"})}}scrollToStart(){this.field.scroll(0,0)}scrollToEnd(){const e=this.field.getBoundingClientRect();this.field.scroll(e.left-window.scrollX,0)}enterCommandMode_(){this.switchMode_("command")}copyToClipboard_(){return this.$focus(),this.mathlist.isCollapsed()&&this.$select(),document.execCommand("copy"),!1}cutToClipboard_(){return this.$focus(),document.execCommand("cut"),!0}pasteFromClipboard_(){return this.$focus(),document.execCommand("paste"),!0}$insert(e,t){if("string"==typeof e&&e.length>0){if((t=t||{}).focus&&this.$focus(),t.feedback&&(this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(3),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play())),"\\\\"===e)this.mathlist.addRowAfter_();else if("&"===e)this.mathlist.addColumnAfter_();else{const i=this.style;this.mathlist.insert(e,{mode:this.mode,style:this.mathlist.anchorStyle(),...t}),t.resetStyle&&(this.style=i)}return this.undoManager.snapshot(this.config),this._requestUpdate(),!0}return!1}switchMode_(e,t,i){this._resetKeystrokeBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(e),t&&this.$insert(t,{format:"latex",mode:{math:"text",text:"math"}[e]}),this.mathlist.decorateCommandStringAroundInsertionPoint(!1),"command"===e?(this.mathlist.removeSuggestion(),Ut.hidePopover(this),this.suggestionIndex=0,this.virtualKeyboardVisible&&this.switchKeyboardLayer_("lower-command"),this.mathlist.insert("",{mode:"math"})):this.mode=e,i&&this.$insert(i,{format:"latex",mode:e}),"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode),this._requestUpdate()}complete_(e){if(e=e||{},Ut.hidePopover(this),e.discard)return this.mathlist.spliceCommandStringAroundInsertionPoint(null),this.switchMode_("math"),!0;const t=this.mathlist.extractCommandStringAroundInsertionPoint(!e.acceptSuggestion);if(t){if("\\("===t||"\\)"===t)this.mathlist.spliceCommandStringAroundInsertionPoint([]),this.mathlist.insert(t.slice(1),{mode:this.mode});else{const e="math";if(function(e,t){return!(!oe[t]||oe[t].mode&&!oe[t].mode.includes(e))||!!{text:Se,math:re}[e][t]}(e,t)){const i=at.parseTokens(o(t),e,null,this.config.macros);this.mathlist.spliceCommandStringAroundInsertionPoint(i)}else{const i=at.parseTokens(o(t),e,null,this.config.macros);i?this.mathlist.spliceCommandStringAroundInsertionPoint(i):this.mathlist.decorateCommandStringAroundInsertionPoint(!0)}}return this.undoManager.snapshot(this.config),this._announce("replacement"),!0}return!1}_updateSuggestion(){this.mathlist.positionInsertionPointAfterCommitedCommand(),this.mathlist.removeSuggestion();const e=this.mathlist.extractCommandStringAroundInsertionPoint(),t=xe(e);if(0===t.length)Ut.hidePopover(this),this.mathlist.decorateCommandStringAroundInsertionPoint(!0);else{const i=this.suggestionIndex%t.length,s=e.length-t[i].match.length;0!==s&&this.mathlist.insertSuggestion(t[i].match,s),Ut.showPopoverWithLatex(this,t[i].match,t.length>1)}this._requestUpdate()}nextSuggestion_(){return this.suggestionIndex+=1,this._updateSuggestion(),!1}previousSuggestion_(){if(this.suggestionIndex-=1,this.suggestionIndex<0){this.mathlist.removeSuggestion();const e=xe(this.mathlist.extractCommandStringAroundInsertionPoint());this.suggestionIndex=e.length-1}return this._updateSuggestion(),!1}_attachButtonHandlers(e,t){const i=this;let s,a,r,o,n;"object"==typeof t&&(t.default||t.pressed)?(t.default&&e.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(t.default)),t.alt&&e.setAttribute("data-"+this.config.namespace+"command-alt",JSON.stringify(t.alt)),t.altshift&&e.setAttribute("data-"+this.config.namespace+"command-altshift",JSON.stringify(t.altshift)),t.shift&&e.setAttribute("data-"+this.config.namespace+"command-shift",JSON.stringify(t.shift)),t.pressed&&e.setAttribute("data-"+this.config.namespace+"command-pressed",JSON.stringify(t.pressed)),t.pressAndHoldStart&&e.setAttribute("data-"+this.config.namespace+"command-pressAndHoldStart",JSON.stringify(t.pressAndHoldStart)),t.pressAndHoldEnd&&e.setAttribute("data-"+this.config.namespace+"command-pressAndHoldEnd",JSON.stringify(t.pressAndHoldEnd))):e.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(t)),cs(e,"mousedown touchstart:passive",(function(t){if("mousedown"!==t.type||1===t.buttons){t.stopPropagation(),t.preventDefault(),e.classList.add("pressed"),s=Date.now(),"touchstart"===t.type&&(r=t.changedTouches[0].identifier);const o=e.getAttribute("data-"+i.config.namespace+"command-pressed");o&&i.$perform(JSON.parse(o));const l=e.getAttribute("data-"+i.config.namespace+"command-pressAndHoldStart");l&&(a=e,n&&clearTimeout(n),n=window.setTimeout((function(){e.classList.contains("pressed")&&i.$perform(JSON.parse(l))}),300))}})),cs(e,"mouseleave touchcancel",(function(){e.classList.remove("pressed")})),cs(e,"touchmove:passive",(function(e){e.preventDefault();for(let t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].identifier===r){const i=document.elementFromPoint(e.changedTouches[t].clientX,e.changedTouches[t].clientY);i!==o&&o&&(o.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),o=null),i&&(o=i,i.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}})),cs(e,"mouseenter",(function(t){1===t.buttons&&e.classList.add("pressed")})),cs(e,"mouseup touchend click",(function(t){if(o){t.stopPropagation(),t.preventDefault();const e=o;return o=null,void e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}if(e.classList.remove("pressed"),e.classList.add("active"),"click"===t.type&&0!==t.detail)return t.stopPropagation(),void t.preventDefault();window.setTimeout((function(){e.classList.remove("active")}),150);let r=e.getAttribute("data-"+i.config.namespace+"command-pressAndHoldEnd");const n=Date.now();(e!==a||n<s+300)&&(r=void 0),!r&&t.altKey&&t.shiftKey&&(r=e.getAttribute("data-"+i.config.namespace+"command-altshift")),!r&&t.altKey&&(r=e.getAttribute("data-"+i.config.namespace+"command-alt")),!r&&t.shiftKey&&(r=e.getAttribute("data-"+i.config.namespace+"command-shift")),r||(r=e.getAttribute("data-"+i.config.namespace+"command")),r&&i.$perform(JSON.parse(r)),t.stopPropagation(),t.preventDefault()}))}_makeButton(e,t,i,s){const a=document.createElement("span");return a.innerHTML=e,t&&a.classList.add([].slice.call(t.split(" "))),i&&a.setAttribute("aria-label",i),this._attachButtonHandlers(a,s),a}showAlternateKeys_(e,t){const i=ds("mathlive-alternate-keys-panel","ML__keyboard alternate-keys");this.virtualKeyboard.classList.contains("material")&&i.classList.add("material"),t.length>=7?i.style.width="286px":4===t.length||2===t.length?i.style.width="146px":1===t.length?i.style.width="86px":i.style.width="146px",i.style.height="auto";let s="";for(const e of t)s+="<li","string"==typeof e?s+=' data-latex="'+e.replace(/"/g,"&quot;")+'"':(e.latex&&(s+=' data-latex="'+e.latex.replace(/"/g,"&quot;")+'"'),e.content&&(s+=' data-content="'+e.content.replace(/"/g,"&quot;")+'"'),e.insert&&(s+=' data-insert="'+e.insert.replace(/"/g,"&quot;")+'"'),e.command&&(s+=" data-command='"+e.command.replace(/"/g,"&quot;")+"'"),e.aside&&(s+=' data-aside="'+e.aside.replace(/"/g,"&quot;")+'"'),e.classes&&(s+=' data-classes="'+e.classes+'"')),s+=">",s+=e.label||"",s+="</li>";s="<ul>"+s+"</ul>",i.innerHTML=s,si.makeKeycap(this,i.getElementsByTagName("li"),"performAlternateKeys");const a=this.virtualKeyboard.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+e+'"]').getBoundingClientRect();if(a){a.top-i.clientHeight<0&&(i.style.width="auto",t.length<=6?i.style.height="56px":t.length<=12?i.style.height="108px":i.style.height="205px");const e=(a.top-i.clientHeight+5).toString()+"px",s=Math.max(0,Math.min(window.innerWidth-i.offsetWidth,(a.left+a.right-i.offsetWidth)/2))+"px";i.style.transform="translate("+s+","+e+")",i.classList.add("is-visible")}return!1}hideAlternateKeys_(){const e=document.getElementById("mathlive-alternate-keys-panel");return e&&(e.classList.remove("is-visible"),e.innerHTML="",ms(e)),!1}performAlternateKeys_(e){return this.hideAlternateKeys_(),this.$perform(e)}switchKeyboardLayer_(e){if("off"!==this.config.virtualKeyboardMode){"lower-command"!==e&&"upper-command"!==e&&"symbols-command"!==e&&this.complete_(),this.showVirtualKeyboard_(),this.hideAlternateKeys_(),this.unshiftKeyboardLayer_();const t=this.virtualKeyboard.getElementsByClassName("keyboard-layer");let i=!1;for(let s=0;s<t.length;s++)if(t[s].dataset.layer===e){i=!0;break}if(i)for(let i=0;i<t.length;i++)t[i].dataset.layer===e?t[i].classList.add("is-visible"):t[i].classList.remove("is-visible");this.$focus()}return!0}shiftKeyboardLayer_(){const e=this.virtualKeyboard.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(let t=0;t<e.length;t++){const i=e[t];let s=i.getAttribute("data-shifted");if(s||/^[a-z]$/.test(i.innerHTML)){i.setAttribute("data-unshifted-content",i.innerHTML),s||(s=i.innerHTML.toUpperCase()),i.innerHTML=s;const e=i.getAttribute("data-"+this.config.namespace+"command");if(e){i.setAttribute("data-unshifted-command",e);const t=i.getAttribute("data-shifted-command");if(t)i.setAttribute("data-"+this.config.namespace+"command",t);else{const t=JSON.parse(e);Array.isArray(t)&&(t[1]=t[1].toUpperCase()),i.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(t))}}}}return!1}unshiftKeyboardLayer_(){const e=this.virtualKeyboard.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(e)for(let t=0;t<e.length;t++){const i=e[t],s=i.getAttribute("data-unshifted-content");s&&(i.innerHTML=s);const a=i.getAttribute("data-unshifted-command");a&&i.setAttribute("data-"+this.config.namespace+"command",a)}return!1}insertAndUnshiftKeyboardLayer_(e){return this.$insert(e),this.unshiftKeyboardLayer_(),!0}toggleVirtualKeyboardAlt_(){let e=!1;return this.virtualKeyboard&&(e=this.virtualKeyboard.classList.contains("material"),this.virtualKeyboard.remove(),delete this.virtualKeyboard,this.virtualKeyboard=null),this.showVirtualKeyboard_(e?"":"material"),!1}toggleVirtualKeyboardShift_(){this.config.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[this.config.virtualKeyboardLayout];let e=this.virtualKeyboard?this.virtualKeyboard.querySelector("div.keyboard-layer.is-visible"):null;return e=e?e.id:"",this.virtualKeyboard&&(this.virtualKeyboard.remove(),delete this.virtualKeyboard,this.virtualKeyboard=null),this.showVirtualKeyboard_(),e&&this.switchKeyboardLayer_(e),!1}showVirtualKeyboard_(e){return this.virtualKeyboardVisible=!1,this.toggleVirtualKeyboard_(e),!1}hideVirtualKeyboard_(){return this.virtualKeyboardVisible=!0,this.toggleVirtualKeyboard_(),!1}toggleVirtualKeyboard_(e){if(this.virtualKeyboardVisible=!this.virtualKeyboardVisible,this.virtualKeyboardVisible){this.virtualKeyboard?this.virtualKeyboard.classList.add("is-visible"):(this.virtualKeyboard=si.make(this,e),cs(this.virtualKeyboard,"touchstart:passive mousedown",(function(){t.$focus()})),document.body.appendChild(this.virtualKeyboard));const t=this;window.setTimeout((function(){t.virtualKeyboard.classList.add("is-visible")}),1)}else this.virtualKeyboard&&this.virtualKeyboard.classList.remove("is-visible");return"function"==typeof this.config.onVirtualKeyboardToggle&&this.config.onVirtualKeyboardToggle(this,this.virtualKeyboardVisible,this.virtualKeyboard),!1}$applyStyle(e){if(this._resetKeystrokeBuffer(),(e=function(e){const t={};return"string"==typeof e.mode&&(t.mode=e.mode.toLowerCase()),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.backgroundColor&&(t.backgroundColor=e.backgroundColor),"string"==typeof e.fontFamily&&(t.fontFamily=e.fontFamily),"string"==typeof e.series&&(t.fontSeries=e.series),"string"==typeof e.fontSeries&&(t.fontSeries=e.fontSeries.toLowerCase()),t.fontSeries&&(t.fontSeries={bold:"b",medium:"m",normal:"mn"}[t.fontSeries]||t.fontSeries),"string"==typeof e.shape&&(t.fontShape=e.shape),"string"==typeof e.fontShape&&(t.fontShape=e.fontShape.toLowerCase()),t.fontShape&&(t.fontShape={italic:"it",up:"n",upright:"n",normal:"n"}[t.fontShape]||t.fontShape),"string"==typeof e.size?t.fontSize=e.size:"number"==typeof e.size&&(t.fontSize="size"+Math.min(0,Math.max(10,e.size))),"string"==typeof e.fontSize&&(t.fontSize=e.fontSize.toLowerCase()),t.fontSize&&(t.fontSize={tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normal:"size5",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[t.fontSize]||t.fontSize),t}(e)).mode){if(this.mathlist.isCollapsed())this.switchMode_(e.mode);else{const e=this.mode,t="math"===(this.mathlist.anchorMode()||this.config.default)?"text":"math";let i=this.$selectedText("ASCIIMath");if("math"===t&&/^"[^"]+"$/.test(i)&&(i=i.slice(1,-1)),this.$insert(i,{mode:t,selectionMode:"item",format:"text"===t?"text":"ASCIIMath"}),this.mode=t,this.groupIsSelected()){const e=this.mathlist.parent();!e||"group"!==e.type&&"root"!==e.type||(e.mode=t)}this.mode!==e&&"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode)}delete e.mode}return this.mathlist.isCollapsed()?(this.style.fontSeries&&e.fontSeries===this.style.fontSeries&&(e.fontSeries="auto"),e.fontShape&&e.fontShape===this.style.fontShape&&(e.fontShape="auto"),e.color&&e.color===this.style.color&&(e.color="none"),e.backgroundColor&&e.backgroundColor===this.style.backgroundColor&&(e.backgroundColor="none"),e.fontSize&&e.fontSize===this.style.fontSize&&(e.fontSize="auto"),this.style={...this.style,...e}):(this.mathlist._applyStyle(e),this.undoManager.snapshot(this.config)),!0}$hasFocus(){return document.hasFocus()&&document.activeElement===this.textarea}$focus(){this.$hasFocus()||(this.textarea.focus&&this.textarea.focus(),this._announce("line"))}$blur(){this.$hasFocus()&&this.textarea.blur&&this.textarea.blur()}$select(){this.mathlist.selectAll_()}$clearSelection(){this.mathlist.delete_()}$keystroke(e,t){return this._onKeystroke(e,t)}$typedText(e){this._onTypedText(e)}typedText_(e,t){return this._onTypedText(e,t)}$setConfig(e){if(this.config||(this.config={namespace:"",overrideDefaultInlineShortcuts:!1,readOnly:!1,removeExtraneousParentheses:!0,scriptDepth:[1/0,1/0],smartFence:!0,smartSuperscript:!0,virtualKeyboard:"",virtualKeyboardLayout:"qwerty"}),this.config={...this.config,...e},void 0!==this.config.scriptDepth&&!Array.isArray(this.config.scriptDepth)){const e=parseInt(this.config.scriptDepth);this.config.scriptDepth=[e,e]}if(void 0===this.config.removeExtraneousParentheses&&(this.config.removeExtraneousParentheses=!0),this.config.onAnnounce=e.onAnnounce||bs,this.config.macros=Object.assign({},le,this.config.macros),!/^[a-z]*[-]?$/.test(this.config.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(this.config.namespace)||(this.config.namespace+="-"),Vt.locale=this.config.locale||Vt.locale,Vt.merge(this.config.strings),this.config.virtualKeyboardLayout=e.virtualKeyboardLayout||{fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Vt.locale.substring(0,2)]||"qwerty",this.keypressSound=void 0,this.spacebarKeypressSound=void 0,this.returnKeypressSound=void 0,this.deleteKeypressSound=void 0,this.config.keypressSound&&("string"==typeof this.config.keypressSound?(this.keypressSound=new Audio,this.keypressSound.preload="none",this.keypressSound.src=this.config.keypressSound,this.keypressSound.volume=.5,this.spacebarKeypressSound=this.keypressSound,this.returnKeypressSound=this.keypressSound,this.deleteKeypressSound=this.keypressSound):(this.keypressSound=new Audio,this.keypressSound.preload="none",this.keypressSound.src=this.config.keypressSound.default,this.keypressSound.volume=.5,this.spacebarKeypressSound=this.keypressSound,this.returnKeypressSound=this.keypressSound,this.deleteKeypressSound=this.keypressSound,this.config.keypressSound.spacebar&&(this.spacebarKeypressSound=new Audio,this.spacebarKeypressSound.preload="none",this.spacebarKeypressSound.src=this.config.keypressSound.spacebar,this.spacebarKeypressSound.volume=.5),this.config.keypressSound.return&&(this.returnKeypressSound=new Audio,this.returnKeypressSound.preload="none",this.returnKeypressSound.src=this.config.keypressSound.return,this.returnKeypressSound.volume=.5),this.config.keypressSound.delete&&(this.deleteKeypressSound=new Audio,this.deleteKeypressSound.preload="none",this.deleteKeypressSound.src=this.config.keypressSound.delete,this.deleteKeypressSound.volume=.5))),this.config.plonkSound&&(this.plonkSound=new Audio,this.plonkSound.preload="none",this.plonkSound.src=this.config.plonkSound,this.plonkSound.volume=.5),this.readOnly&&this._onBlur(),this._requestUpdate()}speak_(e,t){t=t||{withHighlighting:!1};const i=function(e,t){let i=null;switch(t){case"all":i=e.mathlist.root;break;case"selection":e.mathlist.isCollapsed()||(i=e.mathlist.getSelectedAtoms());break;case"left":{const t=e.mathlist.siblings(),s=e.mathlist.startOffset();if(s>=1){i=[];for(let e=1;e<=s;e++)i.push(t[e])}break}case"right":{const t=e.mathlist.siblings(),s=e.mathlist.endOffset()+1;if(s<=t.length-1){i=[];for(let e=s;e<=t.length-1;e++)i.push(t[e])}break}case"start":case"end":break;case"group":i=e.mathlist.siblings();break;case"parent":{const t=e.mathlist.parent();t&&"root"!==t.type&&(i=e.mathlist.parent());break}}return i}(this,e);if(null===i)return this.config.handleSpeak(function(e){let t="";switch(e){case"all":break;case"selection":t="no selection";break;case"left":t="at start";break;case"right":t="at end";break;case"group":break;case"parent":t="no parent"}return t}(e)),!1;const s={...this.config};(t.withHighlighting||"amazon"===s.speechEngine)&&(s.textToSpeechMarkup=window.sre&&"sre"===s.textToSpeechRules?"ssml_step":"ssml",t.withHighlighting&&(s.generateID=!0));const a=Xe.toSpeakableText(i,s);return t.withHighlighting?(window.mathlive.readAloudMathField=this,this._render({forHighlighting:!0}),this.config.handleReadAloud&&this.config.handleReadAloud(this.field,a,this.config)):this.config.handleSpeak&&this.config.handleSpeak(a,s),!1}}let fs,gs=0;function ys(e,t,i){const s=Object.assign({},e.config);return s.textToSpeechMarkup="",s.textToSpeechRulesOptions=s.textToSpeechRulesOptions||{},s.textToSpeechRulesOptions.markup="none",t+Xe.toSpeakableText(i,s)}function bs(e,t,i,s){let a="";"plonk"===t?(e.plonkSound&&(e.plonkSound.load(),e.plonkSound.play().catch(e=>{})),e._resetKeystrokeBuffer()):"delete"===t?a=ys(e,"deleted: ",s):"focus"===t||/move/.test(t)?a=(e.mathlist.isCollapsed()?"":"selected: ")+e._nextAtomSpeechText(i):"replacement"===t?a=ys(e,"",e.mathlist.sibling(0)):"line"===t?(a=ys(e,"",e.mathlist.root),e.accessibleNode.innerHTML='<math xmlns="http://www.w3.org/1998/Math/MathML">'+Xe.toMathML(e.mathlist.root,e.config)+"</math>",e.textarea.setAttribute("aria-label","after: "+a)):a=s?ys(e,t+" ",s):t;const r=/\u00a0/.test(e.ariaLiveText.textContent)?"  ":"  ";e.ariaLiveText.textContent=a+r}function vs(e,t,i){let s=i,a=0;const r=e.length;for(;s<t.length;){const i=t[s];if(a<=0&&t.slice(s,s+r)===e)return s;"\\"===i?s++:"{"===i?a++:"}"===i&&a--,s++}return-1}function xs(e,t,i,s){const a=[];for(let r=0;r<e.length;r++)if("text"===e[r].type){const o=e[r].data;let n,l=!0,c=0;n=o.indexOf(t),-1!==n&&(c=n,c>0&&a.push({type:"text",data:o.slice(0,c)}),l=!1);let h=!1;for(;!h;){if(l){if(n=o.indexOf(t,c),-1===n){h=!0;break}c!==n&&a.push({type:"text",data:o.slice(c,n)}),c=n}else{if(n=vs(i,o,c+t.length),-1===n){h=!0;break}a.push({type:"math",data:o.slice(c+t.length,n),rawData:o.slice(c,n+i.length),mathstyle:s}),c=n+i.length}l=!l}c<o.length&&a.push({type:"text",data:o.slice(c)})}else a.push(e[r]);return a}function ks(e,t){let i=[{type:"text",data:e}];for(let e=0;e<t.inline.length;e++){const s=t.inline[e];i=xs(i,s[0],s[1],"textstyle")}for(let e=0;e<t.display.length;e++){const s=t.display[e];i=xs(i,s[0],s[1],"displaystyle")}return i}function _s(e,t,i,s){const a=function(e,t,i,s){let a=document.createElement("span");a.setAttribute("aria-hidden","true"),t.preserveOriginalContent&&(a.setAttribute("data-"+t.namespace+"original-content",e),i&&a.setAttribute("data-"+t.namespace+"original-mathstyle",i));try{a.innerHTML=t.renderToMarkup(e,i||"displaystyle","html",t.macros)}catch(t){if(!s)return null;a=document.createTextNode(e)}return a}(e,i,t,s);if(a&&/\b(mathml|speakable-text)\b/i.test(i.renderAccessibleContent)){const t=document.createDocumentFragment();if(/\bmathml\b/i.test(i.renderAccessibleContent)&&i.renderToMathML&&t.appendChild(function(e,t){const i=document.createElement("span");try{i.innerHTML="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+t.renderToMathML(e,t)+"</math>"}catch(t){i.textContent=e}return i.className="sr-only",i}(e,i)),/\bspeakable-text\b/i.test(i.renderAccessibleContent)&&i.renderToSpeakableText){const s=document.createElement("span");s.innerHTML=i.renderToSpeakableText(e,i),s.className="sr-only",t.appendChild(s)}return t.appendChild(a),t}return a}function ws(e,t){let i=null;if(t.TeX.processEnvironments&&/^\s*\\begin/.test(e))i=document.createDocumentFragment(),i.appendChild(_s(e,void 0,t,!0));else{const s=ks(e,t.TeX.delimiters);if(1===s.length&&"text"===s[0].type)return null;i=document.createDocumentFragment();for(let e=0;e<s.length;e++)"text"===s[e].type?i.appendChild(document.createTextNode(s[e].data)):i.appendChild(_s(s[e].data,s[e].mathstyle,t,!0))}return i}us.prototype.undo_=us.prototype.undo,us.prototype.redo_=us.prototype.redo,us.prototype.scrollIntoView_=us.prototype.scrollIntoView,us.prototype.scrollToStart_=us.prototype.scrollToStart,us.prototype.scrollToEnd_=us.prototype.scrollToEnd,us.prototype.insert_=us.prototype.$insert;const Ms={namespace:"",skipTags:["noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",preserveOriginalContent:!0,renderAccessibleContent:"mathml",TeX:{disabled:!1,processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};var zs={renderMathInElement:function(e,t){try{if((t=Object.assign({},Ms,t)).ignoreClassPattern=new RegExp(t.ignoreClass),t.processClassPattern=new RegExp(t.processClass),t.processScriptTypePattern=new RegExp(t.processScriptType),t.macros=le,t.namespace){if(!/^[a-z]+[-]?$/.test(t.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(t.namespace)||(t.namespace+="-")}!function e(t,i){const s=t.getAttribute("data-"+i.namespace+"original-content");if(s){const e=_s(s,t.getAttribute("data-"+i.namespace+"mathstyle"),i,!1);null!=e&&(t.textContent="",t.appendChild(e))}else{if(1===t.childNodes.length&&3===t.childNodes[0].nodeType){const e=t.childNodes[0].textContent;if(i.TeX.processEnvironments&&/^\s*\\begin/.test(e))return t.textContent="",void t.appendChild(_s(e,void 0,i,!0));const s=ks(e,i.TeX.delimiters);if(1===s.length&&"math"===s[0].type)return t.textContent="",void t.appendChild(_s(s[0].data,s[0].mathstyle,i,!0));if(1===s.length&&"text"===s[0].type)return}for(let s=0;s<t.childNodes.length;s++){const a=t.childNodes[s];if(3===a.nodeType){const e=ws(a.textContent,i);e&&(s+=e.childNodes.length-1,t.replaceChild(e,a))}else if(1===a.nodeType){const t=a.nodeName.toLowerCase();if("script"===t&&i.processScriptTypePattern.test(a.type)){let e="displaystyle";for(const t of a.type.split(";")){const i=t.split("=");"mode"===i[0].toLowerCase()&&(e="display"===i[1].toLoweCase()?"displaystyle":"textstyle")}const t=_s(a.textContent,e,i,!0);a.parentNode.replaceChild(t,a)}else(i.processClassPattern.test(a.className)||!i.skipTags.includes(t)&&!i.ignoreClassPattern.test(a.className))&&e(a,i)}}}}(e,t)}catch(e){Error}}};function Ss(e,t,i,s){t=t||"displaystyle";const a=o(e),r=at.parseTokens(a,"math",null,s);if("mathlist"===i)return r;let n=P({mathstyle:t},r);if(n=function e(t){if(!t||0===t.length)return[];t[0].children=e(t[0].children);const i=[t[0]];for(let s=1;s<t.length;s++)i[i.length-1].tryCoalesceWith(t[s])||(t[s].children=e(t[s].children),i.push(t[s]));return i}(n),"span"===i)return n;const l=G(n,"ML__base"),c=G("","ML__strut");c.setStyle("height",l.height,"em");const h=[c];if(0!==l.depth){const e=G("","ML__strut--bottom");e.setStyle("height",l.height+l.depth,"em"),e.setStyle("vertical-align",-l.depth,"em"),h.push(e)}return h.push(l),G(h,"ML__mathlive").toMarkup()}function Ls(e,t){if(!Xe.toMathML)return"";(t=t||{}).macros=t.macros||{},Object.assign(t.macros,le);const i=at.parseTokens(o(e),"math",null,t.macros);return Xe.toMathML(i,t)}function As(e,t){if(!Xe.toSpeakableText)return"";(t=t||{}).macros=t.macros||{},Object.assign(t.macros,le);const i=at.parseTokens(o(e),"math",null,t.macros);return Xe.toSpeakableText(i,t)}function Cs(e,t){if(!t&&window&&window.mathlive&&(t=window.mathlive.config),(t=t||{}).speechEngine&&"local"!==t.speechEngine)if("amazon"===t.speechEngine){if(window&&window.AWS){const i=new window.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"mp3",VoiceId:t.speechEngineVoice||"Joanna",Text:e,TextType:"ssml"};i.synthesizeSpeech(s,(function(e,t){if(e);else if(t&&t.AudioStream){const e=new Uint8Array(t.AudioStream),i=new Blob([e.buffer],{type:"audio/mpeg"}),s=URL.createObjectURL(i);new Audio(s).play().catch(e=>{})}}))}}else t.speechEngine;else{const t=new SpeechSynthesisUtterance(e);window&&window.speechSynthesis.speak(t)}}function Ts(e,t,i){if(!window)return;if(!i&&window.mathlive&&(i=window.mathlive.config),"amazon"!==(i=i||{}).speechEngine)return void(i.handleSpeak&&i.handleSpeak(t));if(!window.AWS)return;const s=new window.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"json",VoiceId:i.speechEngineVoice||"Joanna",Text:t,TextType:"ssml",SpeechMarkTypes:["ssml"]};window.mathlive=window.mathlive||{},window.mathlive.readAloudElement=e;const r=i.onReadAloudStatus||window.mathlive.onReadAloudStatus;s.synthesizeSpeech(a,(function(e,t){if(e);else if(t&&t.AudioStream){const e=new TextDecoder("utf-8").decode(new Uint8Array(t.AudioStream));window.mathlive.readAloudMarks=e.split("\n").map(e=>e?JSON.parse(e):{}),window.mathlive.readAloudTokens=[];for(const e of window.mathlive.readAloudMarks)e.value&&window.mathlive.readAloudTokens.push(e.value);window.mathlive.readAloudCurrentMark="",a.OutputFormat="mp3",a.SpeechMarkTypes=[],s.synthesizeSpeech(a,(function(e,t){if(e);else if(t&&t.AudioStream){const e=new Uint8Array(t.AudioStream),i=new Blob([e.buffer],{type:"audio/mpeg"}),s=URL.createObjectURL(i);window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudAudio=new Audio,window.mathlive.readAloudAudio.addEventListener("ended",()=>{r&&r(window.mathlive.readAloudMathField,"ended"),window.mathlive.readAloudMathField?(window.mathlive.readAloudMathField._render(),window.mathlive.readAloudElement=null,window.mathlive.readAloudMathField=null,window.mathlive.readAloudTokens=[],window.mathlive.readAloudMarks=[],window.mathlive.readAloudCurrentMark=""):function e(t){t.classList.remove("highlight"),t.children&&Array.from(t.children).forEach(t=>{e(t)})}(window.mathlive.readAloudElement)}),window.mathlive.readAloudAudio.addEventListener("timeupdate",()=>{let e="";const t=1e3*window.mathlive.readAloudAudio.currentTime+100;for(const i of window.mathlive.readAloudMarks)i.time<t&&(e=i.value);window.mathlive.readAloudCurrentMark!==e&&(window.mathlive.readAloudCurrentToken=e,e&&e===window.mathlive.readAloudFinalToken?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudCurrentMark=e,function e(t,i){i&&t.dataset.atomId!==i?(t.classList.remove("highlight"),t.children&&t.children.length>0&&Array.from(t.children).forEach(t=>{e(t,i)})):(t.classList.add("highlight"),t.children&&t.children.length>0&&Array.from(t.children).forEach(t=>{e(t)}))}(window.mathlive.readAloudElement,window.mathlive.readAloudCurrentMark)))})),window.mathlive.readAloudAudio.src=s,r&&r(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}}))}}))}function Fs(e){let t=e;if("string"==typeof e&&(t=document.getElementById(e),!t))throw Error(`The element with ID "${e}" could not be found.`);return t}function Ds(e,t){zs&&((t=t||{}).renderToMarkup=t.renderToMarkup||Ss,t.renderToMathML=t.renderToMathML||Ls,t.renderToSpeakableText=t.renderToSpeakableText||As,t.macros=t.macros||le,zs.renderMathInElement(Fs(e),t))}function qs(e){if(e.namespace){if(!/^[a-z]+[-]?$/.test(e.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(e.namespace)||(e.namespace+="-")}}return{latexToMarkup:Ss,latexToMathML:Ls,latexToSpeakableText:As,latexToAST:function(e,t){if(!Xe.toAST)return{};(t=t||{}).macros=t.macros||{},Object.assign(t.macros,le);const i=at.parseTokens(o(e),"math",null,t.macros);return Xe.toAST(i,t)},astToLatex:function(e,t){return function e(t,i){const s=Object.assign({precision:14,decimalMarker:".",groupSeparator:"\\, ",product:"\\cdot ",exponentProduct:"\\cdot ",exponentMarker:"",arcSeparator:"\\,",scientificNotation:"auto",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}"},i);let a="";if(void 0===t)return"";if("string"==typeof t&&(t=JSON.parse(t)),t.latex)a=t.latex;else if(Oi(t)){const i=Ei(t);if(i===-1/0)a="-\\infty ";else if(i===1/0)a="\\infty ";else if("object"!=typeof t.num||"string"!=typeof t.num.re&&"string"!=typeof t.num.im)a=isNaN(i)?"\\text{NaN}":rs(t.num,s);else{const e=Bi(t),i=Ri(t);isNaN(e)||isNaN(i)?a="\\text{NaN}":Math.abs(i)<=Number.EPSILON&&Math.abs(e)<=Number.EPSILON?a="0":(Math.abs(e)>Number.EPSILON&&(a=rs(e,s)),Math.abs(i)>Number.EPSILON&&(Math.abs(e)>Number.EPSILON&&(a+=i>0?"+":""),a+=(1!==Math.abs(i)?rs(i,s):"")+"\\imaginaryI "))}Ii(t)&&(a+="^{"+e(t.sup,s)+"}"),Ni(t)&&(a+="_{"+e(t.sub,s)+"}")}else if(t.group)a=e(t.group,s),Oi(t.group)||Ki(t.group)?0!==Ri(t.group)&&(a=is(t.fence||"(),",a)):a=is(t.fence||"(),",a),Ii(t)&&(a+="^{"+e(t.sup,s)+"}"),Ni(t)&&(a+="_{"+e(t.sub,s)+"}");else if(t.fn)if("bind"===t.fn){if(a=e(Mi(t,0),s)+"|_{",t.arg&&2===t.arg.length)a+=e(Mi(t,1));else{let i="";for(let s=1;s<t.arg.length;s+=2)a+=i+e(Mi(t,s))+" = "+e(Mi(t,s+1)),i=", "}a+="}"}else if("divide"===t.fn)a="\\frac{"+e(Mi(t,0),s)+"}{"+e(Mi(t,1),s)+"}";else if("negate"===t.fn)a="-"+e(Mi(t,0),s);else if("subtract"===t.fn)a=e(Mi(t,0),s)+" - "+e(Mi(t,1),s);else if("add"!==t.fn&&"multiply"!==t.fn||!Array.isArray(t.arg))if("list"===t.fn||"list2"===t.fn){const i=[];for(const a of t.arg)i.push(e(a,s));a=i.join("list2"===t.fn?"; ":", ")}else if("pow"===t.fn&&Array.isArray(t.arg)&&t.arg.length>=2)a=e(Mi(t,0),s),Oi(Mi(t,0))||Ki(Mi(t,0))||(a=is(t.fence||"(),",a)),a+="^{"+e(Mi(t,1),s)+"}";else if("equal"===t.fn&&t.arg&&t.arg.length>2)a=t.arg.map(t=>e(t,s)).join(" = ");else{const i=function(e){let t=_i[e];return t||(t=e.length>1?"\\operatorname{"+e+"}%^%_ %":e+"%^%_ %"),t}(t.fn);a=i;let r="";if(/%(?![01_^])/.test(i)&&Array.isArray(t.arg)&&t.arg.length>1)a+=is(t.fence||"(),",...t.arg.map(t=>e(t,s)));else if(Array.isArray(t.arg)&&t.arg.length>0){const o=e(Mi(t,0),s),n=e(Mi(t,1),s),l=[...t.arg];/%0/.test(i)&&(a=a.replace("%0",o),l.shift()),/%1/.test(i)&&(a=a.replace("%1",n),l.shift()),l.length>0&&(r=is(t.fence||"(),",...l.map(t=>e(t,s))))}else r=is(t.fence||"(),","");a=Ii(t)?a.replace("%^","^{"+e(t.sup,s)+"}"):a.replace("%^",""),a=Ni(t)?a.replace("%_","_{"+e(t.sub,s)+"}"):a.replace("%_",""),a=a.replace(/%(?![01_^])/,r),a=a.replace("%0","").replace("%1","")}else{const i=[];for(const a of t.arg)"add"===a.fn||"subtract"===a.fn||0!==Bi(r=a)&&0!==Ri(r)||Ii(t)&&0!==Ri(a)&&1!==Ri(a)?i.push(is("() ",e(a,s))):i.push(e(a,s));if("multiply"===t.fn)a=!t.arg||2!==t.arg.length||!Oi(t.arg[0])&&"divide"!==t.arg[0].fn||Oi(t.arg[1])&&(0!==Bi(t.arg[1])||1!==Ri(t.arg[1]))?i.join(" \\times "):i[0]+i[1];else if(t.arg&&1===t.arg.length)a="negate"===t.arg[0].fn||Oi(t.arg[0])&&Ei(t.arg[0])<0?i[0]:"+"+i[0];else{a=i[0];for(let e=1;e<t.arg.length;e++)"negate"===t.arg[e].fn||Oi(t.arg[e])&&Ei(t.arg[e])<0?a+=i[e]:a+=" + "+i[e]}}else if("string"==typeof t.sym){a=Ki(t);let i=a.match(/^&#x([0-9a-f]+);$/i);i&&i[1]?a=String.fromCodePoint(parseInt(i[1],16)):(i=a.match(/^&#([0-9]+);$/i),i&&i[1]&&(a=String.fromCodePoint(parseInt(i[1])))),"string"==typeof t.variant&&(a="\\"+{normal:"mathrm","double-struck":"mathbb",bold:"mathbf",fraktur:"mathfrak",script:"mathscr","sans-serif":"mathsf",monospace:"mathtt"}[t.variant]+"{"+a+"}"),Ii(t)&&(a+="^{"+e(t.sup,s)+"}"),Ni(t)&&(a+="_{"+e(t.sub,s)+"}")}else"string"==typeof t.text&&(a="\\text{"+t.text+"}");var r;return"string"==typeof t.error&&(a="\\bbox[#F56165]{"+a+"}"),a}(e,t)},makeMathField:function(e,t){return(t=t||{}).handleSpeak=t.handleSpeak||Cs,t.handleReadAloud=t.handleReadAloud||Ts,new us(Fs(e),t)},renderMathInDocument:function(e){Ds(document.body,e)},renderMathInElement:Ds,revertToOriginalContent:function(e,t){(e=(e=Fs(e)).children[1])instanceof us?e.revertToOriginalContent():(qs(t=t||{}),e.innerHTML=e.getAttribute("data-"+(t.namespace||"")+"original-content"))},getOriginalContent:function(e,t){return(e=(e=Fs(e)).children[1])instanceof us?e.originalContent:(qs(t=t||{}),e.getAttribute("data-"+(t.namespace||"")+"original-content"))},readAloud:Ts,readAloudStatus:function(){return window?(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.paused?"paused":window.mathlive.readAloudAudio.ended?"ready":"playing":"ready"):"unavailable"},pauseReadAloud:function(){window&&(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio&&(window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"paused"),window.mathlive.readAloudAudio.pause()))},resumeReadAloud:function(){window&&(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio&&(window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()))},playReadAloud:function(e,t){if(window&&(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio)){let i=0;if(window.mathlive.readAloudFinalToken=null,e){window.mathlive.readAloudMarks=window.mathlive.readAloudMarks||[];for(const t of window.mathlive.readAloudMarks)t.value===e&&(i=t.time/1e3);let s=window.mathlive.readAloudTokens.indexOf(e);s>=0&&(s+=t,s<window.mathlive.readAloudTokens.length&&(window.mathlive.readAloudFinalToken=s))}window.mathlive.readAloudAudio.currentTime=i,window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}}}},e.exports=s()},function(e,t,i){"use strict";i.r(t);var s=i(0),a=i.n(s),r=i(1),o=i.n(r),n=i(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=u(e);if(t){var a=u(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return p(this,i)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,i,s,r=m(o);function o(){return c(this,o),r.apply(this,arguments)}return t=o,(i=[{key:"render",value:function(){var e=this.props,t=e.id,i=e.label,s=e.latex,r=e.setProps;return a.a.createElement("div",{id:t},"ExampleComponent 2: ",i,"",a.a.createElement(n.MathFieldComponent,{latex:s,onChange:function(e){return r({latex:e})}}))}}])&&h(t.prototype,i),s&&h(t,s),o}(s.Component);f.defaultProps={},f.propTypes={id:o.a.string,label:o.a.string.isRequired,latex:o.a.string,setProps:o.a.func},i.d(t,"MathLiveComponent",(function(){return f}))}]);
//# sourceMappingURL=mathlive_component.min.js.map